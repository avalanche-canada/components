module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=626)}([function(e,t){e.exports=require("react")},function(e,t,r){var n=r(167),a=r(330),i=r(336);e.exports=function(e,t){if(null==e)return{};var r,o,s=i(e,t);if(a){var l=a(e);for(o=0;o<l.length;o++)r=l[o],n(t).call(t,r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},function(e,t,r){var n=r(343);function a(){return e.exports=a=n||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}e.exports=a},function(e,t,r){var n=r(221),a=r(355),i=r(226);e.exports=function(e,t){return n(e)||a(e,t)||i()}},function(e,t,r){e.exports=r(346)},function(e,t,r){var n=r(243);e.exports=function(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){e.exports=r(341)()},function(e,t,r){e.exports=r(372)},function(e,t,r){e.exports=r(368)},function(e,t,r){"use strict";var n=r(30),a=r(109).f,i=r(206),o=r(21),s=r(38),l=r(55),u=r(46),c=function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,p,h,f,d,y,v,m,g=e.target,_=e.global,x=e.stat,b=e.proto,w=_?n:x?n[g]:(n[g]||{}).prototype,M=_?o:o[g]||(o[g]={}),E=M.prototype;for(h in t)r=!i(_?h:g+(x?".":"#")+h,e.forced)&&w&&u(w,h),d=M[h],r&&(y=e.noTargetGet?(m=a(w,h))&&m.value:w[h]),f=r&&y?y:t[h],r&&typeof d==typeof f||(v=e.bind&&r?s(f,n):e.wrap&&r?c(f):b&&"function"==typeof f?s(Function.call,f):f,(e.sham||f&&f.sham||d&&d.sham)&&l(v,"sham",!0),M[h]=v,b&&(u(o,p=g+"Prototype")||l(o,p,{}),o[p][h]=f,e.real&&E&&!E[h]&&l(E,h,f)))}},function(e,t,r){e.exports=r(322)},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){e.exports=r(465)},function(e,t,r){e.exports=r(404)},function(e,t,r){e.exports=r(400)},function(e,t,r){e.exports=r(409)},function(e,t,r){e.exports=r(412)},function(e,t,r){e.exports=r(367)},function(e,t,r){var n=r(490),a=r(266),i=36e5,o=6e4,s=2,l=/[T ]/,u=/:/,c=/^(\d{2})$/,p=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],h=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,y=/^-?(\d{3})$/,v=/^-?(\d{2})-?(\d{2})$/,m=/^-?W(\d{2})$/,g=/^-?W(\d{2})-?(\d{1})$/,_=/^(\d{2}([.,]\d*)?)$/,x=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/([Z+-].*)$/,M=/^(Z)$/,E=/^([+-])(\d{2})$/,S=/^([+-])(\d{2}):?(\d{2})$/;function T(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var a=7*t+r+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+a),n}e.exports=function(e,t){if(a(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var r=(t||{}).additionalDigits;r=null==r?s:Number(r);var C=function(e){var t,r={},n=e.split(l);u.test(n[0])?(r.date=null,t=n[0]):(r.date=n[0],t=n[1]);if(t){var a=w.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(e),I=function(e,t){var r,n=p[t],a=f[t];if(r=h.exec(e)||a.exec(e)){var i=r[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(r=c.exec(e)||n.exec(e)){var o=r[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(C.date,r),A=I.year,k=function(e,t){if(null===t)return null;var r,n,a,i;if(0===e.length)return(n=new Date(0)).setUTCFullYear(t),n;if(r=d.exec(e))return n=new Date(0),a=parseInt(r[1],10)-1,n.setUTCFullYear(t,a),n;if(r=y.exec(e)){n=new Date(0);var o=parseInt(r[1],10);return n.setUTCFullYear(t,0,o),n}if(r=v.exec(e)){n=new Date(0),a=parseInt(r[1],10)-1;var s=parseInt(r[2],10);return n.setUTCFullYear(t,a,s),n}if(r=m.exec(e))return i=parseInt(r[1],10)-1,T(t,i);if(r=g.exec(e)){i=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return T(t,i,l)}return null}(I.restDateString,A);if(k){var L,D=k.getTime(),P=0;if(C.time&&(P=function(e){var t,r,n;if(t=_.exec(e))return(r=parseFloat(t[1].replace(",",".")))%24*i;if(t=x.exec(e))return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),r%24*i+n*o;if(t=b.exec(e)){r=parseInt(t[1],10),n=parseInt(t[2],10);var a=parseFloat(t[3].replace(",","."));return r%24*i+n*o+1e3*a}return null}(C.time)),C.timezone)L=function(e){var t,r;if(t=M.exec(e))return 0;if(t=E.exec(e))return r=60*parseInt(t[2],10),"+"===t[1]?-r:r;if(t=S.exec(e))return r=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-r:r;return 0}(C.timezone)*o;else{var z=D+P,O=new Date(z);L=n(O);var N=new Date(z);N.setDate(O.getDate()+1);var j=n(N)-n(O);j>0&&(L+=j)}return new Date(D+P+L)}return new Date(e)}},function(e,t,r){e.exports=r(395)},function(e,t,r){e.exports=r(397)},function(e,t){e.exports={}},function(e,t,r){var n=r(37);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){e.exports=r(457)},function(e,t,r){e.exports=r(375)},function(e,t,r){e.exports={MatchParent:"_2t0t",Flex:"_2NwY",FullWidth:"_3Kvy",Layout:"_3u2U",Navbar:"_23Bh","ItemSet--Container":"_1p3m",ItemSet:"_1uq4",Item:"_2Ccf","Item--isActive":"_3CUY _2Ccf","Burger--Container":"_1QtG",Burger:"_2Huc",Menu:"MVBF","Menu--inline":"_1MXU",Section:"_1ieS",Header:"_2M4F",Link:"_1QgJ",Headline:"_3rhx",UserProfile:"_13j9",Brand:"_1k2P _1QgJ"}},function(e,t,r){var n=r(30),a=r(135),i=r(136),o=r(207),s=n.Symbol,l=a("wks");e.exports=function(e){return l[e]||(l[e]=o&&s[e]||(o?s:i)("Symbol."+e))}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(22),a=r(227),i=r(60),o=r(38),s=r(141),l=r(228),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,c,p){var h,f,d,y,v,m,g,_=o(t,r,c?2:1);if(p)h=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(a(f)){for(d=0,y=i(e.length);y>d;d++)if((v=c?_(n(g=e[d])[0],g[1]):_(e[d]))&&v instanceof u)return v;return new u(!1)}h=f.call(e)}for(m=h.next;!(g=m.call(h)).done;)if("object"==typeof(v=l(h,_,g.value,c))&&v&&v instanceof u)return v;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r(108))},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){var n=r(21);e.exports=function(e){return n[e+"Prototype"]}},function(e,t,r){var n=r(21),a=r(46),i=r(174),o=r(47).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(461),a=r(249),i=r(464);e.exports=function(e){return n(e)||a(e)||i()}},function(e,t,r){e.exports=r(489)},function(e,t,r){var n=r(28);e.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(31);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){e.exports=r(495)},function(e,t,r){e.exports=r(384)},function(e,t,r){e.exports=r(566)},function(e,t,r){e.exports=r(491)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){e.exports={Entry:"QatO","Entry--Featured":"_2BfX QatO",Content:"_2r27",Image:"_21KK",EntrySet:"_9oxv",Metadata:"_1Gqd"}},function(e,t,r){e.exports={Container:"_3t-j",Open:"GB7E",Drawer:"_2VB5","ItemSet--Container":"_19zP",Close:"_3YIC _1QtW",Toolbar:"_1_oB",ItemSet:"_2iTE",Item:"_1aaJ",Header:"_2q71 _1aaJ",Navigation:"_1QtW",Home:"_3nMe _1QtW"}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(36),a=r(205),i=r(22),o=r(133),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(110);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(21),a=r(30),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t){e.exports=function(){}},function(e,t,r){e.exports=r(350)},function(e,t,r){e.exports={MatchParent:"vnvh",Flex:"_2kzN",FullWidth:"JU4_",Common:"_3YM7",Disabled:"_20Wh",Primary:"_3ZPG _3YM7",Active:"hp_s","Primary--Active":"_1a2A _3ZPG _3YM7","Primary--Disabled":"_346Q _3ZPG _3YM7 _20Wh",Secondary:"_1ACb _3YM7",Tertiary:"_2w96 _3YM7",Incognito:"_1o-U _3YM7",Subtile:"_3ffs _3YM7",Large:"_3HxH",ChevronRight:"_2ObL",ChevronLeft:"_2eGa",Chevron:"sQ_E _2ObL",Close:"_2NK5",Set:"_1AtB",Shadow:"_1I9G"}},function(e,t,r){e.exports={MatchParent:"_2VMC",Flex:"_2Ldt",FullWidth:"_12S1",HeaderSet:"_3KeH",Header:"_3-RU","Header--isActive":"_1fX7","Header--Disabled":"_2az1","Header--Arrow":"_2ATs",Panel:"zPYe","HeaderSet--Stacked":"_2QCk","HeaderSet--Expanded":"_2Fcg","HeaderSet--Compact":"_30JQ","HeaderSet--Loose":"_3FNH"}},function(e,t,r){e.exports={Page:"_1aVP",Screen:"_3wKM",Error:"_2qX6",UnsupportedMap:"_2Ka7 _2qX6",Link:"_1OQk undefined _3HxH undefined _3ZPG _3YM7"}},function(e,t,r){var n=r(36),a=r(47),i=r(82);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){e.exports={Day:"_2OyH",Title:"_157T undefined p-oG _2dZu",Row:"_3F6q",Elevation:"-T-h undefined _2C4X _2dZu",Rating:"_38tM undefined _2C4X _2dZu",Condition:"_1_DL undefined _2Net",ConditionHeader:"_2EeS undefined p-oG _2dZu",ConditionIcon:"_3JlT",ConditionContent:"_2CJF"}},function(e,t,r){e.exports={RestrictFullPageWidth:"_1ikM",Content:"_2aRL _1ikM",Main:"_3X7P",Banner:"_3wHp",Article:"_3HbV",Header:"_1W0s _1ikM undefined _2ROJ undefined _2ldK",Heading:"_3k_x",Headline:"_3PVv",Section:"_2n7H",Aside:"_1lCe",List:"_3FqH"}},function(e,t,r){var n=r(132),a=r(110);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(134),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(27),a=r(179);e.exports=n?a:function(e){return Map.prototype.entries.call(e)}},function(e,t,r){e.exports=r(510)},function(e,t,r){e.exports=r(557)},function(e,t,r){var n=r(47).f,a=r(55),i=r(46),o=r(333),s=r(26)("toStringTag"),l=o!=={}.toString;e.exports=function(e,t,r,u){if(e){var c=r?e:e.prototype;i(c,s)||n(c,s,{configurable:!0,value:t}),u&&l&&a(c,"toString",o)}}},function(e,t,r){var n,a,i,o=r(334),s=r(30),l=r(37),u=r(55),c=r(46),p=r(139),h=r(114),f=s.WeakMap;if(o){var d=new f,y=d.get,v=d.has,m=d.set;n=function(e,t){return m.call(d,e,t),t},a=function(e){return y.call(d,e)||{}},i=function(e){return v.call(d,e)}}else{var g=p("state");h[g]=!0,n=function(e,t){return u(e,g,t),t},a=function(e){return c(e,g)?e[g]:{}},i=function(e){return c(e,g)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){r(115);var n=r(357),a=r(30),i=r(55),o=r(89),s=r(26)("toStringTag");for(var l in n){var u=a[l],c=u&&u.prototype;c&&!c[s]&&i(c,s,l),o[l]=o.Array}},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r(108))},function(e,t,r){var n=r(243);function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),n(e,a.key,a)}}e.exports=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}},function(e,t,r){var n=r(385);function a(e,t,r,a,i,o,s){try{var l=e[o](s),u=l.value}catch(e){return void r(e)}l.done?t(u):n.resolve(u).then(a,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new n((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)}))}}},function(e,t,r){e.exports=r(556)},function(e,t,r){e.exports={List:"_2CJ6",Inline:"_3kuo",Child:"_2WSN",Condensed:"vSJ7",Bordered:"_1SWP",Block:"_11mH",Definition:"_1UDs _2WSN",Term:"_3Jzr _2WSN"}},function(e,t,r){e.exports={Border:"X7Jm",Headline:"_2mUS",SubHeader:"_1LWj",Section:"_1b3d",SectionHeader:"_2w2K _1LWj",SubSection:"_3IUa",SubSectionHeader:"_3Nst _1LWj",SubSection__Content:"_3p33",Summary:"_2P78",Footer:"_1nuX",Container:"_1EUG",Header:"_2ByJ",Figure:"_2dLX",Half:"_6e8v",Quarter:"_292D",Comment:"_2Gw3 _3IUa",Advice:"_1kUV _3IUa"}},function(e,t,r){"use strict";var n=r(224).charAt,a=r(65),i=r(176),o=a.set,s=a.getterFor("String Iterator");i(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=n(r,a),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){e.exports=r(377)},function(e,t,r){e.exports=r(590)},function(e,t,r){e.exports={Muted:"_2Xre",Initial:"_3dOv",Loading:"_22K2",Error:"_33EV",Helper:"_1_WQ",Warning:"_3bZy"}},function(e,t,r){e.exports={Container:"_1lIC",Content:"VlM1 undefined _1ikM",Nav:"_3opD",Link:"_2eFd",Rights:"_1GrO"}},function(e,t,r){e.exports={Alert:"_3ENh",Content:"_2D6A",OneLiner:"_15Qv",Close:"_1Cq4",Danger:"Rhiu _3ENh",Info:"_1rQD _3ENh",Warning:"_275T _3ENh",Success:"nM_W _3ENh"}},function(e,t,r){e.exports={Metadata:"_3cki",Entry:"_3OoK",Horizontal:"_3NCP",Description:"POVe",Term:"_2kIf",Toggleable:"_1lF1",ShareEntryItem:"_1Zgu"}},function(e,t,r){e.exports={Form:"_1wJL undefined _1ikM",Fieldset:"_2T9x",Legend:"XhVe",ControlSet:"_1awe",Control:"_1Tl0","ControlSet--Horizontal":"_sOF _1awe","Control--Horizontal":"_1Rqf _1Tl0",Border:"SynH"}},function(e,t,r){e.exports={Container:"_2Yg4",Content:"_3_Kw",Header:"_1iZq",Name:"PpKE",Title:"_1bR8",Media:"_3Ku3",Address:"vFnp"}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(83);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(22),a=r(170),i=r(171),o=r(114),s=r(213),l=r(165),u=r(139)("IE_PROTO"),c=function(){},p=function(){var e,t=l("iframe"),r=i.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),p=e.F;r--;)delete p.prototype[i[r]];return p()};e.exports=Object.create||function(e,t){var r;return null!==e?(c.prototype=n(e),r=new c,c.prototype=null,r[u]=e):r=p(),void 0===t?r:a(r,t)},o[u]=!0},function(e,t,r){var n=r(55);e.exports=function(e,t,r,a){a&&a.enumerable?e[t]=r:n(e,t,r)}},function(e,t,r){var n=r(83),a=r(26)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(38),a=r(132),i=r(48),o=r(60),s=r(166),l=[].push,u=function(e){var t=1==e,r=2==e,u=3==e,c=4==e,p=6==e,h=5==e||p;return function(f,d,y,v){for(var m,g,_=i(f),x=a(_),b=n(d,y,3),w=o(x.length),M=0,E=v||s,S=t?E(f,w):r?E(f,0):void 0;w>M;M++)if((h||M in x)&&(g=b(m=x[M],M,_),e))if(t)S[M]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return M;case 2:l.call(S,m)}else if(c)return!1;return p?-1:u||c?c:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t){e.exports={}},function(e,t,r){"use strict";function n(e){return new Date(e.getTime())}function a(e){return e instanceof Date&&!isNaN(e.valueOf())}function i(e,t){var r=n(e);return r.setMonth(e.getMonth()+t),r}function o(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function s(e,t){return!(!e||!t)&&(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function l(e,t){return n(e).setHours(0,0,0,0)<n(t).setHours(0,0,0,0)}function u(e,t){return n(e).setHours(0,0,0,0)>n(t).setHours(0,0,0,0)}function c(e){var t=new Date;return t.setHours(0,0,0,0),l(e,t)}function p(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function h(e,t,r){var a=n(e);return a.setHours(0,0,0,0),u(a,t)&&l(a,r)||u(a,r)&&l(a,t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},r=t.from,n=t.to;return r?r&&n&&o(r,n)&&o(e,r)?(r=null,n=null):n&&l(e,r)?r=e:n&&o(e,n)?(r=e,n=e):l(n=e,r)&&(n=r,r=e):r=e,{from:r,to:n}}function d(e,t){var r=t.from,n=t.to;return r&&o(e,r)||n&&o(e,n)||r&&n&&h(e,r,n)}function y(e){var t=n(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=n,t.isDate=a,t.addMonths=i,t.isSameDay=o,t.isSameMonth=s,t.isDayBefore=l,t.isDayAfter=u,t.isPastDay=c,t.isFutureDay=p,t.isDayBetween=h,t.addDayToRange=f,t.isDayInRange=d,t.getWeekNumber=y,t.default={addDayToRange:f,addMonths:i,clone:n,getWeekNumber:y,isDate:a,isDayAfter:u,isDayBefore:l,isDayBetween:h,isDayInRange:d,isFutureDay:p,isPastDay:c,isSameDay:o,isSameMonth:s}},function(e,t,r){e.exports=r(356)},function(e,t,r){var n=r(511),a=r(270);function i(t){return e.exports=i=a?n:function(e){return e.__proto__||n(e)},i(t)}e.exports=i},function(e,t,r){var n=r(500),a=r(503),i=r(268),o=r(18),s=r(506),l=r(269);var u={M:function(e){return e.getMonth()+1},MM:function(e){return h(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return h(e.getDate(),2)},DDD:function(e){return n(e)},DDDD:function(e){return h(n(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return a(e)},WW:function(e){return h(a(e),2)},YY:function(e){return h(e.getFullYear(),4).substr(2)},YYYY:function(e){return h(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return h(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return h(u.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return h(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return h(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return h(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return h(e.getMilliseconds(),3)},Z:function(e){return p(e.getTimezoneOffset(),":")},ZZ:function(e){return p(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function c(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function p(e,t){t=t||"";var r=e>0?"-":"+",n=Math.abs(e),a=n%60;return r+h(Math.floor(n/60),2)+t+h(a,2)}function h(e,t){for(var r=Math.abs(e).toString();r.length<t;)r="0"+r;return r}e.exports=function(e,t,r){var n=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",a=(r||{}).locale,i=l.format.formatters,p=l.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(i=a.format.formatters,a.format.formattingTokensRegExp&&(p=a.format.formattingTokensRegExp));var h=o(e);return s(h)?function(e,t,r){var n,a,i=e.match(r),o=i.length;for(n=0;n<o;n++)a=t[i[n]]||u[i[n]],i[n]=a||c(i[n]);return function(e){for(var t="",r=0;r<o;r++)i[r]instanceof Function?t+=i[r](e,u):t+=i[r];return t}}(n,i,p)(h):"Invalid Date"}},function(e,t,r){e.exports=r(605)},function(e,t,r){var n=r(221),a=r(249),i=r(226);e.exports=function(e){return n(e)||a(e)||i()}},,function(e,t,r){e.exports=r(420)},function(e,t,r){var n=r(124),a=r(43);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}},function(e,t,r){var n=r(271),a=r(185);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=n(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},function(e,t,r){e.exports={Border:"_1PuX",Headline:"_3yRd",SubHeader:"_2dZu",Section:"_2Net",SectionHeader:"p-oG _2dZu",SubSection:"_1F0_",SubSectionHeader:"_2C4X _2dZu",SubSection__Content:"_1Klp",Summary:"_2r8J",Footer:"_3bnd"}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,a,i,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,i,o,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,r){e.exports=r(360)},function(e,t){function r(e,t,r,n){var a,i=null==(a=n)||"number"==typeof a||"boolean"==typeof a?n:r(n),o=t.get(i);return void 0===o&&(o=e.call(this,n),t.set(i,o)),o}function n(e,t,r){var n=Array.prototype.slice.call(arguments,3),a=r(n),i=t.get(a);return void 0===i&&(i=e.apply(this,n),t.set(a,i)),i}function a(e,t,r,n,a){return r.bind(t,e,n,a)}function i(e,t){return a(e,this,1===e.length?r:n,t.cache.create(),t.serializer)}function o(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new s}};e.exports=function(e,t){var r=t&&t.cache?t.cache:l,n=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:i)(e,{cache:r,serializer:n})},e.exports.strategies={variadic:function(e,t){return a(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,t){return a(e,this,r,t.cache.create(),t.serializer)}}},function(e,t,r){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),a=r.length;if(n.length!==a)return!1;for(var i=0;i<a;i++){var o=r[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=n(e),a=Number(t);return r.setDate(r.getDate()+a),r}},function(e,t,r){e.exports={Sidebar:"_1AYP undefined _1Qma",Header:"_3GrT",Item:"CfOA",SocialItem:"_3rsz CfOA",Label:"_1rjJ"}},function(e,t,r){e.exports={Container:"_2VlT",Banner:"_15p4",Biography:"_1ygX",Avatar:"_3syN",Content:"_2inK"}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(36),a=r(131),i=r(82),o=r(59),s=r(133),l=r(46),u=r(205),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){"use strict";var n=r(133),a=r(47),i=r(82);e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},function(e,t,r){"use strict";var n=r(28);e.exports=function(e,t){var r=[][e];return!r||!n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){var n=r(212),a=r(171);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(59),a=r(116),i=r(89),o=r(65),s=r(176),l=o.set,u=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(22),a=r(31),i=r(26)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},function(e,t,r){"use strict";var n=r(31),a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},function(e,t,r){var n=r(121);e.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.SPACE=32,t.ESC=27,t.TAB=9},function(e,t,r){var n=r(432),a=r(435);function i(e){return(i="function"==typeof a&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof a&&"symbol"===i(n)?e.exports=o=function(e){return i(e)}:e.exports=o=function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":i(e)},o(t)}e.exports=o},function(e,t,r){e.exports=r(460)},function(e,t,r){e.exports={Common:"_2ERI",WithBorder:"_3_L7",Native:"_1ZQp",Input:"_2MlD _1ZQp _2ERI",WithIcon:"qAaf",CloseState:"_1rv0 qAaf",Holder:"_3Zfo",Placeholder:"_1w36 _3Zfo",Valueholder:"_2OeR _3Zfo","Holder--Content":"_1xU7",Group:"YE5R",Addon:"_2uYw","Addon--Left":"_2h6S _2uYw","Addon--Right":"_1tNI _2uYw"}},function(e,t,r){e.exports={Container:"_3b3R",Segment:"XnBp undefined _3ZPG _3YM7","Segment--Active":"_3NR_ XnBp undefined _3ZPG _3YM7 undefined _1a2A _3ZPG _3YM7",Disabled:"_3sTV XnBp undefined _3ZPG _3YM7 undefined _346Q _3ZPG _3YM7 _20Wh"}},function(e,t){e.exports=function(e){return e}},function(e,t,r){e.exports={Credit:"GvT1",Compact:"_2dXd",Expanded:"_3GFP",Top:"_3Est"}},function(e,t,r){e.exports={Responsive:"_5Ywf",PageSizeSelector:"_1psN",FlexContentCell:"_122e",ControlledRow:"_12Y3"}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!n.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(28),a=r(83),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(37);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(27),a=r(325);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.4",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(28),a=r(26),i=r(208),o=a("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){var n=r(49);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(135),a=r(136),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t,r){var n=r(46),a=r(48),i=r(139),o=r(219),s=i("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,r){var n=r(87),a=r(89),i=r(26)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t){},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(120),a=r(257),i=r(252);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDay=o,t.formatMonthTitle=s,t.formatWeekdayShort=l,t.formatWeekdayLong=u,t.getFirstDayOfWeek=c,t.getMonths=p;var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(e){return e.toDateString()}function s(e){return i[e.getMonth()]+" "+e.getFullYear()}function l(e){return a[e]}function u(e){return n[e]}function c(){return 0}function p(){return i}t.default={formatDay:o,formatMonthTitle:s,formatWeekdayShort:l,formatWeekdayLong:u,getFirstDayOfWeek:c,getMonths:p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:"DayPicker",wrapper:"DayPicker-wrapper",interactionDisabled:"DayPicker--interactionDisabled",months:"DayPicker-Months",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",navButtonInteractionDisabled:"DayPicker-NavButton--interactionDisabled",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.cancelEvent=function(e){e.preventDefault(),e.stopPropagation()},t.getFirstDayOfMonth=u,t.getDaysInMonth=c,t.getModifiersFromProps=function(e){var t=n({},e.modifiers);e.selectedDays&&(t[e.classNames.selected]=e.selectedDays);e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays);return t},t.getFirstDayOfWeekFromProps=function(e){var t=e.firstDayOfWeek,r=e.locale,n=void 0===r?"en":r,a=e.localeUtils,i=void 0===a?{}:a;if(!isNaN(t))return t;if(i.getFirstDayOfWeek)return i.getFirstDayOfWeek(n);return 0},t.isRangeOfDates=function(e){return!!(e&&e.from&&e.to)},t.getMonthsDiff=function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},t.getWeekArray=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.getFirstDayOfWeek)(),r=arguments[2],n=c(e),a=[],s=[],l=[],u=1;u<=n;u+=1)a.push(new Date(e.getFullYear(),e.getMonth(),u,12));a.forEach((function(e){s.length>0&&e.getDay()===t&&(l.push(s),s=[]),s.push(e),a.indexOf(e)===a.length-1&&l.push(s)}));for(var p=l[0],h=7-p.length;h>0;h-=1){var f=(0,i.clone)(p[0]);f.setDate(p[0].getDate()-1),p.unshift(f)}for(var d=l[l.length-1],y=d.length;y<7;y+=1){var v=(0,i.clone)(d[d.length-1]);v.setDate(d[d.length-1].getDate()+1),d.push(v)}if(r&&l.length<6)for(var m=void 0,g=l.length;g<6;g+=1){for(var _=(m=l[l.length-1])[m.length-1],x=[],b=0;b<7;b+=1){var w=(0,i.clone)(_);w.setDate(_.getDate()+b+1),x.push(w)}l.push(x)}return l},t.startOfMonth=function(e){var t=(0,i.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t},t.getDayNodes=function(e,t){var r=void 0;r=t===l.default?t.day+"--"+t.outside:""+t.outside;var n=t.day.replace(/ /g,"."),a=r.replace(/ /g,"."),i="."+n+":not(."+a+")";return e.querySelectorAll(i)},t.nodeListToArray=function(e){return Array.prototype.slice.call(e,0)},t.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var a,i=r(90),o=r(146),s=r(147),l=(a=s)&&a.__esModule?a:{default:a};function u(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function c(e){var t=u(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dayMatchesModifier=i,t.getModifiersForDay=o;var n=r(90),a=r(148);function i(e,t){return!!t&&(Array.isArray(t)?t:[t]).some((function(t){return!!t&&(t instanceof Date?(0,n.isSameDay)(e,t):(0,a.isRangeOfDates)(t)?(0,n.isDayInRange)(e,t):t.after&&t.before&&(0,n.isDayAfter)(t.before,t.after)?(0,n.isDayAfter)(e,t.after)&&(0,n.isDayBefore)(e,t.before):t.after&&t.before&&((0,n.isDayAfter)(t.after,t.before)||(0,n.isSameDay)(t.after,t.before))?(0,n.isDayAfter)(e,t.after)||(0,n.isDayBefore)(e,t.before):t.after?(0,n.isDayAfter)(e,t.after):t.before?(0,n.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some((function(t){return e.getDay()===t})):"function"==typeof t&&t(e))}))}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(r,n){var a=t[n];return i(e,a)&&r.push(n),r}),[])}t.default={dayMatchesModifier:i,getModifiersForDay:o}},function(e,t,r){e.exports=r(364)},function(e,t,r){var n=r(244),a=r(180),i="Expected a function";e.exports=function(e,t,r){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return a(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),n(e,t,{leading:o,maxWait:t,trailing:s})}},function(e,t,r){e.exports={low:"_2i7H",moderate:"_1bdN",considerable:"_3LJH",high:"_2O-H",extreme:"_3Bg_",norating:"_3vzy"}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return ye}));var n,a,i,o,s=r(6),l=r.n(s),u=r(289),c=r.n(u),p=r(290),h=r.n(p),f=r(0),d=r.n(f),y=r(291),v=r.n(y),m="bodyAttributes",g="htmlAttributes",_="titleAttributes",x={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},b=(Object.keys(x).map((function(e){return x[e]})),"charset"),w="cssText",M="href",E="http-equiv",S="innerHTML",T="itemprop",C="name",I="property",A="rel",k="src",L="target",D={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},P="defaultTitle",z="defer",O="encodeSpecialCharacters",N="onChangeClientState",j="titleTemplate",R=Object.keys(D).reduce((function(e,t){return e[D[t]]=t,e}),{}),F=[x.NOSCRIPT,x.SCRIPT,x.STYLE],B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},V=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},G=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Z=function(e){var t=J(e,x.TITLE),r=J(e,j);if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var n=J(e,P);return t||n||void 0},H=function(e){return J(e,N)||function(){}},Q=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return q({},e,t)}),{})},X=function(e,t){return t.filter((function(e){return void 0!==e[x.BASE]})).map((function(e){return e[x.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),a=0;a<n.length;a++){var i=n[a].toLowerCase();if(-1!==e.indexOf(i)&&r[i])return t.concat(r)}return t}),[])},K=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&ne("Helmet: "+e+' should be of type "Array". Instead found type "'+B(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var a={};r.filter((function(e){for(var r=void 0,i=Object.keys(e),o=0;o<i.length;o++){var s=i[o],l=s.toLowerCase();-1===t.indexOf(l)||r===A&&"canonical"===e[r].toLowerCase()||l===A&&"stylesheet"===e[l].toLowerCase()||(r=l),-1===t.indexOf(s)||s!==S&&s!==w&&s!==T||(r=s)}if(!r||!e[r])return!1;var u=e[r].toLowerCase();return n[r]||(n[r]={}),a[r]||(a[r]={}),!n[r][u]&&(a[r][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],l=v()({},n[s],a[s]);n[s]=l}return e}),[]).reverse()},J=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},$=(n=Date.now(),function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout((function(){$(e)}),0)}),ee=function(e){return clearTimeout(e)},te="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||$:e.requestAnimationFrame||$,re="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ee:e.cancelAnimationFrame||ee,ne=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},ae=null,ie=function(e,t){var r=e.baseTag,n=e.bodyAttributes,a=e.htmlAttributes,i=e.linkTags,o=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,u=e.scriptTags,c=e.styleTags,p=e.title,h=e.titleAttributes;le(x.BODY,n),le(x.HTML,a),se(p,h);var f={baseTag:ue(x.BASE,r),linkTags:ue(x.LINK,i),metaTags:ue(x.META,o),noscriptTags:ue(x.NOSCRIPT,s),scriptTags:ue(x.SCRIPT,u),styleTags:ue(x.STYLE,c)},d={},y={};Object.keys(f).forEach((function(e){var t=f[e],r=t.newTags,n=t.oldTags;r.length&&(d[e]=r),n.length&&(y[e]=f[e].oldTags)})),t&&t(),l(e,d,y)},oe=function(e){return Array.isArray(e)?e.join(""):e},se=function(e,t){void 0!==e&&document.title!==e&&(document.title=oe(e)),le(x.TITLE,t)},le=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute("data-react-helmet"),a=n?n.split(","):[],i=[].concat(a),o=Object.keys(t),s=0;s<o.length;s++){var l=o[s],u=t[l]||"";r.getAttribute(l)!==u&&r.setAttribute(l,u),-1===a.indexOf(l)&&a.push(l);var c=i.indexOf(l);-1!==c&&i.splice(c,1)}for(var p=i.length-1;p>=0;p--)r.removeAttribute(i[p]);a.length===i.length?r.removeAttribute("data-react-helmet"):r.getAttribute("data-react-helmet")!==o.join(",")&&r.setAttribute("data-react-helmet",o.join(","))}},ue=function(e,t){var r=document.head||document.querySelector(x.HEAD),n=r.querySelectorAll(e+"[data-react-helmet]"),a=Array.prototype.slice.call(n),i=[],o=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n))if(n===S)r.innerHTML=t.innerHTML;else if(n===w)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var s=void 0===t[n]?"":t[n];r.setAttribute(n,s)}r.setAttribute("data-react-helmet","true"),a.some((function(e,t){return o=t,r.isEqualNode(e)}))?a.splice(o,1):i.push(r)})),a.forEach((function(e){return e.parentNode.removeChild(e)})),i.forEach((function(e){return r.appendChild(e)})),{oldTags:a,newTags:i}},ce=function(e){return Object.keys(e).reduce((function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[D[r]||r]=e[r],t}),t)},he=function(e,t,r){switch(e){case x.TITLE:return{toComponent:function(){return e=t.title,r=t.titleAttributes,(n={key:e})["data-react-helmet"]=!0,a=pe(r,n),[d.a.createElement(x.TITLE,a,e)];var e,r,n,a},toString:function(){return function(e,t,r,n){var a=ce(r),i=oe(t);return a?"<"+e+' data-react-helmet="true" '+a+">"+Y(i,n)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Y(i,n)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case m:case g:return{toComponent:function(){return pe(t)},toString:function(){return ce(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var n,a=((n={key:r})["data-react-helmet"]=!0,n);return Object.keys(t).forEach((function(e){var r=D[e]||e;if(r===S||r===w){var n=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:n}}else a[r]=t[e]})),d.a.createElement(e,a)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,n){var a=Object.keys(n).filter((function(e){return!(e===S||e===w)})).reduce((function(e,t){var a=void 0===n[t]?t:t+'="'+Y(n[t],r)+'"';return e?e+" "+a:a}),""),i=n.innerHTML||n.cssText||"",o=-1===F.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+a+(o?"/>":">"+i+"</"+e+">")}),"")}(e,t,r)}}}},fe=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,a=e.htmlAttributes,i=e.linkTags,o=e.metaTags,s=e.noscriptTags,l=e.scriptTags,u=e.styleTags,c=e.title,p=void 0===c?"":c,h=e.titleAttributes;return{base:he(x.BASE,t,n),bodyAttributes:he(m,r,n),htmlAttributes:he(g,a,n),link:he(x.LINK,i,n),meta:he(x.META,o,n),noscript:he(x.NOSCRIPT,s,n),script:he(x.SCRIPT,l,n),style:he(x.STYLE,u,n),title:he(x.TITLE,{title:p,titleAttributes:h},n)}},de=c()((function(e){return{baseTag:X([M,L],e),bodyAttributes:Q(m,e),defer:J(e,z),encode:J(e,O),htmlAttributes:Q(g,e),linkTags:K(x.LINK,[A,M],e),metaTags:K(x.META,[C,b,E,I,T],e),noscriptTags:K(x.NOSCRIPT,[S],e),onChangeClientState:H(e),scriptTags:K(x.SCRIPT,[k,S],e),styleTags:K(x.STYLE,[w],e),title:Z(e),titleAttributes:Q(_,e)}}),(function(e){ae&&re(ae),e.defer?ae=te((function(){ie(e,(function(){ae=null}))})):(ie(e),ae=null)}),fe)((function(){return null})),ye=(a=de,o=i=function(e){function t(){return U(this,t),G(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!h()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case x.SCRIPT:case x.NOSCRIPT:return{innerHTML:t};case x.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,a=e.newChildProps,i=e.nestedChildren;return q({},n,((t={})[r.type]=[].concat(n[r.type]||[],[q({},a,this.mapNestedChildrenToProps(r,i))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,a=e.newProps,i=e.newChildProps,o=e.nestedChildren;switch(n.type){case x.TITLE:return q({},a,((t={})[n.type]=o,t.titleAttributes=q({},i),t));case x.BODY:return q({},a,{bodyAttributes:q({},i)});case x.HTML:return q({},a,{htmlAttributes:q({},i)})}return q({},a,((r={})[n.type]=q({},i),r))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=q({},t);return Object.keys(e).forEach((function(t){var n;r=q({},r,((n={})[t]=e[t],n))})),r},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var r=this,n={};return d.a.Children.forEach(e,(function(e){if(e&&e.props){var a=e.props,i=a.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[R[r]||r]=e[r],t}),t)}(W(a,["children"]));switch(r.warnOnInvalidChildren(e,i),e.type){case x.LINK:case x.META:case x.NOSCRIPT:case x.SCRIPT:case x.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:o,nestedChildren:i});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:i})}}})),t=this.mapArrayTypeChildrenToProps(n,t)},t.prototype.render=function(){var e=this.props,t=e.children,r=W(e,["children"]),n=q({},r);return t&&(n=this.mapChildrenToProps(t,n)),d.a.createElement(a,n)},V(t,null,[{key:"canUseDOM",set:function(e){a.canUseDOM=e}}]),t}(d.a.Component),i.propTypes={base:l.a.object,bodyAttributes:l.a.object,children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]),defaultTitle:l.a.string,defer:l.a.bool,encodeSpecialCharacters:l.a.bool,htmlAttributes:l.a.object,link:l.a.arrayOf(l.a.object),meta:l.a.arrayOf(l.a.object),noscript:l.a.arrayOf(l.a.object),onChangeClientState:l.a.func,script:l.a.arrayOf(l.a.object),style:l.a.arrayOf(l.a.object),title:l.a.string,titleAttributes:l.a.object,titleTemplate:l.a.string},i.defaultProps={defer:!0,encodeSpecialCharacters:!0},i.peek=a.peek,i.rewind=function(){var e=a.rewind();return e||(e=fe({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},o);ye.renderStatic=ye.rewind}).call(this,r(108))},function(e,t,r){e.exports=r(570)},function(e){e.exports=JSON.parse('{"a":"https://avalancheca.cdn.prismic.io/api/v2"}')},function(e,t,r){e.exports=r(573)},function(e,t,r){e.exports=r(577)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI2MS4zNnB4IiBoZWlnaHQ9IjkwcHgiIHZpZXdCb3g9IjAgMCAyNjEuMzYgOTAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI2MS4zNiA5MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZmlsbD0iI0UzMUIyMyIgZD0iTTExOC4yMTgsNzIuMzE1Yy0xLjQ2MiwxLjU1Ni0zLjMwOCwyLjMzMy01LjUzNiwyLjMzM2MtMy4wODYsMC01LjQ2Ny0xLjE0OS03LjEzNy0zLjQ0OAoJCWMtMS40ODYtMS45OTUtMi4yMjktNC40OS0yLjIyOS03LjQ4N2MwLTIuOTkzLDAuNzQyLTUuNTAxLDIuMjI5LTcuNTJjMS42Ny0yLjI3NSw0LjA1MS0zLjQxMiw3LjEzNy0zLjQxMgoJCWMxLjg1NywwLDMuNDg3LDAuNTM0LDQuODkzLDEuNjAxYzEuNDA0LDEuMDY5LDIuMzE0LDIuNTQyLDIuNzMyLDQuNDI0aDIuMzY5Yy0wLjMwMi0yLjQ4My0xLjQ2NC00LjQ4LTMuNDgyLTUuOTkKCQljLTEuODU3LTEuMzY5LTQuMDI3LTIuMDUzLTYuNTEyLTIuMDUzYy0zLjczNiwwLTYuNjc0LDEuMzExLTguODA5LDMuOTM1Yy0xLjk1MSwyLjM5MS0yLjkyNSw1LjM5Ni0yLjkyNSw5LjAxNgoJCWMwLDMuNjIzLDAuOTc0LDYuNjMxLDIuOTI1LDkuMDJjMi4xMzUsMi42MjMsNS4wNzIsMy45MzUsOC44MDksMy45MzVjMi44NzksMCw1LjI0MS0wLjg5OSw3LjA4Ni0yLjY5OAoJCWMxLjg0Ni0xLjc5OSwyLjkzMi00LjIzMSwzLjI1Ni03LjI5NWgtMi4zNjdDMTIwLjQyMiw2OC45NzEsMTE5LjYxMSw3MC44NDksMTE4LjIxOCw3Mi4zMTV6Ii8+Cgk8cGF0aCBmaWxsPSIjRTMxQjIzIiBkPSJNMTM5LjkxMSw3Mi45NzV2LTkuNTM5YzAtMy44NTQtMi4yMDctNS43OC02LjYxNS01Ljc4Yy0yLjE2LDAtMy44NTQsMC40NzYtNS4wODQsMS40MjcKCQljLTEuMzcsMS4wNDUtMi4xMDIsMi41NzctMi4xOTUsNC41OThoMi4xOTVjMC4wNjktMi43ODYsMS42NzItNC4xOCw0LjgwNS00LjE4YzMuMTM1LDAsNC42OTksMS4yMzEsNC42OTksMy42OQoJCWMwLDAuOTA1LTAuMjQyLDEuNTM0LTAuNzMsMS44ODJjLTAuMzQ4LDAuMjU3LTEuMDQzLDAuNDQtMi4wODgsMC41NTZjLTMuNDE0LDAuMzk2LTUuNjIsMC44MDEtNi42MTcsMS4yMgoJCWMtMi4wMjEsMC44MTItMy4wMjgsMi4zMzEtMy4wMjgsNC41NjFjMCwxLjcxOCwwLjU5MiwzLjA0LDEuNzc1LDMuOTdjMS4wNjYsMC44NTYsMi40ODQsMS4yODgsNC4yNDksMS4yODgKCQljMS42MjUsMCwyLjk1OS0wLjMxNCw0LjAwNC0wLjkzOWMwLjg1Ny0wLjUzNCwxLjcwNS0xLjQ0LDIuNTQzLTIuNzE2aDAuMDY4YzAsMS4wNDUsMC4xNSwxLjc5OSwwLjQ1MywyLjI2MwoJCWMwLjM2OSwwLjU3OSwxLjA3OCwwLjg2OSwyLjEyMywwLjg2OWMwLjUxMiwwLDAuOTg2LTAuMDQ1LDEuNDI2LTAuMTM5di0xLjg0NmMtMC4yMywwLjA5NC0wLjQ2MywwLjE0MS0wLjY5MywwLjE0MQoJCUMxNDAuMzQsNzQuMjk5LDEzOS45MTEsNzMuODU3LDEzOS45MTEsNzIuOTc1eiBNMTM3LjcxNSw2OS4xNzljMCwxLjY5Ni0wLjYwNywzLjA2MS0xLjgyNiw0LjA5M3MtMi42OTksMS41NTEtNC40MzksMS41NTEKCQljLTEuMDY5LDAtMi4wMDItMC4zMzMtMi44MDMtMC45OTVjLTAuODAxLTAuNjYtMS4yMDEtMS41MTMtMS4yMDEtMi41NThjMC0xLjA2OCwwLjQ0MS0xLjkwMywxLjMyMi0yLjUwOAoJCWMwLjY5Ny0wLjQ0LDEuNzY0LTAuNzg4LDMuMjA0LTEuMDQ1YzEuMjc3LTAuMjA5LDIuNTU1LTAuNDA1LDMuODMtMC41OTJjMS4wNDMtMC4xODQsMS42Ni0wLjQ1MiwxLjg0Ni0wLjc5OWgwLjA2OFY2OS4xNzl6Ii8+Cgk8cGF0aCBmaWxsPSIjRTMxQjIzIiBkPSJNMTUyLjI3Miw1Ny42NTZjLTEuMjc3LDAtMi40NTUsMC4zMzgtMy41MzUsMS4wMDhjLTEuMDgsMC42NzYtMS44MTYsMS41NDUtMi4yMTEsMi42MTNoLTAuMDd2LTMuMDk5CgkJaC0yLjE5M3YxNy45NjVoMi4xOTNWNjUuNjY1YzAtMS43ODksMC41MTItMy4yNjIsMS41MzMtNC40MjJzMi4zOTEtMS43NDIsNC4xMDktMS43NDJjMy4wNDEsMCw0LjU1OSwxLjgxMiw0LjU1OSw1LjQzMnYxMS4yMTEKCQloMi4xOTV2LTExLjU2YzAtMi4yNzItMC40NjctMy45NjktMS4zOTMtNS4wODNDMTU2LjQxNSw1OC4yNzEsMTU0LjY4NCw1Ny42NTYsMTUyLjI3Miw1Ny42NTZ6Ii8+Cgk8cGF0aCBmaWxsPSIjRTMxQjIzIiBkPSJNMTc2LjY3OCw3Mi45NzV2LTkuNTM5YzAtMy44NTQtMi4yMDMtNS43OC02LjYxNS01Ljc4Yy0yLjE1OCwwLTMuODU0LDAuNDc2LTUuMDgyLDEuNDI3CgkJYy0xLjM3MSwxLjA0NS0yLjEwMiwyLjU3Ny0yLjE5Nyw0LjU5OGgyLjE5N2MwLjA2OC0yLjc4NiwxLjY2OC00LjE4LDQuODAzLTQuMThjMy4xMzMsMCw0LjY5OSwxLjIzMSw0LjY5OSwzLjY5CgkJYzAsMC45MDUtMC4yNDIsMS41MzQtMC43MjksMS44ODJjLTAuMzQ4LDAuMjU3LTEuMDQ1LDAuNDQtMi4wOSwwLjU1NmMtMy40MTQsMC4zOTYtNS42MTcsMC44MDEtNi42MTUsMS4yMgoJCWMtMi4wMjEsMC44MTItMy4wMjksMi4zMzEtMy4wMjksNC41NjFjMCwxLjcxOCwwLjU5MiwzLjA0LDEuNzc1LDMuOTdjMS4wNjYsMC44NTYsMi40ODQsMS4yODgsNC4yNDgsMS4yODgKCQljMS42MjUsMCwyLjk1Ny0wLjMxNCw0LjAwNC0wLjkzOWMwLjg1Ny0wLjUzNCwxLjcwNy0xLjQ0LDIuNTQzLTIuNzE2aDAuMDY4YzAsMS4wNDUsMC4xNSwxLjc5OSwwLjQ1MywyLjI2MwoJCWMwLjM2OSwwLjU3OSwxLjA3OCwwLjg2OSwyLjEyNSwwLjg2OWMwLjUwOCwwLDAuOTg0LTAuMDQ1LDEuNDI2LTAuMTM5di0xLjg0NmMtMC4yMzIsMC4wOTQtMC40NjUsMC4xNDEtMC42OTUsMC4xNDEKCQlDMTc3LjEwNiw3NC4yOTksMTc2LjY3OCw3My44NTcsMTc2LjY3OCw3Mi45NzV6IE0xNzQuNDgzLDY5LjE3OWMwLDEuNjk2LTAuNjA3LDMuMDYxLTEuODI2LDQuMDkzCgkJYy0xLjIyMSwxLjAzMi0yLjY5OSwxLjU1MS00LjQzOSwxLjU1MWMtMS4wNjgsMC0yLjAwMi0wLjMzMy0yLjgwMy0wLjk5NWMtMC44MDEtMC42Ni0xLjIwMS0xLjUxMy0xLjIwMS0yLjU1OAoJCWMwLTEuMDY4LDAuNDQxLTEuOTAzLDEuMzIyLTIuNTA4YzAuNjk3LTAuNDQsMS43NjQtMC43ODgsMy4yMDUtMS4wNDVjMS4yNzUtMC4yMDksMi41NTEtMC40MDUsMy44My0wLjU5MgoJCWMxLjA0My0wLjE4NCwxLjY1OC0wLjQ1MiwxLjg0NC0wLjc5OWgwLjA2OFY2OS4xNzl6Ii8+Cgk8cGF0aCBmaWxsPSIjRTMxQjIzIiBkPSJNMTk0LjY3OCw2MS41ODhoLTAuMDY4Yy0wLjQ2NS0xLjI1Mi0xLjI3MS0yLjIyMS0yLjQyLTIuOTA3Yy0xLjE0OC0wLjY4NC0yLjQyLTEuMDI1LTMuODE0LTEuMDI1CgkJYy0yLjU5OCwwLTQuNjI5LDAuOTUzLTYuMDksMi44NTRjLTEuMzI0LDEuNzItMS45ODYsMy45MzYtMS45ODYsNi42NTNjMCwyLjcxMywwLjY2Miw0LjkzMywxLjk4Niw2LjY0NwoJCWMxLjQ2MSwxLjkwMywzLjQ5MiwyLjg1Niw2LjA5LDIuODU2YzEuMzQ4LDAsMi42MzctMC4zNzIsMy44NjctMS4xMTNjMS4yMjktMC43NDMsMi4wNzYtMS42ODMsMi41NDEtMi44MjFoMC4wNjh2My40MTFoMi4wMjEKCQlWNTEuMjg0aC0yLjE5NVY2MS41ODh6IE0xOTMuMjg2LDcyLjM4M2MtMS4xMTMsMS42MjYtMi43NSwyLjQzOS00LjkxLDIuNDM5Yy0xLjk0OSwwLTMuNDQ1LTAuODEzLTQuNDktMi40MzkKCQljLTAuOTMtMS4zOTEtMS4zOTMtMy4xMzItMS4zOTMtNS4yMjFjMC0yLjA5LDAuNDYzLTMuODMxLDEuMzkzLTUuMjI0YzEuMDQ1LTEuNjI1LDIuNTQxLTIuNDM4LDQuNDktMi40MzgKCQljMi4xNiwwLDMuNzk3LDAuODEzLDQuOTEsMi40MzhjMC45MjgsMS4zNjksMS4zOTMsMy4xMSwxLjM5Myw1LjIyNEMxOTQuNjc4LDY5LjI3MywxOTQuMjEzLDcxLjAxNCwxOTMuMjg2LDcyLjM4M3oiLz4KCTxwYXRoIGZpbGw9IiNFMzFCMjMiIGQ9Ik0yMTYuMDIyLDc0LjI5OWMtMC44NTksMC0xLjI4Ny0wLjQ0Mi0xLjI4Ny0xLjMyNHYtOS41MzljMC0zLjg1NC0yLjIwNS01Ljc4LTYuNjE1LTUuNzgKCQljLTIuMTU4LDAtMy44NTUsMC40NzYtNS4wODQsMS40MjdjLTEuMzcxLDEuMDQ1LTIuMTAyLDIuNTc3LTIuMTk1LDQuNTk4aDIuMTk1YzAuMDctMi43ODYsMS42Ny00LjE4LDQuODA1LTQuMTgKCQljMy4xMzMsMCw0LjcwMSwxLjIzMSw0LjcwMSwzLjY5YzAsMC45MDUtMC4yNDQsMS41MzQtMC43MywxLjg4MmMtMC4zNSwwLjI1Ny0xLjA0NywwLjQ0LTIuMDksMC41NTYKCQljLTMuNDE0LDAuMzk2LTUuNjE5LDAuODAxLTYuNjE1LDEuMjJjLTIuMDIxLDAuODEyLTMuMDI5LDIuMzMxLTMuMDI5LDQuNTYxYzAsMS43MTgsMC41OTIsMy4wNCwxLjc3MywzLjk3CgkJYzEuMDY4LDAuODU2LDIuNDg2LDEuMjg4LDQuMjQ4LDEuMjg4YzEuNjI1LDAsMi45NjEtMC4zMTQsNC4wMDYtMC45MzljMC44NTctMC41MzQsMS43MDctMS40NCwyLjU0MS0yLjcxNmgwLjA2OAoJCWMwLDEuMDQ1LDAuMTUyLDEuNzk5LDAuNDU1LDIuMjYzYzAuMzY3LDAuNTc5LDEuMDc4LDAuODY5LDIuMTIzLDAuODY5YzAuNTEsMCwwLjk4Ni0wLjA0NSwxLjQyOC0wLjEzOXYtMS44NDYKCQlDMjE2LjQ4Nyw3NC4yNTIsMjE2LjI1NCw3NC4yOTksMjE2LjAyMiw3NC4yOTl6IE0yMTIuNTQyLDY5LjE3OWMwLDEuNjk2LTAuNjA5LDMuMDYxLTEuODI4LDQuMDkzcy0yLjY5OSwxLjU1MS00LjQzOSwxLjU1MQoJCWMtMS4wNjgsMC0yLjAwMi0wLjMzMy0yLjgwMy0wLjk5NWMtMC44MDMtMC42Ni0xLjIwMy0xLjUxMy0xLjIwMy0yLjU1OGMwLTEuMDY4LDAuNDQxLTEuOTAzLDEuMzI0LTIuNTA4CgkJYzAuNjk3LTAuNDQsMS43NjQtMC43ODgsMy4yMDMtMS4wNDVjMS4yNzctMC4yMDksMi41NTMtMC40MDUsMy44My0wLjU5MmMxLjA0NS0wLjE4NCwxLjY2LTAuNDUyLDEuODQ2LTAuNzk5aDAuMDdWNjkuMTc5eiIvPgo8L2c+CjxnPgoJPHBhdGggZmlsbD0iIzI0NUVBQyIgZD0iTTk5LjIxNSwxOC4zNThMODguMzQzLDQ1LjMxMmg0LjI5OWwzLjA1Ni03Ljg5MWgxMC40NzhsMy4wOTMsNy44OTFoNC4yODVsLTEwLjU3MS0yNi45NTRIOTkuMjE1egoJCSBNOTcuMDU5LDMzLjc4NWwzLjkxOC0xMC4wM2wzLjc4MSwxMC4wM0g5Ny4wNTl6Ii8+Cgk8cG9seWdvbiBmaWxsPSIjMjQ1RUFDIiBwb2ludHM9IjEyNS42NzEsMjUuMzk2IDEyMC41LDQwLjAzOCAxMTUuMjY1LDI1LjM5NiAxMTEuMDc2LDI1LjM5NiAxMTguNzU2LDQ1LjMxMiAxMjIuMjIzLDQ1LjMxMgoJCTEyOS42NzIsMjUuMzk2IAkiLz4KCTxwYXRoIGZpbGw9IiMyNDVFQUMiIGQ9Ik0xNDYuMDI2LDQxLjg1NGMtMC40MTYsMC0wLjUyNy0wLjA3LTAuNTI3LTAuNTY2VjMxLjU1YzAtMy4wNTEtMS4zMDktNi42ODgtNy41NDEtNi42ODgKCQljLTIuMzcxLDAtNC4yODEsMC41NDUtNS42NjgsMS42MTljLTEuNTg2LDEuMjA5LTIuNDQyLDIuOTg2LTIuNTQ3LDUuMjgybC0wLjAzOSwwLjgyMWgzLjgzMWwwLjAyLTAuNzY1CgkJYzAuMDYxLTIuNDIsMS4zMzItMy41LDQuMTE5LTMuNWMzLjU1NywwLDQuMDEyLDEuNTk0LDQuMDEyLDIuOThjMCwwLjY1My0wLjE0MSwxLjA4My0wLjQyNiwxLjI4NgoJCWMtMC4wODQsMC4wNjQtMC40NjMsMC4yNzktMS43NTYsMC40MjNjLTMuNTkyLDAuNDE1LTUuODcxLDAuODQtNi45NTcsMS4yOTVjLTIuMzQ2LDAuOTQzLTMuNTg2LDIuODA1LTMuNTg2LDUuMzg1CgkJYzAsMiwwLjcxMywzLjU3MiwyLjEwOCw0LjY2NmMxLjIyNywwLjk4NywyLjg1MiwxLjQ4OSw0LjgyOCwxLjQ4OWMxLjc5NSwwLDMuMzA3LTAuMzYsNC41MDItMS4wOAoJCWMwLjU3NC0wLjM1NiwxLjE0My0wLjg1NiwxLjY5OS0xLjQ5MmMwLjA5LDAuMzA1LDAuMjA3LDAuNTY1LDAuMzUyLDAuNzg3YzAuNTMzLDAuODI5LDEuNDg0LDEuMjUyLDIuODMyLDEuMjUyCgkJYzAuNTcyLDAsMS4xMTctMC4wNTYsMS42MTktMC4xNmwwLjYyMy0wLjEzMXYtMy42ODdsLTEuMDc4LDAuNDM2QzE0Ni4yOTksNDEuODI3LDE0Ni4xNjMsNDEuODU0LDE0Ni4wMjYsNDEuODU0eiBNMTM2LjA3Myw0Mi4zODcKCQljLTAuOTA4LDAtMS42ODItMC4yNzItMi4zNTktMC44MzJjLTAuNjM1LTAuNTIyLTAuOTQxLTEuMTc5LTAuOTQxLTIuMDA3YzAtMC44MzIsMC4zMi0xLjQzOSwwLjk4NC0xLjg5NQoJCWMwLjYyMy0wLjM5MiwxLjYyNy0wLjcxNCwyLjk3Ny0wLjk1NGMxLjI5OS0wLjIxMywyLjU5OC0wLjQxMiwzLjkyMi0wLjYwNmMwLjM5My0wLjA2OSwwLjczNC0wLjE1MSwxLjAyOS0wLjI0NHYxLjU2NgoJCWMwLDEuNTAyLTAuNTE4LDIuNjcyLTEuNTg4LDMuNTc4QzEzOC45ODksNDEuOTMyLDEzNy42NzIsNDIuMzg3LDEzNi4wNzMsNDIuMzg3eiIvPgoJPHJlY3QgeD0iMTQ5LjY0OSIgeT0iMTguMzU4IiBmaWxsPSIjMjQ1RUFDIiB3aWR0aD0iMy44MTMiIGhlaWdodD0iMjYuOTU0Ii8+Cgk8cGF0aCBmaWxsPSIjMjQ1RUFDIiBkPSJNMTczLjQ2OSw0MS44NTRjLTAuNDE0LDAtMC41MjctMC4wNy0wLjUyNy0wLjU2NlYzMS41NWMwLTMuMDUxLTEuMzA5LTYuNjg4LTcuNTM5LTYuNjg4CgkJYy0yLjM3MywwLTQuMjgxLDAuNTQ1LTUuNjY4LDEuNjE5Yy0xLjU4NiwxLjIwOS0yLjQ0MywyLjk4Ni0yLjU0OSw1LjI4MmwtMC4wMzcsMC44MjFoMy44M2wwLjAyLTAuNzY1CgkJYzAuMDYxLTIuNDIsMS4zMy0zLjUsNC4xMTctMy41YzMuNTU5LDAsNC4wMTQsMS41OTQsNC4wMTQsMi45OGMwLDAuNjUzLTAuMTM5LDEuMDgzLTAuNDI2LDEuMjg2CgkJYy0wLjA4NCwwLjA2NC0wLjQ2MywwLjI3OS0xLjc1OCwwLjQyM2MtMy41OSwwLjQxNS01Ljg2NywwLjg0LTYuOTU3LDEuMjk1Yy0yLjM0NCwwLjk0My0zLjU4NiwyLjgwNS0zLjU4Niw1LjM4NQoJCWMwLDIsMC43MTMsMy41NzIsMi4xMDcsNC42NjZjMS4yMjksMC45ODcsMi44NTIsMS40ODksNC44MywxLjQ4OWMxLjc5MywwLDMuMzA1LTAuMzYsNC41MDQtMS4wOAoJCWMwLjU3Mi0wLjM1NiwxLjE0MS0wLjg1NiwxLjY5Ny0xLjQ5MmMwLjA5LDAuMzA1LDAuMjA3LDAuNTY1LDAuMzUyLDAuNzg3YzAuNTMxLDAuODI5LDEuNDg0LDEuMjUyLDIuODMsMS4yNTIKCQljMC41NzIsMCwxLjExOS0wLjA1NiwxLjYyMS0wLjE2bDAuNjI1LTAuMTMxdi0zLjY4N2wtMS4wODIsMC40MzZDMTczLjc0NSw0MS44MjcsMTczLjYwOCw0MS44NTQsMTczLjQ2OSw0MS44NTR6IE0xNjMuNTE4LDQyLjM4NwoJCWMtMC45MSwwLTEuNjgyLTAuMjcyLTIuMzYxLTAuODMyYy0wLjYzMy0wLjUyMi0wLjk0MS0xLjE3OS0wLjk0MS0yLjAwN2MwLTAuODMyLDAuMzItMS40MzksMC45ODYtMS44OTUKCQljMC42MjEtMC4zOTIsMS42MjctMC43MTQsMi45NzctMC45NTRjMS4yOTktMC4yMTMsMi41OTYtMC40MTIsMy45MjItMC42MDZjMC4zOTEtMC4wNjksMC43MzItMC4xNTEsMS4wMjktMC4yNDR2MS41NjYKCQljMCwxLjUwMi0wLjUyLDIuNjcyLTEuNTg4LDMuNTc4QzE2Ni40MzQsNDEuOTMyLDE2NS4xMTgsNDIuMzg3LDE2My41MTgsNDIuMzg3eiIvPgoJPHBhdGggZmlsbD0iIzI0NUVBQyIgZD0iTTE4NS45ODMsMjQuODYyYy0xLjQ0NSwwLTIuNzk5LDAuMzg5LTQuMDIzLDEuMTUxYy0wLjQyLDAuMjYtMC43OTMsMC41NS0xLjEyNywwLjg2N3YtMS40ODVoLTMuODExdjE5LjkxNwoJCWgzLjgxMVYzMy44MjVjMC0xLjY0MSwwLjQ0OS0yLjk0NywxLjM2OS0zLjk5M2MwLjg5NS0xLjAxOCwyLjA3Mi0xLjUxMiwzLjYwNC0xLjUxMmMxLjY2MiwwLDMuODcxLDAuNDkzLDMuODcxLDQuNzU3djEyLjIzNWgzLjgxMQoJCXYtMTIuNTljMC0yLjUtMC41MzktNC40MTQtMS42MDctNS42OThDMTkwLjY2MSwyNS41OSwxODguNjc4LDI0Ljg2MiwxODUuOTgzLDI0Ljg2MnoiLz4KCTxwYXRoIGZpbGw9IiMyNDVFQUMiIGQ9Ik0yMDkuMjMxLDM3Ljg3NmMtMC4xMjcsMS4zMzYtMC42MTUsMi40MDMtMS40OSwzLjI1OWMtMC44NjMsMC44NDQtMS44NjUsMS4yNTItMy4wNjEsMS4yNTIKCQljLTEuNzg3LDAtMy4xNi0wLjY5NS00LjE5Ny0yLjEyOGMtMC45NjEtMS4zMjUtMS40NTEtMi45NzUtMS40NTEtNC45MDVzMC40OS0zLjU4MSwxLjQ1My00LjkwNwoJCWMxLjAzNS0xLjQyOSwyLjQwOC0yLjEyNyw0LjE5NS0yLjEyN2MyLjQ1NSwwLDMuODU5LDEuMjAzLDQuNDIyLDMuNzlsMC4xMzUsMC42MmgzLjc1OGwtMC4xMDQtMC44NzkKCQljLTAuMjYyLTIuMjM5LTEuMTctNC4wMDQtMi43MTEtNS4yNTVjLTEuNDY1LTEuMTQ5LTMuMzE0LTEuNzMzLTUuNS0xLjczM2MtMi45MzYsMC01LjMwNSwxLjA2Ny03LjAzOSwzLjE2NgoJCWMtMS42MDUsMS45MzYtMi40Miw0LjQwMi0yLjQyLDcuMzI2czAuODE0LDUuMzkyLDIuNDIsNy4zMjdjMS43MzYsMi4wOTksNC4xMDUsMy4xNjQsNy4wMzksMy4xNjRjMi4yMzYsMCw0LjEyNy0wLjcxMSw1LjYyMy0yLjExNQoJCWMxLjQ3OS0xLjM4OCwyLjM5NS0zLjI5NywyLjcyOS01LjY3MWwwLjEyNS0wLjg5OGgtMy44NTlMMjA5LjIzMSwzNy44NzZ6Ii8+Cgk8cGF0aCBmaWxsPSIjMjQ1RUFDIiBkPSJNMjIzLjUxOCwyNC44NjJjLTEuNDQzLDAtMi43OTcsMC4zODktNC4wMjMsMS4xNTFjLTAuNDE4LDAuMjYtMC43OTUsMC41NS0xLjEyNSwwLjg2N3YtOC41MjJoLTMuODEzCgkJdjI2Ljk1NGgzLjgxM1YzMy44MjVjMC0xLjY0MSwwLjQ0Ny0yLjk0NywxLjM2Ny0zLjk5M2MwLjg5NS0xLjAxOCwyLjA3Ni0xLjUxMiwzLjYwNS0xLjUxMmMxLjY2LDAsMy44NjksMC40OTMsMy44NjksNC43NTd2MTIuMjM1CgkJaDMuODE0di0xMi41OWMwLTIuNS0wLjU0MS00LjQxNC0xLjYwOS01LjY5OEMyMjguMTk2LDI1LjU5LDIyNi4yMTMsMjQuODYyLDIyMy41MTgsMjQuODYyeiIvPgoJPHBhdGggZmlsbD0iIzI0NUVBQyIgZD0iTTI0Ni41MjQsMzkuMjMyYy0wLjgyMiwyLjE0NC0yLjMzNCwzLjE1NS00LjY5OSwzLjE1NWMtMS43MTEsMC0zLjAxLTAuNjY4LTMuOTc1LTIuMDQ1CgkJYy0wLjY5Ny0xLjAwMS0xLjExNS0yLjIwOC0xLjI0LTMuNTk4aDE0LjA0N2wwLjAyMy0wLjc2MWMwLjEwNC0yLjk5OS0wLjUyOS01LjUzNS0xLjg3MS03LjUzNwoJCWMtMS41OTgtMi4zNzgtMy45NDctMy41ODUtNi45ODQtMy41ODVjLTIuOTczLDAtNS4zMTQsMS4xMjUtNi45NjEsMy4zNDNjLTEuMzk4LDEuOTA2LTIuMTA1LDQuMzEyLTIuMTA1LDcuMTQ4CgkJYzAsMi45ODMsMC43MDksNS40MzgsMi4xMTUsNy4zMDRjMS42MTksMi4xMTMsMy45NTksMy4xODgsNi45NTEsMy4xODhjNC41MDgsMCw3LjM4My0yLjI0MSw4LjU5Ni02LjYxM0gyNDYuNTI0eiBNMjM4LjE2NywzMC4wNgoJCWMwLjk2NS0xLjE3MSwyLjE2NC0xLjc0MSwzLjY1OC0xLjc0MWMxLjQ5NiwwLDIuNjgsMC41NTgsMy42MjUsMS43MDVjMC43NTYsMC45MTYsMS4yMDUsMS45OSwxLjM2MSwzLjI2MmgtMTAuMTE3CgkJQzIzNi45NDIsMzIuMDE0LDIzNy40MzYsMzAuOTMsMjM4LjE2NywzMC4wNnoiLz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiMyNDVFQUMiIGQ9Ik01MS43NzQsMTIuODYzbC03LjkzLDEzLjY2MWMxLjI3Myw0LjQ0NywzLjQ1OCwxMC4xODMsNS42NTcsMTQuMzM3CgkJYzcuNDk2LDE0LjE1MSwyMS40NjMsMzIuODA2LDIzLjYyNCwzNS41NDNoMTUuMjM3TDUxLjc3NCwxMi44NjN6Ii8+Cgk8cGF0aCBmaWxsPSIjMjQ1RUFDIiBkPSJNNDguNTY2LDQxLjExYy0xLjE1Ny0yLjUzOC0zLjk3My05LjM5Ny01LjEyLTEzLjg5NWwtMy4xNzksNS41MjFjMC45MzMsMy45NzIsMy4yNzgsOC43MTUsNS4xMzQsMTIuMzMKCQljNS4zNTksMTAuNDQsMTUuNDY3LDI0LjMxOCwyMC44MTksMzEuMzM4aDIuMTk2QzYzLjgxNCw2OS45Miw1MC45NDgsNDYuMzM3LDQ4LjU2Niw0MS4xMXoiLz4KCTxwYXRoIGZpbGw9IiMyNDVFQUMiIGQ9Ik01OS4yNjYsNzYuNDA1aDEuOTkyYy01Ljc1LTkuMzI5LTE1LjExLTI3LjMwNC0xNy4xMTgtMzEuNzA5Yy0wLjk5OS0yLjE5Ni0zLjI1NS03LjQzMi00LjI3LTExLjI2OAoJCWwtMy4yNTgsNS42NThjMS4wNzEsMy45MDUsMi45OTMsNi45MjUsNC41ODYsMTAuMDI4QzQ1LjY2Myw1Ny44MTYsNTMuNyw2OC45MTQsNTkuMjY2LDc2LjQwNXoiLz4KCTxwYXRoIGZpbGw9IiMyNDVFQUMiIGQ9Ik0zNi4xOTYsMzkuODFMMTUuMTg1LDc2LjQwNWgzOS4yNTJjLTUuNzE5LTkuNjg0LTEyLjYzOS0yMy41NDUtMTQuMzg1LTI3LjM3OAoJCUMzOS4xOTEsNDcuMTM4LDM3LjI4LDQzLjU4LDM2LjE5NiwzOS44MXoiLz4KPC9nPgo8L3N2Zz4K"},function(e,t,r){e.exports={MatchParent:"_1IDE",Flex:"Jp3H",FullWidth:"IafH",Dropdown:"_1oRs",Option:"_2a3d undefined _2ERI","Option--Active":"_2Xg9 _2a3d undefined _2ERI"}},function(e,t,r){e.exports={Container:"_192R",Label:"_1kFE",Logo:"_3q9h"}},function(e,t,r){e.exports={Container:"aDRH",Content:"_9WGV",Caption:"_3GJF _9WGV",Title:"_1h0P _9WGV"}},function(e,t,r){e.exports={Avatar:"_14ia",Initials:"aGyN _14ia",Small:"gKMd"}},function(e,t,r){e.exports={Figure:"_3q9e",Image:"XxEq","Figure--Loading":"_33KX _3q9e"}},function(e,t,r){e.exports={ItemSet:"_3E0r",Item:"_27Y_",Logo:"_3-HY"}},function(e,t,r){var n=r(30),a=r(37),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(37),a=r(84),i=r(26)("species");e.exports=function(e,t){var r;return a(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!a(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){e.exports=r(327)},function(e,t,r){var n=r(59),a=r(60),i=r(169),o=function(e){return function(t,r,o){var s,l=n(t),u=a(l.length),c=i(o,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,r){var n=r(134),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},function(e,t,r){var n=r(36),a=r(47),i=r(22),o=r(113);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=o(t),s=n.length,l=0;s>l;)a.f(e,r=n[l++],t[r]);return e}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(212),a=r(171).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){t.f=r(26)},function(e,t,r){"use strict";r(115);var n=r(9),a=r(49),i=r(220),o=r(86),s=r(178),l=r(64),u=r(217),c=r(65),p=r(117),h=r(46),f=r(38),d=r(87),y=r(22),v=r(37),m=r(85),g=r(82),_=r(179),x=r(141),b=r(26),w=a("fetch"),M=a("Headers"),E=b("iterator"),S=c.set,T=c.getterFor("URLSearchParams"),C=c.getterFor("URLSearchParamsIterator"),I=/\+/g,A=Array(4),k=function(e){return A[e-1]||(A[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},L=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(I," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(k(r--),L);return t}},P=/[!'()~]|%20/g,z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=function(e){return z[e]},N=function(e){return encodeURIComponent(e).replace(P,O)},j=function(e,t){if(t)for(var r,n,a=t.split("&"),i=0;i<a.length;)(r=a[i++]).length&&(n=r.split("="),e.push({key:D(n.shift()),value:D(n.join("="))}))},R=function(e){this.entries.length=0,j(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=u((function(e,t){S(this,{type:"URLSearchParamsIterator",iterator:_(T(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),U=function(){p(this,U,"URLSearchParams");var e,t,r,n,a,i,o,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,f=[];if(S(c,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:R}),void 0!==u)if(v(u))if("function"==typeof(e=x(u)))for(r=(t=e.call(u)).next;!(n=r.call(t)).done;){if((o=(i=(a=_(y(n.value))).next).call(a)).done||(s=i.call(a)).done||!i.call(a).done)throw TypeError("Expected sequence with length 2");f.push({key:o.value+"",value:s.value+""})}else for(l in u)h(u,l)&&f.push({key:l,value:u[l]+""});else j(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},V=U.prototype;s(V,{append:function(e,t){F(arguments.length,2);var r=T(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){F(arguments.length,1);for(var t=T(this),r=t.entries,n=e+"",a=0;a<r.length;)r[a].key===n?r.splice(a,1):a++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=T(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){F(arguments.length,1);for(var t=T(this).entries,r=e+"",n=[],a=0;a<t.length;a++)t[a].key===r&&n.push(t[a].value);return n},has:function(e){F(arguments.length,1);for(var t=T(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var r,n=T(this),a=n.entries,i=!1,o=e+"",s=t+"",l=0;l<a.length;l++)(r=a[l]).key===o&&(i?a.splice(l--,1):(i=!0,r.value=s));i||a.push({key:o,value:s}),n.updateURL()},sort:function(){var e,t,r,n=T(this),a=n.entries,i=a.slice();for(a.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===r&&a.push(e)}n.updateURL()},forEach:function(e){for(var t,r=T(this).entries,n=f(e,arguments.length>1?arguments[1]:void 0,3),a=0;a<r.length;)n((t=r[a++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),o(V,E,V.entries),o(V,"toString",(function(){for(var e,t=T(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(N(e.key)+"="+N(e.value));return r.join("&")}),{enumerable:!0}),l(U,"URLSearchParams"),n({global:!0,forced:!i},{URLSearchParams:U}),i||"function"!=typeof w||"function"!=typeof M||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,a=[e];return arguments.length>1&&(t=arguments[1],v(t)&&(r=t.body,"URLSearchParams"===d(r)&&((n=new M(t.headers)).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:g(0,String(r)),headers:g(0,n)}))),a.push(t)),w.apply(this,a)}}),e.exports={URLSearchParams:U,getState:T}},function(e,t,r){"use strict";var n=r(9),a=r(217),i=r(140),o=r(177),s=r(64),l=r(55),u=r(86),c=r(26),p=r(27),h=r(89),f=r(218),d=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,v=c("iterator"),m=function(){return this};e.exports=function(e,t,r,c,f,g,_){a(r,t,c);var x,b,w,M=function(e){if(e===f&&I)return I;if(!y&&e in T)return T[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},E=t+" Iterator",S=!1,T=e.prototype,C=T[v]||T["@@iterator"]||f&&T[f],I=!y&&C||M(f),A="Array"==t&&T.entries||C;if(A&&(x=i(A.call(new e)),d!==Object.prototype&&x.next&&(p||i(x)===d||(o?o(x,d):"function"!=typeof x[v]&&l(x,v,m)),s(x,E,!0,!0),p&&(h[E]=m))),"values"==f&&C&&"values"!==C.name&&(S=!0,I=function(){return C.call(this)}),p&&!_||T[v]===I||l(T,v,I),h[t]=I,f)if(b={values:M("values"),keys:g?I:M("keys"),entries:M("entries")},_)for(w in b)!y&&!S&&w in T||u(T,w,b[w]);else n({target:t,proto:!0,forced:y||S},b);return b}},function(e,t,r){var n=r(22),a=r(352);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),a(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},function(e,t,r){var n=r(86);e.exports=function(e,t,r){for(var a in t)r&&r.unsafe&&e[a]?e[a]=t[a]:n(e,a,t[a],r);return e}},function(e,t,r){var n=r(22),a=r(141);e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(253),a=r(254);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(472),a=r(473);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.4",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(67),a=r(145);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(504);e.exports=function(e){return n(e,{weekStartsOn:1})}},function(e,t,r){var n=r(270);function a(t,r){return e.exports=a=n||function(e,t){return e.__proto__=t,e},a(t,r)}e.exports=a},function(e,t,r){e.exports={Set:"_2TEE",Item:"WRpl"}},function(e,t,r){"use strict";var n=r(382),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||a}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(d){var a=f(r);a&&a!==d&&e(t,a,n)}var o=c(r);p&&(o=o.concat(p(r)));for(var s=l(t),y=l(r),v=0;v<o.length;++v){var m=o[v];if(!(i[m]||n&&n[m]||y&&y[m]||s&&s[m])){var g=h(r,m);try{u(t,m,g)}catch(e){}}}}return t}},function(e,t,r){e.exports={Content:"_2Gwp",Header:"_3EX1"}},function(e,t,r){e.exports=r(563)},function(e,t,r){e.exports={MatchParent:"Wc0g",Flex:"X_6k",FullWidth:"_2oOF",Container:"_30KD",Input:"_1rYR undefined _2MlD _1ZQp _2ERI undefined _1rv0 qAaf","Input--Open":"_260L _1rYR undefined _2MlD _1ZQp _2ERI undefined _1rv0 qAaf"}},function(e,t,r){e.exports={Container:"_2oFA",Input:"iNKN"}},function(e,t,r){e.exports={Container:"_1F3V",Input:"_1dPu undefined _2MlD _1ZQp _2ERI"}},function(e,t,r){e.exports={Subscribe:"UlZM",Input:"XY33 undefined _3_L7"}},function(e,t,r){e.exports={Container:"_1iZz",Content:"_9D7A"}},function(e,t,r){e.exports={Set:"_2zRq",Item:"l8LW"}},function(e,t,r){e.exports={Magnify:"_3Adh",Input:"ctJ_"}},function(e){e.exports=JSON.parse('{"url":"https://api-dev.avalanche.ca","key":"92kJB50eJq7RZlZyWlA5ZaxgZaluOV1Q9OQzLzX7"}')},function(e,t,r){e.exports={Container:"_2R-E",Caption:"ToB-"}},function(e,t,r){e.exports={Blockquote:"_2oAW",Footer:"_2DgU"}},function(e,t,r){e.exports={Cell:"_2Ed5"}},function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(23,59,59,999),a}},function(e,t,r){e.exports={Container:"_3dfb",Link:"_2zML undefined _1I9G undefined _3HxH undefined _3ZPG _3YM7 undefined sQ_E _2ObL"}},,function(e,t,r){"use strict";var n=r(9),a=r(28),i=r(84),o=r(37),s=r(48),l=r(60),u=r(111),c=r(166),p=r(137),h=r(26)("isConcatSpreadable"),f=!a((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),d=p("concat"),y=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,forced:!f||!d},{concat:function(e){var t,r,n,a,i,o=s(this),p=c(o,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?o:arguments[t],y(i)){if(h+(a=l(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<a;r++,h++)r in i&&u(p,h,i[r])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(p,h++,i)}return p.length=h,p}})},function(e,t,r){var n=r(36),a=r(28),i=r(165);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(28),a=/#|\.prototype\./,i=function(e,t){var r=s[o(e)];return r==u||r!=l&&("function"==typeof t?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,t,r){var n=r(28);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){var n,a,i=r(30),o=r(138),s=i.process,l=s&&s.versions,u=l&&l.v8;u?a=(n=u.split("."))[0]+n[1]:o&&(n=o.match(/Chrome\/(\d+)/))&&(a=n[1]),e.exports=a&&+a},function(e,t,r){var n=r(328),a=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===a||e instanceof Array&&t===a.indexOf?n:t}},function(e,t,r){r(211);var n=r(21);e.exports=n.Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(9),a=r(30),i=r(27),o=r(36),s=r(207),l=r(28),u=r(46),c=r(84),p=r(37),h=r(22),f=r(48),d=r(59),y=r(133),v=r(82),m=r(85),g=r(113),_=r(172),x=r(332),b=r(173),w=r(109),M=r(47),E=r(131),S=r(55),T=r(86),C=r(135),I=r(139),A=r(114),k=r(136),L=r(26),D=r(174),P=r(33),z=r(64),O=r(65),N=r(88).forEach,j=I("hidden"),R=L("toPrimitive"),F=O.set,B=O.getterFor("Symbol"),U=Object.prototype,V=a.Symbol,q=a.JSON,W=q&&q.stringify,G=w.f,Y=M.f,Z=x.f,H=E.f,Q=C("symbols"),X=C("op-symbols"),K=C("string-to-symbol-registry"),J=C("symbol-to-string-registry"),$=C("wks"),ee=a.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,re=o&&l((function(){return 7!=m(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=G(U,t);n&&delete U[t],Y(e,t,r),n&&e!==U&&Y(U,t,n)}:Y,ne=function(e,t){var r=Q[e]=m(V.prototype);return F(r,{type:"Symbol",tag:e,description:t}),o||(r.description=t),r},ae=s&&"symbol"==typeof V.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},ie=function(e,t,r){e===U&&ie(X,t,r),h(e);var n=y(t,!0);return h(r),u(Q,n)?(r.enumerable?(u(e,j)&&e[j][n]&&(e[j][n]=!1),r=m(r,{enumerable:v(0,!1)})):(u(e,j)||Y(e,j,v(1,{})),e[j][n]=!0),re(e,n,r)):Y(e,n,r)},oe=function(e,t){h(e);var r=d(t),n=g(r).concat(ce(r));return N(n,(function(t){o&&!se.call(r,t)||ie(e,t,r[t])})),e},se=function(e){var t=y(e,!0),r=H.call(this,t);return!(this===U&&u(Q,t)&&!u(X,t))&&(!(r||!u(this,t)||!u(Q,t)||u(this,j)&&this[j][t])||r)},le=function(e,t){var r=d(e),n=y(t,!0);if(r!==U||!u(Q,n)||u(X,n)){var a=G(r,n);return!a||!u(Q,n)||u(r,j)&&r[j][n]||(a.enumerable=!0),a}},ue=function(e){var t=Z(d(e)),r=[];return N(t,(function(e){u(Q,e)||u(A,e)||r.push(e)})),r},ce=function(e){var t=e===U,r=Z(t?X:d(e)),n=[];return N(r,(function(e){!u(Q,e)||t&&!u(U,e)||n.push(Q[e])})),n};s||(T((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=k(e),r=function(e){this===U&&r.call(X,e),u(this,j)&&u(this[j],t)&&(this[j][t]=!1),re(this,t,v(1,e))};return o&&te&&re(U,t,{configurable:!0,set:r}),ne(t,e)}).prototype,"toString",(function(){return B(this).tag})),E.f=se,M.f=ie,w.f=le,_.f=x.f=ue,b.f=ce,o&&(Y(V.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),i||T(U,"propertyIsEnumerable",se,{unsafe:!0})),D.f=function(e){return ne(L(e),e)}),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:V}),N(g($),(function(e){P(e)})),n({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(K,t))return K[t];var r=V(t);return K[t]=r,J[r]=t,r},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(u(J,e))return J[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!o},{create:function(e,t){return void 0===t?m(e):oe(m(e),t)},defineProperty:ie,defineProperties:oe,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ue,getOwnPropertySymbols:ce}),n({target:"Object",stat:!0,forced:l((function(){b.f(1)}))},{getOwnPropertySymbols:function(e){return b.f(f(e))}}),q&&n({target:"JSON",stat:!0,forced:!s||l((function(){var e=V();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}))},{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(p(t)||void 0!==e)&&!ae(e))return c(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),n[1]=t,W.apply(q,n)}}),V.prototype[R]||S(V.prototype,R,V.prototype.valueOf),z(V,"Symbol"),A[j]=!0},function(e,t,r){var n=r(46),a=r(59),i=r(168).indexOf,o=r(114);e.exports=function(e,t){var r,s=a(e),l=0,u=[];for(r in s)!n(o,r)&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(49);e.exports=n("document","documentElement")},function(e,t,r){r(339);var n=r(21);e.exports=n.Object.keys},function(e,t,r){r(345);var n=r(21);e.exports=n.Object.assign},function(e,t,r){"use strict";var n=r(36),a=r(28),i=r(113),o=r(173),s=r(131),l=r(48),u=r(132),c=Object.assign;e.exports=!c||a((function(){var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||"abcdefghijklmnopqrst"!=i(c({},t)).join("")}))?function(e,t){for(var r=l(e),a=arguments.length,c=1,p=o.f,h=s.f;a>c;)for(var f,d=u(arguments[c++]),y=p?i(d).concat(p(d)):i(d),v=y.length,m=0;v>m;)f=y[m++],n&&!h.call(d,f)||(r[f]=d[f]);return r}:c},function(e,t,r){"use strict";var n=r(218).IteratorPrototype,a=r(85),i=r(82),o=r(64),s=r(89),l=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=a(n,{next:i(1,r)}),o(e,u,!1,!0),s[u]=l,e}},function(e,t,r){"use strict";var n,a,i,o=r(140),s=r(55),l=r(46),u=r(26),c=r(27),p=u("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(a=o(o(i)))!==Object.prototype&&(n=a):h=!0),null==n&&(n={}),c||l(n,p)||s(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(e,t,r){var n=r(28);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(28),a=r(26),i=r(27),o=a("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){var n=r(222);e.exports=function(e){if(n(e))return e}},function(e,t,r){e.exports=r(353)},function(e,t,r){r(354);var n=r(21);e.exports=n.Array.isArray},function(e,t,r){var n=r(134),a=r(110),i=function(e){return function(t,r){var i,o,s=String(a(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):i:e?s.slice(l,l+2):o-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,r){e.exports=r(358)},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){var n=r(26),a=r(89),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,r){var n=r(22);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){r(373),r(142),r(73),r(66);var n=r(21);e.exports=n.Map},function(e,t,r){"use strict";var n=r(9),a=r(30),i=r(231),o=r(28),s=r(55),l=r(29),u=r(117),c=r(37),p=r(64),h=r(47).f,f=r(88).forEach,d=r(36),y=r(65),v=y.set,m=y.getterFor;e.exports=function(e,t,r,y,g){var _,x=a[e],b=x&&x.prototype,w=y?"set":"add",M={};if(d&&"function"==typeof x&&(g||b.forEach&&!o((function(){(new x).entries().next()})))){_=t((function(t,r){v(u(t,_,e),{type:e,collection:new x}),null!=r&&l(r,t[w],t,y)}));var E=m(e);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;e in b&&(!g||"clear"!=e)&&s(_.prototype,e,(function(r,n){var a=E(this).collection;if(!t&&g&&!c(r))return"get"==e&&void 0;var i=a[e](0===r?0:r,n);return t?this:i}))})),g||h(_.prototype,"size",{get:function(){return E(this).collection.size}})}else _=r.getConstructor(t,e,y,w),i.REQUIRED=!0;return p(_,e,!1,!0),M[e]=_,n({global:!0,forced:!0},M),g||r.setStrong(_,e,y),_}},function(e,t,r){var n=r(114),a=r(37),i=r(46),o=r(47).f,s=r(136),l=r(374),u=s("meta"),c=0,p=Object.isExtensible||function(){return!0},h=function(e){o(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!p(e))return"F";if(!t)return"E";h(e)}return e[u].objectID},getWeakData:function(e,t){if(!i(e,u)){if(!p(e))return!0;if(!t)return!1;h(e)}return e[u].weakData},onFreeze:function(e){return l&&f.REQUIRED&&p(e)&&!i(e,u)&&h(e),e}};n[u]=!0},function(e,t,r){"use strict";var n=r(47).f,a=r(85),i=r(178),o=r(38),s=r(117),l=r(29),u=r(176),c=r(233),p=r(36),h=r(231).fastKey,f=r(65),d=f.set,y=f.getterFor;e.exports={getConstructor:function(e,t,r,u){var c=e((function(e,n){s(e,c,t),d(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),p||(e.size=0),null!=n&&l(n,e[u],e,r)})),f=y(t),v=function(e,t,r){var n,a,i=f(e),o=m(e,t);return o?o.value=r:(i.last=o={index:a=h(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),p?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e},m=function(e,t){var r,n=f(e),a=h(t);if("F"!==a)return n.index[a];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(c.prototype,{clear:function(){for(var e=f(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=f(this),r=m(this,e);if(r){var n=r.next,a=r.previous;delete t.index[r.index],r.removed=!0,a&&(a.next=n),n&&(n.previous=a),t.first==r&&(t.first=n),t.last==r&&(t.last=a),p?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=f(this),n=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),i(c.prototype,r?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&n(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(e,t,r){var n=t+" Iterator",a=y(t),i=y(n);u(e,t,(function(e,t){d(this,{type:n,target:e,state:a(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),c(t)}}},function(e,t,r){"use strict";var n=r(49),a=r(47),i=r(26),o=r(36),s=i("species");e.exports=function(e){var t=n(e),r=a.f;o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){r(73),r(376);var n=r(21);e.exports=n.Array.from},function(e,t,r){"use strict";var n=r(38),a=r(48),i=r(228),o=r(227),s=r(60),l=r(111),u=r(141);e.exports=function(e){var t,r,c,p,h,f=a(e),d="function"==typeof this?this:Array,y=arguments.length,v=y>1?arguments[1]:void 0,m=void 0!==v,g=0,_=u(f);if(m&&(v=n(v,y>2?arguments[2]:void 0,2)),null==_||d==Array&&o(_))for(r=new d(t=s(f.length));t>g;g++)l(r,g,m?v(f[g],g):f[g]);else for(h=(p=_.call(f)).next,r=new d;!(c=h.call(p)).done;g++)l(r,g,m?i(p,v,[c.value,g],!0):c.value);return r.length=g,r}},function(e,t,r){var n=r(26)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},function(e,t,r){r(142),r(73),r(66),r(387),r(241),r(390);var n=r(21);e.exports=n.Promise},function(e,t,r){var n=r(30);e.exports=n.Promise},function(e,t,r){var n,a,i,o=r(30),s=r(28),l=r(83),u=r(38),c=r(213),p=r(165),h=r(138),f=o.location,d=o.setImmediate,y=o.clearImmediate,v=o.process,m=o.MessageChannel,g=o.Dispatch,_=0,x={},b=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},w=function(e){return function(){b(e)}},M=function(e){b(e.data)},E=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};d&&y||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return x[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(_),_},y=function(e){delete x[e]},"process"==l(v)?n=function(e){v.nextTick(w(e))}:g&&g.now?n=function(e){g.now(w(e))}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(h)?(i=(a=new m).port2,a.port1.onmessage=M,n=u(i.postMessage,i,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(E)?n="onreadystatechange"in p("script")?function(e){c.appendChild(p("script")).onreadystatechange=function(){c.removeChild(this),b(e)}}:function(e){setTimeout(w(e),0)}:(n=E,o.addEventListener("message",M,!1))),e.exports={set:d,clear:y}},function(e,t,r){var n=r(22),a=r(37),i=r(119);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(9),a=r(31),i=r(119),o=r(143),s=r(29);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=i.f(t),n=r.resolve,l=r.reject,u=o((function(){var r=a(t.resolve),i=[],o=0,l=1;s(e,(function(e){var a=o++,s=!1;i.push(void 0),l++,r.call(t,e).then((function(e){s||(s=!0,i[a]={status:"fulfilled",value:e},--l||n(i))}),(function(e){s||(s=!0,i[a]={status:"rejected",reason:e},--l||n(i))}))})),--l||n(i)}));return u.error&&l(u.value),r.promise}})},function(e,t,r){r(396);var n=r(21).Object,a=e.exports=function(e,t,r){return n.defineProperty(e,t,r)};n.defineProperty.sham&&(a.sham=!0)},function(e,t,r){e.exports=r(413)},function(e,t,r){var n=r(180),a=r(422),i=r(424),o="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,r){var u,c,p,h,f,d,y=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError(o);function _(t){var r=u,n=c;return u=c=void 0,y=t,h=e.apply(n,r)}function x(e){var r=e-d;return void 0===d||r>=t||r<0||m&&e-y>=p}function b(){var e=a();if(x(e))return w(e);f=setTimeout(b,function(e){var r=t-(e-d);return m?l(r,p-(e-y)):r}(e))}function w(e){return f=void 0,g&&u?_(e):(u=c=void 0,h)}function M(){var e=a(),r=x(e);if(u=arguments,c=this,d=e,r){if(void 0===f)return function(e){return y=e,f=setTimeout(b,t),v?_(e):h}(d);if(m)return clearTimeout(f),f=setTimeout(b,t),_(d)}return void 0===f&&(f=setTimeout(b,t)),h}return t=i(t)||0,n(r)&&(v=!!r.leading,p=(m="maxWait"in r)?s(i(r.maxWait)||0,t):p,g="trailing"in r?!!r.trailing:g),M.cancel=function(){void 0!==f&&clearTimeout(f),y=0,u=d=c=f=void 0},M.flush=function(){return void 0===f?h:w(a())},M}},function(e,t,r){var n=r(423),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},function(e,t,r){var n=r(245).Symbol;e.exports=n},function(e,t,r){r(33)("iterator")},function(e,t,r){r(204),r(142),r(211),r(437),r(438),r(439),r(440),r(247),r(441),r(442),r(443),r(444),r(445),r(446),r(447),r(448),r(449),r(450),r(451);var n=r(21);e.exports=n.Symbol},function(e,t,r){var n=r(462),a=r(225);e.exports=function(e){if(a(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return n(e)}},function(e,t,r){var n=r(120),a=r(251),i=r(252),o=r(181),s=r(255),l=r(122),u=r(256),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!n.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(121),a=r(469),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(144);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(120),a=r(121),i=r(470);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(120),a=r(256),i=r(258),o=r(255),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=o(t,!0),i(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(144);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var n=r(182);e.exports=n("native-function-to-string",Function.toString)},function(e,t){e.exports={}},function(e,t,r){e.exports=r(67)},function(e,t,r){var n=r(122),a=r(181),i=r(482).indexOf,o=r(260);e.exports=function(e,t){var r,s=a(e),l=0,u=[];for(r in s)!n(o,r)&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(u,r)||u.push(r));return u}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,r){var n=r(502),a=6e4,i=864e5;e.exports=function(e,t){var r=n(e),o=n(t),s=r.getTime()-r.getTimezoneOffset()*a,l=o.getTime()-o.getTimezoneOffset()*a;return Math.round((s-l)/i)}},function(e,t,r){var n=r(18),a=r(184);e.exports=function(e){var t=n(e),r=t.getFullYear(),i=new Date(0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);var o=a(i),s=new Date(0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);var l=a(s);return t.getTime()>=o.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}},function(e,t,r){var n=r(507),a=r(508);e.exports={distanceInWords:n(),format:a()}},function(e,t,r){e.exports=r(515)},function(e,t,r){e.exports=r(518)},function(e,t,r){"use strict";var n=r(22);e.exports=function(e,t){var r,a=n(this),i=arguments.length>2?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof i)throw TypeError("At least one callback required");return a.has(e)?(r=a.get(e),"function"==typeof t&&(r=t(r),a.set(e,r))):"function"==typeof i&&(r=i(),a.set(e,r)),r}},function(e,t,r){var n=r(550),a=Function.prototype;e.exports=function(e){var t=e.bind;return e===a||e instanceof Function&&t===a.bind?n:t}},function(e,t,r){"use strict";var n=r(31),a=r(37),i=[].slice,o={},s=function(e,t,r){if(!(t in o)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";o[t]=Function("C,a","return new C("+n.join(",")+")")}return o[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=i.call(arguments,1),o=function(){var n=r.concat(i.call(arguments));return this instanceof o?s(t,n.length,n):t.apply(e,n)};return a(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifiersUtils=t.LocaleUtils=t.DateUtils=t.DayPicker=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=_(i),s=_(r(6)),l=_(r(600)),u=_(r(277)),c=_(r(601)),p=_(r(278)),h=g(r(148)),f=g(r(90)),d=g(r(146)),y=g(r(149)),v=_(r(147)),m=r(123);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var x=t.DayPicker=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.dayPicker=null,r.showNextMonth=function(e){if(r.allowNextMonth()){var t=r.props.pagedNavigation?r.props.numberOfMonths:1,n=f.addMonths(r.state.currentMonth,t);r.showMonth(n,e)}},r.showPreviousMonth=function(e){if(r.allowPreviousMonth()){var t=r.props.pagedNavigation?r.props.numberOfMonths:1,n=f.addMonths(r.state.currentMonth,-t);r.showMonth(n,e)}},r.handleKeyDown=function(e){switch(e.persist(),e.keyCode){case m.LEFT:"rtl"===r.props.dir?r.showNextMonth():r.showPreviousMonth(),h.cancelEvent(e);break;case m.RIGHT:"rtl"===r.props.dir?r.showPreviousMonth():r.showNextMonth(),h.cancelEvent(e);break;case m.UP:r.showPreviousYear(),h.cancelEvent(e);break;case m.DOWN:r.showNextYear(),h.cancelEvent(e)}r.props.onKeyDown&&r.props.onKeyDown(e)},r.handleDayKeyDown=function(e,t,n){switch(n.persist(),n.keyCode){case m.LEFT:h.cancelEvent(n),"rtl"===r.props.dir?r.focusNextDay(n.target):r.focusPreviousDay(n.target);break;case m.RIGHT:h.cancelEvent(n),"rtl"===r.props.dir?r.focusPreviousDay(n.target):r.focusNextDay(n.target);break;case m.UP:h.cancelEvent(n),r.focusPreviousWeek(n.target);break;case m.DOWN:h.cancelEvent(n),r.focusNextWeek(n.target);break;case m.ENTER:case m.SPACE:h.cancelEvent(n),r.props.onDayClick&&r.handleDayClick(e,t,n)}r.props.onDayKeyDown&&r.props.onDayKeyDown(e,t,n)},r.handleDayClick=function(e,t,n){n.persist(),t[r.props.classNames.outside]&&r.props.enableOutsideDaysClick&&r.handleOutsideDayClick(e),r.props.onDayClick&&r.props.onDayClick(e,t,n)},r.handleTodayButtonClick=function(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth());r.showMonth(n),e.target.blur(),r.props.onTodayButtonClick&&(e.persist(),r.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),y.getModifiersForDay(t,r.props.modifiers),e))};var n=r.getCurrentMonthFromProps(e);return r.state={currentMonth:n},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidUpdate",value:function(e){if(e.month!==this.props.month&&!f.isSameMonth(e.month,this.props.month)){var t=this.getCurrentMonthFromProps(this.props);this.setState({currentMonth:t})}}},{key:"getCurrentMonthFromProps",value:function(e){var t=h.startOfMonth(e.month||e.initialMonth);if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var r=h.startOfMonth(e.fromMonth),n=h.getMonthsDiff(r,t);t=f.addMonths(r,Math.floor(n/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&h.getMonthsDiff(t,e.toMonth)<=0&&(t=f.addMonths(h.startOfMonth(e.toMonth),1-this.props.numberOfMonths));return t}},{key:"getNextNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:"getPreviousNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,-1)}},{key:"allowPreviousMonth",value:function(){var e=f.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:"allowNextMonth",value:function(){var e=f.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:"allowMonth",value:function(e){var t=this.props,r=t.fromMonth,n=t.toMonth;return!(!t.canChangeMonth||r&&h.getMonthsDiff(r,e)<0||n&&h.getMonthsDiff(n,e)>0)}},{key:"allowYearChange",value:function(){return this.props.canChangeMonth}},{key:"showMonth",value:function(e,t){var r=this;this.allowMonth(e)&&this.setState({currentMonth:h.startOfMonth(e)},(function(){t&&t(),r.props.onMonthChange&&r.props.onMonthChange(r.state.currentMonth)}))}},{key:"showNextYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:"showPreviousYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"focusFirstDayOfMonth",value:function(){h.getDayNodes(this.dayPicker,this.props.classNames)[0].focus()}},{key:"focusLastDayOfMonth",value:function(){var e=h.getDayNodes(this.dayPicker,this.props.classNames);e[e.length-1].focus()}},{key:"focusPreviousDay",value:function(e){var t=this,r=h.getDayNodes(this.dayPicker,this.props.classNames),n=h.nodeListToArray(r).indexOf(e);-1!==n&&(0===n?this.showPreviousMonth((function(){return t.focusLastDayOfMonth()})):r[n-1].focus())}},{key:"focusNextDay",value:function(e){var t=this,r=h.getDayNodes(this.dayPicker,this.props.classNames),n=h.nodeListToArray(r).indexOf(e);-1!==n&&(n===r.length-1?this.showNextMonth((function(){return t.focusFirstDayOfMonth()})):r[n+1].focus())}},{key:"focusNextWeek",value:function(e){var t=this,r=h.getDayNodes(this.dayPicker,this.props.classNames),n=h.nodeListToArray(r).indexOf(e);n>r.length-8?this.showNextMonth((function(){var e=7-(r.length-n);h.getDayNodes(t.dayPicker,t.props.classNames)[e].focus()})):r[n+7].focus()}},{key:"focusPreviousWeek",value:function(e){var t=this,r=h.getDayNodes(this.dayPicker,this.props.classNames),n=h.nodeListToArray(r).indexOf(e);n<=6?this.showPreviousMonth((function(){var e=h.getDayNodes(t.dayPicker,t.props.classNames);e[e.length-7+n].focus()})):r[n-7].focus()}},{key:"handleOutsideDayClick",value:function(e){var t=this.state.currentMonth,r=this.props.numberOfMonths,n=h.getMonthsDiff(t,e);n>0&&n>=r?this.showNextMonth():n<0&&this.showPreviousMonth()}},{key:"renderNavbar",value:function(){var e=this.props,t=e.labels,r=e.locale,n=e.localeUtils,a=e.canChangeMonth,i=e.navbarElement,s=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);if(!a)return null;var l={month:this.state.currentMonth,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:s.dir,labels:t,locale:r,localeUtils:n};return o.default.isValidElement(i)?o.default.cloneElement(i,l):o.default.createElement(i,l)}},{key:"renderMonths",value:function(){for(var e=[],t=h.getFirstDayOfWeekFromProps(this.props),r=0;r<this.props.numberOfMonths;r+=1){var a=f.addMonths(this.state.currentMonth,r);e.push(o.default.createElement(c.default,n({key:r},this.props,{month:a,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e}},{key:"renderFooter",value:function(){return this.props.todayButton?o.default.createElement("div",{className:this.props.classNames.footer},this.renderTodayButton()):null}},{key:"renderTodayButton",value:function(){return o.default.createElement("button",{type:"button",tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:"render",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),o.default.createElement("div",n({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),o.default.createElement("div",{className:this.props.classNames.wrapper,ref:function(t){return e.wrapper=t},tabIndex:this.props.canChangeMonth&&void 0!==this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),o.default.createElement("div",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))}}]),t}(i.Component);x.VERSION="7.4.0",x.propTypes={initialMonth:s.default.instanceOf(Date),month:s.default.instanceOf(Date),numberOfMonths:s.default.number,fromMonth:s.default.instanceOf(Date),toMonth:s.default.instanceOf(Date),canChangeMonth:s.default.bool,reverseMonths:s.default.bool,pagedNavigation:s.default.bool,todayButton:s.default.string,showWeekNumbers:s.default.bool,showWeekDays:s.default.bool,selectedDays:s.default.oneOfType([s.default.object,s.default.func,s.default.array]),disabledDays:s.default.oneOfType([s.default.object,s.default.func,s.default.array]),modifiers:s.default.object,modifiersStyles:s.default.object,dir:s.default.string,firstDayOfWeek:s.default.oneOf([0,1,2,3,4,5,6]),labels:s.default.shape({nextMonth:s.default.string.isRequired,previousMonth:s.default.string.isRequired}),locale:s.default.string,localeUtils:s.default.shape({formatMonthTitle:s.default.func,formatWeekdayShort:s.default.func,formatWeekdayLong:s.default.func,getFirstDayOfWeek:s.default.func}),months:s.default.arrayOf(s.default.string),weekdaysLong:s.default.arrayOf(s.default.string),weekdaysShort:s.default.arrayOf(s.default.string),showOutsideDays:s.default.bool,enableOutsideDaysClick:s.default.bool,fixedWeeks:s.default.bool,classNames:s.default.shape({body:s.default.string,container:s.default.string,day:s.default.string.isRequired,disabled:s.default.string.isRequired,footer:s.default.string,interactionDisabled:s.default.string,months:s.default.string,month:s.default.string,navBar:s.default.string,outside:s.default.string.isRequired,selected:s.default.string.isRequired,today:s.default.string.isRequired,todayButton:s.default.string,week:s.default.string,wrapper:s.default.string}),className:s.default.string,containerProps:s.default.object,tabIndex:s.default.number,renderDay:s.default.func,renderWeek:s.default.func,weekdayElement:s.default.oneOfType([s.default.element,s.default.func,s.default.instanceOf(i.Component)]),navbarElement:s.default.oneOfType([s.default.element,s.default.func,s.default.instanceOf(i.Component)]),captionElement:s.default.oneOfType([s.default.element,s.default.func,s.default.instanceOf(i.Component)]),onBlur:s.default.func,onFocus:s.default.func,onKeyDown:s.default.func,onDayClick:s.default.func,onDayKeyDown:s.default.func,onDayMouseEnter:s.default.func,onDayMouseLeave:s.default.func,onDayMouseDown:s.default.func,onDayMouseUp:s.default.func,onDayTouchStart:s.default.func,onDayTouchEnd:s.default.func,onDayFocus:s.default.func,onMonthChange:s.default.func,onCaptionClick:s.default.func,onWeekClick:s.default.func,onTodayButtonClick:s.default.func},x.defaultProps={classNames:v.default,tabIndex:0,initialMonth:new Date,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:d,showOutsideDays:!1,enableOutsideDaysClick:!0,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:o.default.createElement(p.default,null),navbarElement:o.default.createElement(u.default,{classNames:v.default}),captionElement:o.default.createElement(l.default,{classNames:v.default})},x.DateUtils=f,x.LocaleUtils=d,x.ModifiersUtils=y,t.DateUtils=f,t.LocaleUtils=d,t.ModifiersUtils=y,t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),i=u(a),o=u(r(6)),s=u(r(147)),l=r(123);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleNextClick=function(){n.props.onNextClick&&n.props.onNextClick()},n.handlePreviousClick=function(){n.props.onPreviousClick&&n.props.onPreviousClick()},n.handleNextKeyDown=function(e){e.keyCode!==l.ENTER&&e.keyCode!==l.SPACE||(e.preventDefault(),n.handleNextClick())},n.handlePreviousKeyDown=function(e){e.keyCode!==l.ENTER&&e.keyCode!==l.SPACE||(e.preventDefault(),n.handlePreviousClick())},c(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"shouldComponentUpdate",value:function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton}},{key:"render",value:function(){var e=this.props,t=e.classNames,r=e.className,n=e.showPreviousButton,a=e.showNextButton,o=e.labels,s=e.dir,l=void 0,u=void 0,c=void 0,p=void 0,h=void 0,f=void 0;"rtl"===s?(l=this.handleNextClick,u=this.handlePreviousClick,c=this.handleNextKeyDown,p=this.handlePreviousKeyDown,f=n,h=a):(l=this.handlePreviousClick,u=this.handleNextClick,c=this.handlePreviousKeyDown,p=this.handleNextKeyDown,f=a,h=n);var d=h?t.navButtonPrev:t.navButtonPrev+" "+t.navButtonInteractionDisabled,y=f?t.navButtonNext:t.navButtonNext+" "+t.navButtonInteractionDisabled,v=i.default.createElement("span",{tabIndex:"0",role:"button","aria-label":o.previousMonth,key:"previous",className:d,onKeyDown:h?c:void 0,onClick:h?l:void 0}),m=i.default.createElement("span",{tabIndex:"0",role:"button","aria-label":o.nextMonth,key:"right",className:y,onKeyDown:f?p:void 0,onClick:f?u:void 0});return i.default.createElement("div",{className:r||t.navBar},"rtl"===s?[m,v]:[v,m])}}]),t}(a.Component);p.propTypes={classNames:o.default.shape({navBar:o.default.string.isRequired,navButtonPrev:o.default.string.isRequired,navButtonNext:o.default.string.isRequired,navButtonInteractionDisabled:o.default.string.isRequired}),className:o.default.string,showPreviousButton:o.default.bool,showNextButton:o.default.bool,onPreviousClick:o.default.func,onNextClick:o.default.func,dir:o.default.string,labels:o.default.shape({previousMonth:o.default.string.isRequired,nextMonth:o.default.string.isRequired})},p.defaultProps={classNames:s.default,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0},t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),i=s(a),o=s(r(6));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){var e=this.props,t=e.weekday,r=e.className,n=e.weekdaysLong,a=e.weekdaysShort,o=e.localeUtils,s=e.locale,l=void 0;l=n?n[t]:o.formatWeekdayLong(t,s);var u=void 0;return u=a?a[t]:o.formatWeekdayShort(t,s),i.default.createElement("div",{className:r,role:"columnheader"},i.default.createElement("abbr",{title:l},u))}}]),t}(a.Component);l.propTypes={weekday:o.default.number,className:o.default.string,locale:o.default.string,localeUtils:o.default.object,weekdaysLong:o.default.arrayOf(o.default.string),weekdaysShort:o.default.arrayOf(o.default.string)},t.default=l},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=n(e).getTime(),a=n(t).getTime();return r<a?-1:r>a?1:0}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHdpZHRoPSIyMCIgdmlld0JveD0iMCAwIDI0IDI0IiB2ZXJzaW9uPSIxLjEiID4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBpZD0iZ3JhZGllbnQiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzAwNDI4NSIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IndoaXRlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxjaXJjbGUgZmlsbD0idXJsKCNncmFkaWVudCkiIGN4PSIxMiIgY3k9IjEyIiByPSIxMiIgLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAzNCI+CiAgPHBhdGggZmlsbD0iIzAzYTlmNCIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiIGQ9Ik0xMiAxLjVDNi4zIDEuNSAxLjYgNi4yIDEuNiAxMiAxLjUgMjAgMTIgMzIgMTIgMzJTMjIuOCAyMCAyMi44IDEyQzIyLjcgNi4zIDE4IDEuNiAxMiAxLjZ6Ii8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAzNCI+CiAgPHBhdGggZmlsbD0iIzE5OTZCQSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiIGQ9Ik0xMiAxLjVDNi4zIDEuNSAxLjYgNi4yIDEuNiAxMiAxLjUgMjAgMTIgMzIgMTIgMzJTMjIuOCAyMCAyMi44IDEyQzIyLjcgNi4zIDE4IDEuNiAxMiAxLjZ6Ii8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iNiIgZmlsbD0iI2ZmZmZmZiIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMC4yIiBoZWlnaHQ9IjQwLjkiPgogIDxwYXRoIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMi42IDUuNHY2LjloNy45djI2LjFoMi4yVjI3LjdoMTEuOGExIDEgMCAxIDAgMC0yLjFoLTIuNHYtMS43aDIuNmExIDEgMCAwIDAgMC0xLjhIMjJ2LTEuMmgyLjZhMSAxIDAgMCAwIDAtMS44SDIydi0xLjJoMi42YTEgMSAwIDAgMCAwLTEuOGgtNy41YTEgMSAwIDEgMCAwIDEuOEgyMHYxLjJoLTIuN2ExIDEgMCAxIDAgMCAxLjhIMjB2MS4yaC0yLjdhMSAxIDAgMSAwIDAgMS44SDIwdjEuN2gtNy4yVjEyLjNoNi41djIuM2wzLTEuNyAzLTEuOC0zLTEuNy0zLTEuN1YxMGgtMTFMMi42IDUuNHoiLz4KICA8ZyBzdHJva2U9IiMwMDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMSAtMTAxMy41KSI+CiAgICA8cmVjdCB3aWR0aD0iMi4yIiBoZWlnaHQ9IjI3LjciIHg9IjguNCIgeT0iLTEwNTEuOSIgcnk9IjAiIHRyYW5zZm9ybT0ic2NhbGUoMSAtMSkiLz4KICAgIDxyZWN0IHdpZHRoPSIyLjIiIGhlaWdodD0iMTMuOCIgeD0iMTAzOSIgeT0iOS43IiBzdHJva2UtbGluZWpvaW49InJvdW5kIiByeT0iMS4xIiB0cmFuc2Zvcm09Im1hdHJpeCgwIDEgMSAwIDAgMCkiLz4KICAgIDxyZWN0IHdpZHRoPSIyLjIiIGhlaWdodD0iMTAuMyIgeD0iMTcuOCIgeT0iLTEwNDAuNSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgcnk9Ii42IiB0cmFuc2Zvcm09InNjYWxlKDEgLTEpIi8+CiAgICA8cmVjdCB3aWR0aD0iMS44IiBoZWlnaHQ9IjkuMyIgeD0iMTAzNS42IiB5PSIxNC4yIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiByeT0iLjkiIHRyYW5zZm9ybT0ibWF0cml4KDAgMSAxIDAgMCAwKSIvPgogICAgPHJlY3Qgd2lkdGg9IjEuOCIgaGVpZ2h0PSI5LjMiIHg9IjEwMzIuNiIgeT0iMTQuMiIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgcnk9Ii45IiB0cmFuc2Zvcm09Im1hdHJpeCgwIDEgMSAwIDAgMCkiLz4KICAgIDxyZWN0IHdpZHRoPSIxLjgiIGhlaWdodD0iOS4zIiB4PSIxMDI5LjYiIHk9IjE0LjIiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHJ5PSIuOSIgdHJhbnNmb3JtPSJtYXRyaXgoMCAxIDEgMCAwIDApIi8+CiAgICA8cGF0aCBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjAuMSAxMDI2LjNsLTMgMS44di02LjlsMyAxLjcgMyAxLjd6Ii8+CiAgICA8cmVjdCB3aWR0aD0iMi4yIiBoZWlnaHQ9IjE4LjciIHg9IjEwMjMuNSIgeT0iLjUiIHJ5PSIwIiB0cmFuc2Zvcm09Im1hdHJpeCgwIDEgMSAwIDAgMCkiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTS42IDEwMjMuOWwtLjEtNSA2LjIgNXoiLz4KICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAyNCAzNCIgd2lkdGg9IjI0IiB2ZXJzaW9uPSIxLjEiID4KICA8cGF0aCBkPSJtIDEyLjEsMS41IGMgLTUuOSwwIC0xMC42LDQuNyAtMTAuNiwxMC42IDAsOCAxMC42LDE5LjcgMTAuNiwxOS43IDAsMCAxMC42LC0xMS43IDEwLjYsLTE5LjcgMCwtNS45IC00LjcsLTEwLjYgLTEwLjYsLTEwLjYgeiIgc3R5bGU9ImZpbGw6IzAwMDAwMDtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6My4wMjk0NzA2ODtzdHJva2Utb3BhY2l0eToxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjYiIHN0eWxlPSJmaWxsOiNmNDQzMzYiIC8+Cjwvc3ZnPgo="},function(e,t,r){e.exports=r(414)},function(e,t,r){e.exports=r(417)},function(e,t,r){e.exports=r(430)},function(e,t,r){e.exports={Container:"_17qR"}},function(e,t,r){"use strict";var n,a=r(0),i=(n=a)&&"object"==typeof n&&"default"in n?n.default:n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,r){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var l,u=[];function c(){l=e(u.map((function(e){return e.props}))),p.canUseDOM?t(l):r&&(l=r(l))}var p=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.peek=function(){return l},a.rewind=function(){if(a.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,u=[],e};var o=a.prototype;return o.UNSAFE_componentWillMount=function(){u.push(this),c()},o.componentDidUpdate=function(){c()},o.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),c()},o.render=function(){return i.createElement(n,this.props)},a}(a.PureComponent);return o(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),o(p,"canUseDOM",s),p}}},function(e,t,r){"use strict";var n=Array.isArray,a=Object.keys,i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Element;e.exports=function(e,t){try{return function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var s,l,u,c=n(t),p=n(r);if(c&&p){if((l=t.length)!=r.length)return!1;for(s=l;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(c!=p)return!1;var h=t instanceof Date,f=r instanceof Date;if(h!=f)return!1;if(h&&f)return t.getTime()==r.getTime();var d=t instanceof RegExp,y=r instanceof RegExp;if(d!=y)return!1;if(d&&y)return t.toString()==r.toString();var v=a(t);if((l=v.length)!==a(r).length)return!1;for(s=l;0!=s--;)if(!i.call(r,v[s]))return!1;if(o&&t instanceof Element&&r instanceof Element)return t===r;for(s=l;0!=s--;)if(!("_owner"===(u=v[s])&&t.$$typeof||e(t[u],r[u])))return!1;return!0}return t!=t&&r!=r}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},function(e,t,r){e.exports=r(466)},function(e,t,r){var n=r(105);e.exports=function(e,t){var r=Number(t);return n(e,-r)}},function(e,t,r){var n=r(18);e.exports=function(e){var t=n(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,r){var n=r(18);e.exports=function(e){var t=n(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},function(e,t,r){var n=r(18);e.exports=function(e){var t=n(e);return t.setHours(23,59,59,999),t}},function(e,t,r){e.exports=function(){"use strict";var e,t,r;function n(n,a){if(e)if(t){var i="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),(r=a(o)).workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else t=a;else e=a}return n(0,(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,a,i,o;for(void 0===t&&(t=1e-6),a=e,o=0;o<8;o++){if(i=this.sampleCurveX(a)-e,Math.abs(i)<t)return a;var s=this.sampleCurveDerivativeX(a);if(Math.abs(s)<1e-6)break;a-=i/s}if((a=e)<(r=0))return r;if(a>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(a),Math.abs(i-e)<t)return a;e>i?r=a:n=a,a=.5*(n-r)+r}return a},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var a=i;function i(e,t){this.x=e,this.y=t}function o(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!o(e[n],t[n]))return!1;return!0}return e===t}function s(e,t,n,a){var i=new r(e,t,n,a);return function(e){return i.solve(e)}}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,a=r*this.x+t*this.y;return this.x=n,this.y=a,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),a=t.x+r*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=a,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(e){return e instanceof i?e:Array.isArray(e)?new i(e[0],e[1]):e};var l=s(.25,.1,.25,1);function u(e,t,r){return Math.min(r,Math.max(t,e))}function c(e,t,r){var n=r-t,a=((e-t)%n+n)%n+t;return a===t?r:a}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,a=t;n<a.length;n+=1){var i=a[n];for(var o in i)e[o]=i[o]}return e}var h=1;function f(){return h++}function d(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function y(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function v(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function m(e,t){return-1!==e.indexOf(t,e.length-t.length)}function g(e,t,r){var n={};for(var a in e)n[a]=t.call(r||this,e[a],a,e);return n}function _(e,t,r){var n={};for(var a in e)t.call(r||this,e[a],a,e)&&(n[a]=e[a]);return n}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?g(e,x):e}var b={};function w(e){b[e]||("undefined"!=typeof console&&console.warn(e),b[e]=!0)}function M(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function E(e){for(var t=0,r=0,n=e.length,a=n-1,i=void 0,o=void 0;r<n;a=r++)i=e[r],t+=((o=e[a]).x-i.x)*(i.y+o.y);return t}function S(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,r,n,a){var i=n||a;return t[r]=!i||i.toLowerCase(),""})),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var C=null;function I(e){if(null==C){var t=e.navigator?e.navigator.userAgent:null;C=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return C}function A(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var k,L,D,P,z=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),O=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,N=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,j={now:z,frame:function(e){var t=O(e);return{cancel:function(){return N(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var r=self.document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return r.width=e.width,r.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return k||(k=self.document.createElement("a")),k.href=e,k.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==L&&(L=self.matchMedia("(prefers-reduced-motion: reduce)")),L.matches)}},R={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},F={supported:!1,testSupport:function(e){!B&&P&&(U?V(e):D=e)}},B=!1,U=!1;function V(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,P),e.isContextLost())return;F.supported=!0}catch(e){}e.deleteTexture(t),B=!0}self.document&&((P=self.document.createElement("img")).onload=function(){D&&V(D),D=null,U=!0},P.onerror=function(){B=!0,D=null},P.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var q="01",W=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function G(e){return 0===e.indexOf("mapbox:")}W.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",q,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},W.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},W.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},W.prototype.normalizeStyleURL=function(e,t){if(!G(e))return e;var r=Q(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeGlyphsURL=function(e,t){if(!G(e))return e;var r=Q(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeSourceURL=function(e,t){if(!G(e))return e;var r=Q(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)},W.prototype.normalizeSpriteURL=function(e,t,r,n){var a=Q(e);return G(e)?(a.path="/styles/v1"+a.path+"/sprite"+t+r,this._makeAPIURL(a,this._customAccessToken||n)):(a.path+=""+t+r,X(a))},W.prototype.normalizeTileURL=function(e,t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),!t||!G(t))return e;var n=Q(e),a=j.devicePixelRatio>=2||512===r?"@2x":"",i=F.supported?".webp":"$1";return n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+a+i),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path,R.REQUIRE_ACCESS_TOKEN&&(R.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,this._customAccessToken)},W.prototype.canonicalizeTileURL=function(e){var t=Q(e);if(!t.path.match(/(^\/v4\/)/)||!t.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=t.path.replace("/v4/","");var n=t.params.filter((function(e){return!e.match(/^access_token=/)}));return n.length&&(r+="?"+n.join("&")),r},W.prototype.canonicalizeTileset=function(e,t){if(!G(t))return e.tiles||[];for(var r=[],n=0,a=e.tiles;n<a.length;n+=1){var i=a[n],o=this.canonicalizeTileURL(i);r.push(o)}return r},W.prototype._makeAPIURL=function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=Q(R.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"/"!==n.path&&(e.path=""+n.path+e.path),!R.REQUIRE_ACCESS_TOKEN)return X(e);if(!(t=t||R.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),X(e)};var Y=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(e){return Y.test(e)}var H=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Q(e){var t=e.match(H);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function X(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function K(e){if(!e)return null;var t,r=e.split(".");if(!r||3!==r.length)return null;try{return JSON.parse((t=r[1],decodeURIComponent(self.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(e){return null}}var J=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};J.prototype.getStorageKey=function(e){var t,r=K(R.ACCESS_TOKEN),n="";return r&&r.u?(t=r.u,n=self.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))):n=R.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+n:"mapbox.eventData:"+n},J.prototype.fetchEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=self.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var a=self.localStorage.getItem(r);a&&(this.anonId=a)}catch(e){w("Unable to read from LocalStorage")}},J.prototype.saveEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){w("Unable to write to LocalStorage")}},J.prototype.processRequests=function(e){},J.prototype.postEvent=function(e,t,r,n){var a=this;if(R.EVENTS_URL){var i=Q(R.EVENTS_URL);i.params.push("access_token="+(n||R.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.6.0",skuId:q,userId:this.anonId},s=t?p(o,t):o,l={url:X(i),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=be(l,(function(e){a.pendingRequest=null,r(e),a.saveEventData(),a.processRequests(n)}))}},J.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var $,ee,te=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t,r,n){this.skuToken=r,(R.EVENTS_URL&&n||R.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||Z(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},n)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,a=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),y(this.anonId)||(this.anonId=d()),this.postEvent(a,{skuToken:this.skuToken},(function(e){e||n&&(t.success[n]=!0)}),e))}},t}(J),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e,t){R.EVENTS_URL&&R.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||Z(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=K(R.ACCESS_TOKEN),n=r?r.u:R.ACCESS_TOKEN,a=n!==this.eventData.tokenU;y(this.anonId)||(this.anonId=d(),a=!0);var i=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(i),l=(i-this.eventData.lastSuccess)/864e5;a=a||l>=1||l<-1||o.getDate()!==s.getDate()}else a=!0;if(!a)return this.processRequests();this.postEvent(i,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=i,t.eventData.tokenU=n)}),e)}},t}(J)),ne=re.postTurnstileEvent.bind(re),ae=new te,ie=ae.postMapLoadEvent.bind(ae),oe="mapbox-tiles",se=500,le=50,ue=42e4;function ce(){self.caches&&!$&&($=self.caches.open(oe))}function pe(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var he=1/0,fe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(fe);var de=function(e){function t(t,r,n){401===r&&Z(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ye=S()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function ve(e,t){var r,n=new self.AbortController,a=new self.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ye(),signal:n.signal}),i=!1,o=!1,s=(r=a.url).indexOf("sku=")>0&&Z(r);"json"===e.type&&a.headers.set("Accept","application/json");var l=function(r,n,i){if(!o){if(r&&"SecurityError"!==r.message&&w(r),n&&i)return u(n);var l=Date.now();self.fetch(a).then((function(r){if(r.ok){var n=s?r.clone():null;return u(r,n,l)}return t(new de(r.statusText,r.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},u=function(r,n,s){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){o||(n&&s&&function(e,t,r){if(ce(),$){var n={status:t.status,statusText:t.statusText,headers:new self.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var a=T(t.headers.get("Cache-Control")||"");a["no-store"]||(a["max-age"]&&n.headers.set("Expires",new Date(r+1e3*a["max-age"]).toUTCString()),new Date(n.headers.get("Expires")).getTime()-r<ue||function(e,t){if(void 0===ee)try{new Response(new ReadableStream),ee=!0}catch(e){ee=!1}ee?t(e.body):e.blob().then(t)}(t,(function(t){var r=new self.Response(t,n);ce(),$&&$.then((function(t){return t.put(pe(e.url),r)})).catch((function(e){return w(e.message)}))})))}}(a,n,s),i=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(e){o||t(new Error(e.message))}))};return s?function(e,t){if(ce(),!$)return t(null);var r=pe(e.url);$.then((function(e){e.match(r).then((function(n){var a=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),r=T(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),a&&e.put(r,n.clone()),t(null,n,a)})).catch(t)})).catch(t)}(a,l):l(null,null),{cancel:function(){o=!0,i||n.abort()}}}var me,ge,_e=function(e,t){if(r=e.url,!(/^file:/.test(r)||/^file:/.test(ye())&&!/^\w+:/.test(r))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ve(e,t);if(S()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var r=new self.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new de(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},xe=function(e,t){return _e(p(e,{type:"arrayBuffer"}),t)},be=function(e,t){return _e(p(e,{method:"POST"}),t)};me=[],ge=0;var we=function(e,t){if(F.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),ge>=R.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return me.push(r),r}ge++;var n=!1,a=function(){if(!n)for(n=!0,ge--;me.length&&ge<R.MAX_PARALLEL_IMAGE_REQUESTS;){var e=me.shift(),t=e.requestParameters,r=e.callback;e.cancelled||(e.cancel=we(t,r).cancel)}},i=xe(e,(function(e,r,n,i){if(a(),e)t(e);else if(r){var o=new self.Image;o.onload=function(){t(null,o),self.URL.revokeObjectURL(o.src)},o.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new self.Blob([new Uint8Array(r)],{type:"image/png"});o.cacheControl=n,o.expires=i,o.src=r.byteLength?self.URL.createObjectURL(s):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function(){i.cancel(),a()}}};function Me(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function Ee(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var Se=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Te=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",p({error:t},r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Se),Ce=function(){};Ce.prototype.on=function(e,t){return this._listeners=this._listeners||{},Me(e,t,this._listeners),this},Ce.prototype.off=function(e,t){return Ee(e,t,this._listeners),Ee(e,t,this._oneTimeListeners),this},Ce.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Me(e,t,this._oneTimeListeners),this},Ce.prototype.fire=function(e,t){"string"==typeof e&&(e=new Se(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,a=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<a.length;n+=1)a[n].call(this,e);for(var i=0,o=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];i<o.length;i+=1){var s=o[i];Ee(r,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof Te&&console.error(e.error);return this},Ce.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ce.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Ie={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Ae=function(e){function t(t,r,n,a){e.call(this,[t,n].filter((function(e){return e})).join(": ")),a&&(this.identifier=a),null!=r&&r.__line__&&(this.line=r.__line__)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);function ke(e){var t=e.key,r=e.value;return r?[new Ae(t,r,"constants have been deprecated as of v8")]:[]}function Le(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,a=t;n<a.length;n+=1){var i=a[n];for(var o in i)e[o]=i[o]}return e}function De(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Pe(e){if(Array.isArray(e))return e.map(Pe);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=Pe(e[r]);return t}return De(e)}var ze=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Oe=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var a=n[r],i=a[0],o=a[1];this.bindings[i]=o}};Oe.prototype.concat=function(e){return new Oe(this,e)},Oe.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Oe.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Ne={kind:"null"},je={kind:"number"},Re={kind:"string"},Fe={kind:"boolean"},Be={kind:"color"},Ue={kind:"object"},Ve={kind:"value"},qe={kind:"collator"},We={kind:"formatted"},Ge={kind:"resolvedImage"};function Ye(e,t){return{kind:"array",itemType:e,N:t}}function Ze(e){if("array"===e.kind){var t=Ze(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var He=[Ne,je,Re,Fe,Be,We,Ue,Ye(Ve),Ge];function Qe(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Qe(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=He;r<n.length;r+=1)if(!Qe(n[r],t))return null}return"Expected "+Ze(e)+" but found "+Ze(t)+" instead."}var Xe=t((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function a(e){return e<0?0:e>1?1:e}function i(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function o(e){return"%"===e[e.length-1]?a(parseFloat(e)/100):a(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,a=e.replace(/ /g,"").toLowerCase();if(a in r)return r[a].slice();if("#"===a[0])return 4===a.length?(t=parseInt(a.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===a.length&&(t=parseInt(a.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=a.indexOf("("),u=a.indexOf(")");if(-1!==l&&u+1===a.length){var c=a.substr(0,l),p=a.substr(l+1,u-(l+1)).split(","),h=1;switch(c){case"rgba":if(4!==p.length)return null;h=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),h];case"hsla":if(4!==p.length)return null;h=o(p.pop());case"hsl":if(3!==p.length)return null;var f=(parseFloat(p[0])%360+360)%360/360,d=o(p[1]),y=o(p[2]),v=y<=.5?y*(d+1):y+d-y*d,m=2*y-v;return[n(255*s(m,v,f+1/3)),n(255*s(m,v,f)),n(255*s(m,v,f-1/3)),h];default:return null}}return null}}catch(e){}})).parseCSSColor,Ke=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};Ke.parse=function(e){if(e){if(e instanceof Ke)return e;if("string"==typeof e){var t=Xe(e);if(t)return new Ke(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},Ke.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],a=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+a+")"},Ke.prototype.toArray=function(){var e=this.r,t=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]},Ke.black=new Ke(0,0,0,1),Ke.white=new Ke(1,1,1,1),Ke.transparent=new Ke(0,0,0,0),Ke.red=new Ke(1,0,0,1);var Je=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Je.prototype.compare=function(e,t){return this.collator.compare(e,t)},Je.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var $e={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function et(e){for(var t=0,r=e;t<r.length;t+=1)if(rt(r[t].charCodeAt(0)))return!0;return!1}function tt(e){return!($e.Arabic(e)||$e["Arabic Supplement"](e)||$e["Arabic Extended-A"](e)||$e["Arabic Presentation Forms-A"](e)||$e["Arabic Presentation Forms-B"](e))}function rt(e){return!(746!==e&&747!==e&&(e<4352||!($e["Bopomofo Extended"](e)||$e.Bopomofo(e)||$e["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||$e["CJK Compatibility Ideographs"](e)||$e["CJK Compatibility"](e)||$e["CJK Radicals Supplement"](e)||$e["CJK Strokes"](e)||!(!$e["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||$e["CJK Unified Ideographs Extension A"](e)||$e["CJK Unified Ideographs"](e)||$e["Enclosed CJK Letters and Months"](e)||$e["Hangul Compatibility Jamo"](e)||$e["Hangul Jamo Extended-A"](e)||$e["Hangul Jamo Extended-B"](e)||$e["Hangul Jamo"](e)||$e["Hangul Syllables"](e)||$e.Hiragana(e)||$e["Ideographic Description Characters"](e)||$e.Kanbun(e)||$e["Kangxi Radicals"](e)||$e["Katakana Phonetic Extensions"](e)||$e.Katakana(e)&&12540!==e||!(!$e["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!$e["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||$e["Unified Canadian Aboriginal Syllabics"](e)||$e["Unified Canadian Aboriginal Syllabics Extended"](e)||$e["Vertical Forms"](e)||$e["Yijing Hexagram Symbols"](e)||$e["Yi Syllables"](e)||$e["Yi Radicals"](e))))}function nt(e){return!(rt(e)||function(e){return!!($e["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||$e["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||$e["Letterlike Symbols"](e)||$e["Number Forms"](e)||$e["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||$e["Control Pictures"](e)&&9251!==e||$e["Optical Character Recognition"](e)||$e["Enclosed Alphanumerics"](e)||$e["Geometric Shapes"](e)||$e["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||$e["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||$e["CJK Symbols and Punctuation"](e)||$e.Katakana(e)||$e["Private Use Area"](e)||$e["CJK Compatibility Forms"](e)||$e["Small Form Variants"](e)||$e["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function at(e){return e>=1424&&e<=2303||$e["Arabic Presentation Forms-A"](e)||$e["Arabic Presentation Forms-B"](e)}function it(e,t){return!(!t&&at(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||$e.Khmer(e))}function ot(e){for(var t=0,r=e;t<r.length;t+=1)if(at(r[t].charCodeAt(0)))return!0;return!1}var st=function(e,t,r,n,a){this.text=e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=a},lt=function(e){this.sections=e};lt.fromString=function(e){return new lt([new st(e,null,null,null,null)])},lt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},lt.factory=function(e){return e instanceof lt?e:lt.fromString(e)},lt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},lt.prototype.containsRTLText=function(){for(var e=0,t=this.sections;e<t.length;e+=1)if(ot(t[e].text))return!0;return!1},lt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var a={};n.fontStack&&(a["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(a["font-scale"]=n.scale),n.textColor&&(a["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(a)}}return e};var ut=function(e){this.name=e.name,this.available=e.available};function ct(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function pt(e){if(null===e)return Ne;if("string"==typeof e)return Re;if("boolean"==typeof e)return Fe;if("number"==typeof e)return je;if(e instanceof Ke)return Be;if(e instanceof Je)return qe;if(e instanceof lt)return We;if(e instanceof ut)return Ge;if(Array.isArray(e)){for(var t,r=e.length,n=0,a=e;n<a.length;n+=1){var i=pt(a[n]);if(t){if(t===i)continue;t=Ve;break}t=i}return Ye(t||Ve,r)}return Ue}function ht(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ke||e instanceof lt||e instanceof ut?e.toString():JSON.stringify(e)}ut.prototype.toString=function(){return this.name},ut.fromString=function(e){return new ut({name:e,available:!1})},ut.prototype.serialize=function(){return["image",this.name]};var ft=function(e,t){this.type=e,this.value=t};ft.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Ke)return!0;if(t instanceof Je)return!0;if(t instanceof lt)return!0;if(t instanceof ut)return!0;if(Array.isArray(t)){for(var r=0,n=t;r<n.length;r+=1)if(!e(n[r]))return!1;return!0}if("object"==typeof t){for(var a in t)if(!e(t[a]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var r=e[1],n=pt(r),a=t.expectedType;return"array"!==n.kind||0!==n.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(n=a),new ft(n,r)},ft.prototype.evaluate=function(){return this.value},ft.prototype.eachChild=function(){},ft.prototype.possibleOutputs=function(){return[this.value]},ft.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ke?["rgba"].concat(this.value.toArray()):this.value instanceof lt?this.value.serialize():this.value};var dt=function(e){this.name="ExpressionEvaluationError",this.message=e};dt.prototype.toJSON=function(){return this.message};var yt={string:Re,number:je,boolean:Fe,object:Ue},vt=function(e,t){this.type=e,this.args=t};vt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,a=e[0];if("array"===a){var i,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in yt)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=yt[s],n++}else i=Ve;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=Ye(i,o)}else r=yt[a];for(var l=[];n<e.length;n++){var u=t.parse(e[n],n,Ve);if(!u)return null;l.push(u)}return new vt(r,l)},vt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!Qe(this.type,pt(r)))return r;if(t===this.args.length-1)throw new dt("Expected value to be of type "+Ze(this.type)+", but found "+Ze(pt(r))+" instead.")}return null},vt.prototype.eachChild=function(e){this.args.forEach(e)},vt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},vt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var mt=function(e){this.type=We,this.sections=e};mt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],a=!1,i=1;i<=e.length-1;++i){var o=e[i];if(a&&"object"==typeof o&&!Array.isArray(o)){a=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,je)))return null;var l=null;if(o["text-font"]&&!(l=t.parse(o["text-font"],1,Ye(Re))))return null;var u=null;if(o["text-color"]&&!(u=t.parse(o["text-color"],1,Be)))return null;var c=n[n.length-1];c.scale=s,c.font=l,c.textColor=u}else{var p=t.parse(e[i],1,Ve);if(!p)return null;var h=p.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,n.push({content:p,scale:null,font:null,textColor:null})}}return new mt(n)},mt.prototype.evaluate=function(e){return new lt(this.sections.map((function(t){var r=t.content.evaluate(e);return pt(r)===Ge?new st("",r,null,null,null):new st(ht(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},mt.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},mt.prototype.possibleOutputs=function(){return[void 0]},mt.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var a={};n.scale&&(a["font-scale"]=n.scale.serialize()),n.font&&(a["text-font"]=n.font.serialize()),n.textColor&&(a["text-color"]=n.textColor.serialize()),e.push(a)}return e};var gt=function(e){this.type=Ge,this.input=e};gt.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Re);return r?new gt(r):t.error("No image name provided.")},gt.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=!1;return e.availableImages&&e.availableImages.indexOf(t)>-1&&(r=!0),new ut({name:t,available:r})},gt.prototype.eachChild=function(e){e(this.input)},gt.prototype.possibleOutputs=function(){return[void 0]},gt.prototype.serialize=function(){return["image",this.input.serialize()]};var _t={"to-boolean":Fe,"to-color":Be,"to-number":je,"to-string":Re},xt=function(e,t){this.type=e,this.args=t};xt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=_t[r],a=[],i=1;i<e.length;i++){var o=t.parse(e[i],i,Ve);if(!o)return null;a.push(o)}return new xt(n,a)},xt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,a=this.args;n<a.length;n+=1){if(r=null,(t=a[n].evaluate(e))instanceof Ke)return t;if("string"==typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":ct(t[0],t[1],t[2],t[3])))return new Ke(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new dt(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,l=this.args;s<l.length;s+=1){if(null===(o=l[s].evaluate(e)))return 0;var u=Number(o);if(!isNaN(u))return u}throw new dt("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?lt.fromString(ht(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?ut.fromString(ht(this.args[0].evaluate(e))):ht(this.args[0].evaluate(e))},xt.prototype.eachChild=function(e){this.args.forEach(e)},xt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},xt.prototype.serialize=function(){if("formatted"===this.type.kind)return new mt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new gt(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var bt=["Unknown","Point","LineString","Polygon"],wt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};wt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},wt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?bt[this.feature.type]:this.feature.type:null},wt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},wt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ke.parse(e)),t};var Mt=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};Mt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},Mt.prototype.eachChild=function(e){this.args.forEach(e)},Mt.prototype.possibleOutputs=function(){return[void 0]},Mt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},Mt.parse=function(e,t){var r,n=e[0],a=Mt.definitions[n];if(!a)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(a)?a[0]:a.type,o=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,s=o.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],h=p[0],f=p[1];l=new At(t.registry,t.path,null,t.scope);for(var d=[],y=!1,v=1;v<e.length;v++){var m=e[v],g=Array.isArray(h)?h[v-1]:h.type,_=l.parse(m,1+d.length,g);if(!_){y=!0;break}d.push(_)}if(!y)if(Array.isArray(h)&&h.length!==d.length)l.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var x=0;x<d.length;x++){var b=Array.isArray(h)?h[x]:h.type,w=d[x];l.concat(x+1).checkSubtype(b,w.type)}if(0===l.errors.length)return new Mt(n,i,f,d)}}if(1===s.length)(r=t.errors).push.apply(r,l.errors);else{for(var M=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ze).join(", ")+")":"("+Ze(t.type)+"...)"})).join(" | "),E=[],S=1;S<e.length;S++){var T=t.parse(e[S],1+E.length);if(!T)return null;E.push(Ze(T.type))}t.error("Expected arguments of type "+M+", but found ("+E.join(", ")+") instead.")}return null},Mt.register=function(e,t){for(var r in Mt.definitions=t,t)e[r]=Mt};var Et=function(e,t,r){this.type=qe,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function St(e){if(e instanceof Mt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild((function(e){t&&!St(e)&&(t=!1)})),t}function Tt(e){if(e instanceof Mt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Tt(e)&&(t=!1)})),t}function Ct(e,t){if(e instanceof Mt&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!Ct(e,t)&&(r=!1)})),r}Et.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Fe);if(!n)return null;var a=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Fe);if(!a)return null;var i=null;return r.locale&&!(i=t.parse(r.locale,1,Re))?null:new Et(n,a,i)},Et.prototype.evaluate=function(e){return new Je(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},Et.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},Et.prototype.possibleOutputs=function(){return[void 0]},Et.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var It=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};It.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new It(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},It.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},It.prototype.eachChild=function(){},It.prototype.possibleOutputs=function(){return[void 0]},It.prototype.serialize=function(){return["var",this.name]};var At=function(e,t,r,n,a){void 0===t&&(t=[]),void 0===n&&(n=new Oe),void 0===a&&(a=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=a,this.expectedType=r};function kt(e,t){for(var r,n,a=e.length-1,i=0,o=a,s=0;i<=o;)if(r=e[s=Math.floor((i+o)/2)],n=e[s+1],r<=t){if(s===a||t<n)return s;i=s+1}else{if(!(r>t))throw new dt("Input is not a number.");o=s-1}return 0}At.prototype.parse=function(e,t,r,n,a){return void 0===a&&(a={}),t?this.concat(t,r,n)._parse(e,a):this._parse(e,a)},At.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new vt(t,[e]):"coerce"===r?new xt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var a=this.registry[n];if(a){var i=a.parse(e,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,s=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else i=r(i,o,t.typeAnnotation||"coerce");else i=r(i,o,t.typeAnnotation||"assert")}if(!(i instanceof ft)&&"resolvedImage"!==i.type.kind&&function e(t){if(t instanceof It)return e(t.boundExpression);if(t instanceof Mt&&"error"===t.name)return!1;if(t instanceof Et)return!1;var r=t instanceof xt||t instanceof vt,n=!0;return t.eachChild((function(t){n=r?n&&e(t):n&&t instanceof ft})),!!n&&St(t)&&Ct(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(i)){var l=new wt;try{i=new ft(i.type,i.evaluate(l))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},At.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,a=r?this.scope.concat(r):this.scope;return new At(this.registry,n,t||null,a,this.errors)},At.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new ze(n,e))},At.prototype.checkSubtype=function(e,t){var r=Qe(e,t);return r&&this.error(r),r};var Lt=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,a=r;n<a.length;n+=1){var i=a[n],o=i[0],s=i[1];this.labels.push(o),this.outputs.push(s)}};function Dt(e,t,r){return e*(1-r)+t*r}Lt.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,je);if(!r)return null;var n=[],a=null;t.expectedType&&"value"!==t.expectedType.kind&&(a=t.expectedType);for(var i=1;i<e.length;i+=2){var o=1===i?-1/0:e[i],s=e[i+1],l=i,u=i+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var c=t.parse(s,u,a);if(!c)return null;a=a||c.type,n.push([o,c])}return new Lt(a,r,n)},Lt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var a=t.length;return n>=t[a-1]?r[a-1].evaluate(e):r[kt(t,n)].evaluate(e)},Lt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Lt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()})))},Lt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Pt=Object.freeze({__proto__:null,number:Dt,color:function(e,t,r){return new Ke(Dt(e.r,t.r,r),Dt(e.g,t.g,r),Dt(e.b,t.b,r),Dt(e.a,t.a,r))},array:function(e,t,r){return e.map((function(e,n){return Dt(e,t[n],r)}))}}),zt=.95047,Ot=1,Nt=1.08883,jt=4/29,Rt=6/29,Ft=3*Rt*Rt,Bt=Rt*Rt*Rt,Ut=Math.PI/180,Vt=180/Math.PI;function qt(e){return e>Bt?Math.pow(e,1/3):e/Ft+jt}function Wt(e){return e>Rt?e*e*e:Ft*(e-jt)}function Gt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Yt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Zt(e){var t=Yt(e.r),r=Yt(e.g),n=Yt(e.b),a=qt((.4124564*t+.3575761*r+.1804375*n)/zt),i=qt((.2126729*t+.7151522*r+.072175*n)/Ot);return{l:116*i-16,a:500*(a-i),b:200*(i-qt((.0193339*t+.119192*r+.9503041*n)/Nt)),alpha:e.a}}function Ht(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=Ot*Wt(t),r=zt*Wt(r),n=Nt*Wt(n),new Ke(Gt(3.2404542*r-1.5371385*t-.4985314*n),Gt(-.969266*r+1.8760108*t+.041556*n),Gt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function Qt(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var Xt={forward:Zt,reverse:Ht,interpolate:function(e,t,r){return{l:Dt(e.l,t.l,r),a:Dt(e.a,t.a,r),b:Dt(e.b,t.b,r),alpha:Dt(e.alpha,t.alpha,r)}}},Kt={forward:function(e){var t=Zt(e),r=t.l,n=t.a,a=t.b,i=Math.atan2(a,n)*Vt;return{h:i<0?i+360:i,c:Math.sqrt(n*n+a*a),l:r,alpha:e.a}},reverse:function(e){var t=e.h*Ut,r=e.c;return Ht({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:Qt(e.h,t.h,r),c:Dt(e.c,t.c,r),l:Dt(e.l,t.l,r),alpha:Dt(e.alpha,t.alpha,r)}}},Jt=Object.freeze({__proto__:null,lab:Xt,hcl:Kt}),$t=function(e,t,r,n,a){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var i=0,o=a;i<o.length;i+=1){var s=o[i],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function er(e,t,r,n){var a=n-r,i=e-r;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}$t.interpolationFactor=function(e,t,n,a){var i=0;if("exponential"===e.name)i=er(t,e.base,n,a);else if("linear"===e.name)i=er(t,1,n,a);else if("cubic-bezier"===e.name){var o=e.controlPoints;i=new r(o[0],o[1],o[2],o[3]).solve(er(t,1,n,a))}return i},$t.parse=function(e,t){var r=e[0],n=e[1],a=e[2],i=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(a=t.parse(a,2,je)))return null;var l=[],u=null;"interpolate-hcl"===r||"interpolate-lab"===r?u=Be:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<i.length;c+=2){var p=i[c],h=i[c+1],f=c+3,d=c+4;if("number"!=typeof p)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(l.length&&l[l.length-1][0]>=p)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var y=t.parse(h,d,u);if(!y)return null;u=u||y.type,l.push([p,y])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new $t(u,r,n,a,l):t.error("Type "+Ze(u)+" is not interpolatable.")},$t.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var a=t.length;if(n>=t[a-1])return r[a-1].evaluate(e);var i=kt(t,n),o=t[i],s=t[i+1],l=$t.interpolationFactor(this.interpolation,n,o,s),u=r[i].evaluate(e),c=r[i+1].evaluate(e);return"interpolate"===this.operator?Pt[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?Kt.reverse(Kt.interpolate(Kt.forward(u),Kt.forward(c),l)):Xt.reverse(Xt.interpolate(Xt.forward(u),Xt.forward(c),l))},$t.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},$t.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()})))},$t.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var tr=function(e,t){this.type=e,this.args=t};tr.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var a=[],i=0,o=e.slice(1);i<o.length;i+=1){var s=o[i],l=t.parse(s,1+a.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,a.push(l)}var u=n&&a.some((function(e){return Qe(n,e.type)}));return new tr(u?Ve:r,a)},tr.prototype.evaluate=function(e){for(var t,r=null,n=0,a=0,i=this.args;a<i.length&&(n++,(r=i[a].evaluate(e))&&r instanceof ut&&!r.available&&(t||(t=r.name),r=null,n===this.args.length&&(r=t)),null===r);a+=1);return r},tr.prototype.eachChild=function(e){this.args.forEach(e)},tr.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},tr.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var rr=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};rr.prototype.evaluate=function(e){return this.result.evaluate(e)},rr.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},rr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var a=e[n];if("string"!=typeof a)return t.error("Expected string, but found "+typeof a+" instead.",n);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=t.parse(e[n+1],n+1);if(!i)return null;r.push([a,i])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new rr(r,o):null},rr.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},rr.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],a=n[0],i=n[1];e.push(a,i.serialize())}return e.push(this.result.serialize()),e};var nr=function(e,t,r){this.type=e,this.index=t,this.input=r};nr.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,je),n=t.parse(e[2],2,Ye(t.expectedType||Ve));if(!r||!n)return null;var a=n.type;return new nr(a.itemType,r,n)},nr.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new dt("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new dt("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new dt("Array index must be an integer, but found "+t+" instead.");return r[t]},nr.prototype.eachChild=function(e){e(this.index),e(this.input)},nr.prototype.possibleOutputs=function(){return[void 0]},nr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ar=function(e,t){this.type=Fe,this.needle=e,this.haystack=t};ar.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r,n=t.parse(e[1],1,Ve),a=t.parse(e[2],2,Ve);return n&&a?"boolean"!==(r=n.type).kind&&"string"!==r.kind&&"number"!==r.kind&&"null"!==r.kind&&"value"!==r.kind?t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ze(n.type)+" instead"):new ar(n,a):null},ar.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!t||!r)return!1;if(!function(e){return"boolean"==typeof e||"string"==typeof e||"number"==typeof e}(t))throw new dt("Expected first argument to be of type boolean, string or number, but found "+Ze(pt(t))+" instead.");if(!function(e){return Array.isArray(e)||"string"==typeof e}(r))throw new dt("Expected second argument to be of type array or string, but found "+Ze(pt(r))+" instead.");return r.indexOf(t)>=0},ar.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},ar.prototype.possibleOutputs=function(){return[!0,!1]},ar.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ir=function(e,t,r,n,a,i){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=a,this.otherwise=i};ir.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var a={},i=[],o=2;o<e.length-1;o+=2){var s=e[o],l=e[o+1];Array.isArray(s)||(s=[s]);var u=t.concat(o);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var h=p[c];if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,pt(h)))return null}else r=pt(h);if(void 0!==a[String(h)])return u.error("Branch labels must be unique.");a[String(h)]=i.length}var f=t.parse(l,o,n);if(!f)return null;n=n||f.type,i.push(f)}var d=t.parse(e[1],1,Ve);if(!d)return null;var y=t.parse(e[e.length-1],e.length-1,n);return y?"value"!==d.type.kind&&t.concat(1).checkSubtype(r,d.type)?null:new ir(r,n,d,a,i,y):null},ir.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(pt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},ir.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},ir.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},ir.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},a=0,i=Object.keys(this.cases).sort();a<i.length;a+=1){var o=i[a];void 0===(p=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[p][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=r;l<u.length;l+=1){var c=u[l],p=c[0],h=c[1];1===h.length?t.push(s(h[0])):t.push(h.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var or=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};function sr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function lr(e,t,r,n){return 0===n.compare(t,r)}function ur(e,t,r){var n="=="!==e&&"!="!==e;return function(){function a(e,t,r){this.type=Fe,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return a.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],i=t.parse(e[1],1,Ve);if(!i)return null;if(!sr(r,i.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Ze(i.type)+"'.");var o=t.parse(e[2],2,Ve);if(!o)return null;if(!sr(r,o.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Ze(o.type)+"'.");if(i.type.kind!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+Ze(i.type)+"' and '"+Ze(o.type)+"'.");n&&("value"===i.type.kind&&"value"!==o.type.kind?i=new vt(o.type,[i]):"value"!==i.type.kind&&"value"===o.type.kind&&(o=new vt(i.type,[o])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,qe)))return null}return new a(i,o,s)},a.prototype.evaluate=function(a){var i=this.lhs.evaluate(a),o=this.rhs.evaluate(a);if(n&&this.hasUntypedArgument){var s=pt(i),l=pt(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new dt('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var u=pt(i),c=pt(o);if("string"!==u.kind||"string"!==c.kind)return t(a,i,o)}return this.collator?r(a,i,o,this.collator.evaluate(a)):t(a,i,o)},a.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},a.prototype.possibleOutputs=function(){return[!0,!1]},a.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},a}()}or.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],a=1;a<e.length-1;a+=2){var i=t.parse(e[a],a,Fe);if(!i)return null;var o=t.parse(e[a+1],a+1,r);if(!o)return null;n.push([i,o]),r=r||o.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new or(r,n,s):null},or.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],a=n[0],i=n[1];if(a.evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},or.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],a=n[0],i=n[1];e(a),e(i)}e(this.otherwise)},or.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.branches.map((function(e){return e[0],e[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},or.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var cr=ur("==",(function(e,t,r){return t===r}),lr),pr=ur("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!lr(0,t,r,n)})),hr=ur("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),fr=ur(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),dr=ur("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),yr=ur(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),vr=function(e,t,r,n,a){this.type=Re,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=a};vr.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,je);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var a=null;if(n.locale&&!(a=t.parse(n.locale,1,Re)))return null;var i=null;if(n.currency&&!(i=t.parse(n.currency,1,Re)))return null;var o=null;if(n["min-fraction-digits"]&&!(o=t.parse(n["min-fraction-digits"],1,je)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,je))?null:new vr(r,a,i,o,s)},vr.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},vr.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},vr.prototype.possibleOutputs=function(){return[void 0]},vr.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var mr=function(e){this.type=je,this.input=e};mr.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Ze(r.type)+" instead."):new mr(r):null},mr.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new dt("Expected value to be of type string or array, but found "+Ze(pt(t))+" instead.")},mr.prototype.eachChild=function(e){e(this.input)},mr.prototype.possibleOutputs=function(){return[void 0]},mr.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var gr={"==":cr,"!=":pr,">":fr,"<":hr,">=":yr,"<=":dr,array:vt,at:nr,boolean:vt,case:or,coalesce:tr,collator:Et,format:mt,image:gt,in:ar,interpolate:$t,"interpolate-hcl":$t,"interpolate-lab":$t,length:mr,let:rr,literal:ft,match:ir,number:vt,"number-format":vr,object:vt,step:Lt,string:vt,"to-boolean":xt,"to-color":xt,"to-number":xt,"to-string":xt,var:It};function _r(e,t){var r=t[0],n=t[1],a=t[2],i=t[3];r=r.evaluate(e),n=n.evaluate(e),a=a.evaluate(e);var o=i?i.evaluate(e):1,s=ct(r,n,a,o);if(s)throw new dt(s);return new Ke(r/255*o,n/255*o,a/255*o,o)}function xr(e,t){return e in t}function br(e,t){var r=t[e];return void 0===r?null:r}function wr(e){return{type:e}}function Mr(e){return{result:"success",value:e}}function Er(e){return{result:"error",value:e}}function Sr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Tr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Cr(e){return!!e.expression&&e.expression.interpolated}function Ir(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ar(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function kr(e){return e}function Lr(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Dr(e,t,r,n,a){return Lr(typeof r===a?n[r]:void 0,e.default,t.default)}function Pr(e,t,r){if("number"!==Ir(r))return Lr(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var a=kt(e.stops.map((function(e){return e[0]})),r);return e.stops[a][1]}function zr(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==Ir(r))return Lr(e.default,t.default);var a=e.stops.length;if(1===a)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[a-1][0])return e.stops[a-1][1];var i=kt(e.stops.map((function(e){return e[0]})),r),o=function(e,t,r,n){var a=n-r,i=e-r;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}(r,n,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1],u=Pt[t.type]||kr;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Jt[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return u(r,n,o)}}:u(s,l,o)}function Or(e,t,r){return"color"===t.type?r=Ke.parse(r):"formatted"===t.type?r=lt.fromString(r.toString()):"resolvedImage"===t.type?r=ut.fromString(r.toString()):Ir(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),Lr(r,e.default,t.default)}Mt.register(gr,{error:[{kind:"error"},[Re],function(e,t){var r=t[0];throw new dt(r.evaluate(e))}],typeof:[Re,[Ve],function(e,t){return Ze(pt(t[0].evaluate(e)))}],"to-rgba":[Ye(je,4),[Be],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Be,[je,je,je],_r],rgba:[Be,[je,je,je,je],_r],has:{type:Fe,overloads:[[[Re],function(e,t){return xr(t[0].evaluate(e),e.properties())}],[[Re,Ue],function(e,t){var r=t[0],n=t[1];return xr(r.evaluate(e),n.evaluate(e))}]]},get:{type:Ve,overloads:[[[Re],function(e,t){return br(t[0].evaluate(e),e.properties())}],[[Re,Ue],function(e,t){var r=t[0],n=t[1];return br(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[Ve,[Re],function(e,t){return br(t[0].evaluate(e),e.featureState||{})}],properties:[Ue,[],function(e){return e.properties()}],"geometry-type":[Re,[],function(e){return e.geometryType()}],id:[Ve,[],function(e){return e.id()}],zoom:[je,[],function(e){return e.globals.zoom}],"heatmap-density":[je,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[je,[],function(e){return e.globals.lineProgress||0}],accumulated:[Ve,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[je,wr(je),function(e,t){for(var r=0,n=0,a=t;n<a.length;n+=1)r+=a[n].evaluate(e);return r}],"*":[je,wr(je),function(e,t){for(var r=1,n=0,a=t;n<a.length;n+=1)r*=a[n].evaluate(e);return r}],"-":{type:je,overloads:[[[je,je],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[je],function(e,t){return-t[0].evaluate(e)}]]},"/":[je,[je,je],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[je,[je,je],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[je,[],function(){return Math.LN2}],pi:[je,[],function(){return Math.PI}],e:[je,[],function(){return Math.E}],"^":[je,[je,je],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[je,[je],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[je,[je],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[je,[je],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[je,[je],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[je,[je],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[je,[je],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[je,[je],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[je,[je],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[je,[je],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[je,[je],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[je,wr(je),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[je,wr(je),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[je,[je],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[je,[je],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[je,[je],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[je,[je],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[Fe,[Re,Ve],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[Fe,[Ve],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Fe,[Re],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Fe,[Re,Ve],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a<i}],"filter-id-<":[Fe,[Ve],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n<a}],"filter->":[Fe,[Re,Ve],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a>i}],"filter-id->":[Fe,[Ve],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n>a}],"filter-<=":[Fe,[Re,Ve],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a<=i}],"filter-id-<=":[Fe,[Ve],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n<=a}],"filter->=":[Fe,[Re,Ve],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a>=i}],"filter-id->=":[Fe,[Ve],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n>=a}],"filter-has":[Fe,[Ve],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Fe,[],function(e){return null!==e.id()}],"filter-type-in":[Fe,[Ye(Re)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Fe,[Ye(Ve)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Fe,[Re,Ye(Ve)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Fe,[Re,Ye(Ve)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var a=r+n>>1;if(t[a]===e)return!0;t[a]>e?n=a-1:r=a+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Fe,overloads:[[[Fe,Fe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[wr(Fe),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:Fe,overloads:[[[Fe,Fe],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[wr(Fe),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[Fe,[Fe],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Fe,[Re],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[Re,[Re],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Re,[Re],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Re,wr(Ve),function(e,t){return t.map((function(t){return ht(t.evaluate(e))})).join("")}],"resolved-locale":[Re,[qe],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Nr=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new wt,this._defaultValue=t?function(e){return"color"===e.type&&Ar(e.default)?new Ke(0,0,0,0):"color"===e.type?Ke.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function jr(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in gr}function Rr(e,t){var r=new At(gr,[],t?function(e){var t={color:Be,string:Re,number:je,enum:Re,boolean:Fe,formatted:We,resolvedImage:Ge};return"array"===e.type?Ye(t[e.value]||Ve,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Mr(new Nr(n,t)):Er(r.errors)}Nr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},Nr.prototype.evaluate=function(e,t,r,n,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=a||null;try{var i=this.expression.evaluate(this._evaluator);if(null==i||"number"==typeof i&&i!=i)return this._defaultValue;if(this._enumValues&&!(i in this._enumValues))throw new dt("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(i)+" instead.");return i}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Fr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Tt(t.expression)};Fr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,a)},Fr.prototype.evaluate=function(e,t,r,n,a){return this._styleExpression.evaluate(e,t,r,n,a)};var Br=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Tt(t.expression),this.interpolationType=n};function Ur(e,t){if("error"===(e=Rr(e,t)).result)return e;var r=e.value.expression,n=St(r);if(!n&&!Sr(t))return Er([new ze("","data expressions not supported")]);var a=Ct(r,["zoom"]);if(!a&&!Tr(t))return Er([new ze("","zoom expressions not supported")]);var i=function e(t){var r=null;if(t instanceof rr)r=e(t.result);else if(t instanceof tr)for(var n=0,a=t.args;n<a.length;n+=1){var i=a[n];if(r=e(i))break}else(t instanceof Lt||t instanceof $t)&&t.input instanceof Mt&&"zoom"===t.input.name&&(r=t);return r instanceof ze?r:(t.eachChild((function(t){var n=e(t);n instanceof ze?r=n:!r&&n?r=new ze("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new ze("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r)}(r);if(!i&&!a)return Er([new ze("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(i instanceof ze)return Er([i]);if(i instanceof $t&&!Cr(t))return Er([new ze("",'"interpolate" expressions cannot be used with this property')]);if(!i)return Mr(new Fr(n?"constant":"source",e.value));var o=i instanceof $t?i.interpolation:void 0;return Mr(new Br(n?"camera":"composite",e.value,i.labels,o))}Br.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,a)},Br.prototype.evaluate=function(e,t,r,n,a){return this._styleExpression.evaluate(e,t,r,n,a)},Br.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?$t.interpolationFactor(this.interpolationType,e,t,r):0};var Vr=function(e,t){this._parameters=e,this._specification=t,Le(this,function e(t,r){var n,a,i,o="color"===r.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||void 0!==t.property,u=s||!l,c=t.type||(Cr(r)?"exponential":"interval");if(o&&((t=Le({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],Ke.parse(e[1])]}))),t.default?t.default=Ke.parse(t.default):t.default=Ke.parse(r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Jt[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)n=zr;else if("interval"===c)n=Pr;else if("categorical"===c){n=Dr,a=Object.create(null);for(var p=0,h=t.stops;p<h.length;p+=1){var f=h[p];a[f[0]]=f[1]}i=typeof t.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=Or}if(s){for(var d={},y=[],v=0;v<t.stops.length;v++){var m=t.stops[v],g=m[0].zoom;void 0===d[g]&&(d[g]={zoom:g,type:t.type,property:t.property,default:t.default,stops:[]},y.push(g)),d[g].stops.push([m[0].value,m[1]])}for(var _=[],x=0,b=y;x<b.length;x+=1){var w=b[x];_.push([d[w].zoom,e(d[w],r)])}var M={name:"linear"};return{kind:"composite",interpolationType:M,interpolationFactor:$t.interpolationFactor.bind(void 0,M),zoomStops:_.map((function(e){return e[0]})),evaluate:function(e,n){var a=e.zoom;return zr({stops:_,base:t.base},r,a).evaluate(a,n)}}}if(u){var E="exponential"===c?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:$t.interpolationFactor.bind(void 0,E),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){var o=e.zoom;return n(t,r,o,a,i)}}}return{kind:"source",evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return void 0===s?Lr(t.default,r.default):n(t,r,s,a,i)}}}(this._parameters,this._specification))};function qr(e){var t=e.key,r=e.value,n=e.valueSpec||{},a=e.objectElementValidators||{},i=e.style,o=e.styleSpec,s=[],l=Ir(r);if("object"!==l)return[new Ae(t,r,"object expected, "+l+" found")];for(var u in r){var c=u.split(".")[0],p=n[c]||n["*"],h=void 0;if(a[c])h=a[c];else if(n[c])h=dn;else if(a["*"])h=a["*"];else{if(!n["*"]){s.push(new Ae(t,r[u],'unknown property "'+u+'"'));continue}h=dn}s=s.concat(h({key:(t?t+".":t)+u,value:r[u],valueSpec:p,style:i,styleSpec:o,object:r,objectKey:u},r))}for(var f in n)a[f]||n[f].required&&void 0===n[f].default&&void 0===r[f]&&s.push(new Ae(t,r,'missing required property "'+f+'"'));return s}function Wr(e){var t=e.value,r=e.valueSpec,n=e.style,a=e.styleSpec,i=e.key,o=e.arrayElementValidator||dn;if("array"!==Ir(t))return[new Ae(i,t,"array expected, "+Ir(t)+" found")];if(r.length&&t.length!==r.length)return[new Ae(i,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new Ae(i,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value,values:r.values};a.$version<7&&(s.function=r.function),"object"===Ir(r.value)&&(s=r.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(o({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:n,styleSpec:a,key:i+"["+u+"]"}));return l}function Gr(e){var t=e.key,r=e.value,n=e.valueSpec,a=Ir(r);return"number"===a&&r!=r&&(a="NaN"),"number"!==a?[new Ae(t,r,"number expected, "+a+" found")]:"minimum"in n&&r<n.minimum?[new Ae(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new Ae(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Yr(e){var t,r,n,a=e.valueSpec,i=De(e.value.type),o={},s="categorical"!==i&&void 0===e.value.property,l=!s,u="array"===Ir(e.value.stops)&&"array"===Ir(e.value.stops[0])&&"object"===Ir(e.value.stops[0][0]),c=qr({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new Ae(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(Wr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:p})),"array"===Ir(r)&&0===r.length&&t.push(new Ae(e.key,r,"array must have at least one stop")),t},default:function(e){return dn({key:e.key,value:e.value,valueSpec:a,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&c.push(new Ae(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||c.push(new Ae(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!Cr(e.valueSpec)&&c.push(new Ae(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Sr(e.valueSpec)?c.push(new Ae(e.key,e.value,"property functions not supported")):s&&!Tr(e.valueSpec)&&c.push(new Ae(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!u||void 0!==e.value.property||c.push(new Ae(e.key,e.value,'"property" property is required')),c;function p(e){var t=[],i=e.value,s=e.key;if("array"!==Ir(i))return[new Ae(s,i,"array expected, "+Ir(i)+" found")];if(2!==i.length)return[new Ae(s,i,"array length 2 expected, length "+i.length+" found")];if(u){if("object"!==Ir(i[0]))return[new Ae(s,i,"object expected, "+Ir(i[0])+" found")];if(void 0===i[0].zoom)return[new Ae(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Ae(s,i,"object stop key must have value")];if(n&&n>De(i[0].zoom))return[new Ae(s,i[0].zoom,"stop zoom values must appear in ascending order")];De(i[0].zoom)!==n&&(n=De(i[0].zoom),r=void 0,o={}),t=t.concat(qr({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Gr,value:h}}))}else t=t.concat(h({key:s+"[0]",value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return jr(Pe(i[1]))?t.concat([new Ae(s+"[1]",i[1],"expressions are not allowed in function stops.")]):t.concat(dn({key:s+"[1]",value:i[1],valueSpec:a,style:e.style,styleSpec:e.styleSpec}))}function h(e,n){var s=Ir(e.value),l=De(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new Ae(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ae(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var c="number expected, "+s+" found";return Sr(a)&&void 0===i&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ae(e.key,u,c)]}return"categorical"!==i||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&void 0!==r&&l<r?[new Ae(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in o?[new Ae(e.key,u,"stop domain values must be unique")]:(o[l]=!0,[])):[new Ae(e.key,u,"integer expected, found "+l)]}}function Zr(e){var t=("property"===e.expressionContext?Ur:Rr)(Pe(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Ae(""+e.key+t.key,e.value,t.message)}));var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==r.possibleOutputs().indexOf(void 0))return[new Ae(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Tt(r))return[new Ae(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Tt(r))return[new Ae(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ct(r,["zoom","feature-state"]))return[new Ae(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!St(r))return[new Ae(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Hr(e){var t=e.key,r=e.value,n=e.valueSpec,a=[];return Array.isArray(n.values)?-1===n.values.indexOf(De(r))&&a.push(new Ae(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(De(r))&&a.push(new Ae(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),a}function Qr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&Array.isArray(e[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!Qr(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}Vr.deserialize=function(e){return new Vr(e._parameters,e._specification)},Vr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var Xr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Kr(e){if(null==e)return function(){return!0};Qr(e)||(e=$r(e));var t=Rr(e,Xr);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return function(e,r){return t.value.evaluate(e,r)}}function Jr(e,t){return e<t?-1:e>t?1:0}function $r(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?en(e[1],e[2],"=="):"!="===r?nn(en(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?en(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map($r))):"all"===r?["all"].concat(e.slice(1).map($r)):"none"===r?["all"].concat(e.slice(1).map($r).map(nn)):"in"===r?tn(e[1],e.slice(2)):"!in"===r?nn(tn(e[1],e.slice(2))):"has"===r?rn(e[1]):"!has"!==r||nn(rn(e[1]))}function en(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function tn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Jr)]]:["filter-in-small",e,["literal",t]]}}function rn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function nn(e){return["!",e]}function an(e){return Qr(Pe(e.value))?Zr(Le({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value,n=t.key;if("array"!==Ir(r))return[new Ae(n,r,"array expected, "+Ir(r)+" found")];var a,i=t.styleSpec,o=[];if(r.length<1)return[new Ae(n,r,"filter array must have at least 1 element")];switch(o=o.concat(Hr({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),De(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===De(r[1])&&o.push(new Ae(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&o.push(new Ae(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(a=Ir(r[1]))&&o.push(new Ae(n+"[1]",r[1],"string expected, "+a+" found"));for(var s=2;s<r.length;s++)a=Ir(r[s]),"$type"===De(r[1])?o=o.concat(Hr({key:n+"["+s+"]",value:r[s],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==a&&"number"!==a&&"boolean"!==a&&o.push(new Ae(n+"["+s+"]",r[s],"string, number, or boolean expected, "+a+" found"));break;case"any":case"all":case"none":for(var l=1;l<r.length;l++)o=o.concat(e({key:n+"["+l+"]",value:r[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":a=Ir(r[1]),2!==r.length?o.push(new Ae(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==a&&o.push(new Ae(n+"[1]",r[1],"string expected, "+a+" found"))}return o}(e)}function on(e,t){var r=e.key,n=e.style,a=e.styleSpec,i=e.value,o=e.objectKey,s=a[t+"_"+e.layerType];if(!s)return[];var l=o.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return dn({key:r,value:i,valueSpec:a.transition,style:n,styleSpec:a});var u,c=e.valueSpec||s[o];if(!c)return[new Ae(r,i,'unknown property "'+o+'"')];if("string"===Ir(i)&&Sr(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(i)))return[new Ae(r,i,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===e.layerType&&("text-field"===o&&n&&!n.glyphs&&p.push(new Ae(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Ar(Pe(i))&&"identity"===De(i.type)&&p.push(new Ae(r,i,'"text-font" does not support identity functions'))),p.concat(dn({key:e.key,value:i,valueSpec:c,style:n,styleSpec:a,expressionContext:"property",propertyType:t,propertyKey:o}))}function sn(e){return on(e,"paint")}function ln(e){return on(e,"layout")}function un(e){var t=[],r=e.value,n=e.key,a=e.style,i=e.styleSpec;r.type||r.ref||t.push(new Ae(n,r,'either "type" or "ref" is required'));var o,s=De(r.type),l=De(r.ref);if(r.id)for(var u=De(r.id),c=0;c<e.arrayIndex;c++){var p=a.layers[c];De(p.id)===u&&t.push(new Ae(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+p.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(e){e in r&&t.push(new Ae(n,r[e],'"'+e+'" is prohibited for ref layers'))})),a.layers.forEach((function(e){De(e.id)===l&&(o=e)})),o?o.ref?t.push(new Ae(n,r.ref,"ref cannot reference another ref layer")):s=De(o.type):t.push(new Ae(n,r.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(r.source){var h=a.sources&&a.sources[r.source],f=h&&De(h.type);h?"vector"===f&&"raster"===s?t.push(new Ae(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===f&&"raster"!==s?t.push(new Ae(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==f||r["source-layer"]?"raster-dem"===f&&"hillshade"!==s?t.push(new Ae(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||t.push(new Ae(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Ae(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new Ae(n,r.source,'source "'+r.source+'" not found'))}else t.push(new Ae(n,r,'missing required property "source"'));return t=t.concat(qr({key:n,value:r,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return dn({key:n+".type",value:r.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:an,layout:function(e){return qr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return ln(Le({layerType:s},e))}}})},paint:function(e){return qr({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return sn(Le({layerType:s},e))}}})}}}))}function cn(e){var t=e.value,r=e.key,n=e.styleSpec,a=e.style;if(!t.type)return[new Ae(r,t,'"type" is required')];var i,o=De(t.type);switch(o){case"vector":case"raster":case"raster-dem":return qr({key:r,value:t,valueSpec:n["source_"+o.replace("-","_")],style:e.style,styleSpec:n});case"geojson":if(i=qr({key:r,value:t,valueSpec:n.source_geojson,style:a,styleSpec:n}),t.cluster)for(var s in t.clusterProperties){var l=t.clusterProperties[s],u=l[0],c=l[1],p="string"==typeof u?[u,["accumulated"],["get",s]]:u;i.push.apply(i,Zr({key:r+"."+s+".map",value:c,expressionContext:"cluster-map"})),i.push.apply(i,Zr({key:r+"."+s+".reduce",value:p,expressionContext:"cluster-reduce"}))}return i;case"video":return qr({key:r,value:t,valueSpec:n.source_video,style:a,styleSpec:n});case"image":return qr({key:r,value:t,valueSpec:n.source_image,style:a,styleSpec:n});case"canvas":return[new Ae(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Hr({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:a,styleSpec:n})}}function pn(e){var t=e.value,r=e.styleSpec,n=r.light,a=e.style,i=[],o=Ir(t);if(void 0===t)return i;if("object"!==o)return i.concat([new Ae("light",t,"object expected, "+o+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);i=l&&n[l[1]]&&n[l[1]].transition?i.concat(dn({key:s,value:t[s],valueSpec:r.transition,style:a,styleSpec:r})):n[s]?i.concat(dn({key:s,value:t[s],valueSpec:n[s],style:a,styleSpec:r})):i.concat([new Ae(s,t[s],'unknown property "'+s+'"')])}return i}function hn(e){var t=e.value,r=e.key,n=Ir(t);return"string"!==n?[new Ae(r,t,"string expected, "+n+" found")]:[]}var fn={"*":function(){return[]},array:Wr,boolean:function(e){var t=e.value,r=e.key,n=Ir(t);return"boolean"!==n?[new Ae(r,t,"boolean expected, "+n+" found")]:[]},number:Gr,color:function(e){var t=e.key,r=e.value,n=Ir(r);return"string"!==n?[new Ae(t,r,"color expected, "+n+" found")]:null===Xe(r)?[new Ae(t,r,'color expected, "'+r+'" found')]:[]},constants:ke,enum:Hr,filter:an,function:Yr,layer:un,object:qr,source:cn,light:pn,string:hn,formatted:function(e){return 0===hn(e).length?[]:Zr(e)},resolvedImage:function(e){return 0===hn(e).length?[]:Zr(e)}};function dn(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&Ar(De(t))?Yr(e):r.expression&&jr(Pe(t))?Zr(e):r.type&&fn[r.type]?fn[r.type](e):qr(Le({},e,{valueSpec:r.type?n[r.type]:r}))}function yn(e){var t=e.value,r=e.key,n=hn(e);return n.length?n:(-1===t.indexOf("{fontstack}")&&n.push(new Ae(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Ae(r,t,'"glyphs" url must include a "{range}" token')),n)}function vn(e,t){void 0===t&&(t=Ie);var r=[];return r=r.concat(dn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:yn,"*":function(){return[]}}})),e.constants&&(r=r.concat(ke({key:"constants",value:e.constants,style:e,styleSpec:t}))),mn(r)}function mn(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function gn(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return mn(e.apply(this,t))}}vn.source=gn(cn),vn.light=gn(pn),vn.layer=gn(un),vn.filter=gn(an),vn.paintProperty=gn(sn),vn.layoutProperty=gn(ln);var _n=vn,xn=_n.light,bn=_n.paintProperty,wn=_n.layoutProperty;function Mn(e,t){var r=!1;if(t&&t.length)for(var n=0,a=t;n<a.length;n+=1){var i=a[n];e.fire(new Te(new Error(i.message))),r=!0}return r}var En=Tn,Sn=3;function Tn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var a=new Int32Array(this.arrayBuffer);e=a[0],t=a[1],r=a[2],this.d=t+2*r;for(var i=0;i<this.d*this.d;i++){var o=a[Sn+i],s=a[Sn+i+1];n.push(o===s?null:a.subarray(o,s))}var l=a[Sn+n.length],u=a[Sn+n.length+1];this.keys=a.subarray(l,u),this.bboxes=a.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var p=r/t*e;this.min=-p,this.max=e+p}Tn.prototype.insert=function(e,t,r,n,a){this._forEachCell(t,r,n,a,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(a)},Tn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Tn.prototype._insertCell=function(e,t,r,n,a,i){this.cells[a].push(i)},Tn.prototype.query=function(e,t,r,n,a){var i=this.min,o=this.max;if(e<=i&&t<=i&&o<=r&&o<=n&&!a)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},a),s},Tn.prototype._queryCell=function(e,t,r,n,a,i,o,s){var l=this.cells[a];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var h=l[p];if(void 0===o[h]){var f=4*h;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):e<=c[f+2]&&t<=c[f+3]&&r>=c[f+0]&&n>=c[f+1])?(o[h]=!0,i.push(u[h])):o[h]=!1}}},Tn.prototype._forEachCell=function(e,t,r,n,a,i,o,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),p=this._convertToCellCoord(n),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.d*f+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&a.call(this,e,t,r,n,d,i,o,s))return}},Tn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Tn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Tn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=Sn+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var a=new Int32Array(t+r+this.keys.length+this.bboxes.length);a[0]=this.extent,a[1]=this.n,a[2]=this.padding;for(var i=t,o=0;o<e.length;o++){var s=e[o];a[Sn+o]=i,a.set(s,i),i+=s.length}return a[Sn+e.length]=i,a.set(this.keys,i),i+=this.keys.length,a[Sn+e.length+1]=i,a.set(this.bboxes,i),i+=this.bboxes.length,a.buffer};var Cn=self.ImageData,In={};function An(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),In[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var kn in An("Object",Object),En.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},En.deserialize=function(e){return new En(e.buffer)},An("Grid",En),An("Color",Ke),An("Error",Error),An("ResolvedImage",ut),An("StylePropertyFunction",Vr),An("StyleExpression",Nr,{omit:["_evaluator"]}),An("ZoomDependentExpression",Br),An("ZoomConstantExpression",Fr),An("CompoundExpression",Mt,{omit:["_evaluate"]}),gr)gr[kn]._classRegistryKey||An("Expression_"+kn,gr[kn]);function Ln(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Dn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Ln(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof Cn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],a=0,i=e;a<i.length;a+=1){var o=i[a];n.push(Dn(o,t))}return n}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(In[l].omit.indexOf(c)>=0)){var p=e[c];u[c]=In[l].shallow.indexOf(c)>=0?p:Dn(p,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function Pn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Ln(e)||ArrayBuffer.isView(e)||e instanceof Cn)return e;if(Array.isArray(e))return e.map(Pn);if("object"==typeof e){var t=e.$name||"Object",r=In[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),a=0,i=Object.keys(e);a<i.length;a+=1){var o=i[a];if("$name"!==o){var s=e[o];n[o]=In[t].shallow.indexOf(o)>=0?s:Pn(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var zn=function(){this.first=!0};zn.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var On="deferred",Nn="loading",jn="loaded",Rn=null,Fn="unavailable",Bn=null,Un=null,Vn=function(e){Rn&&Rn(e)};function qn(){Wn.fire(new Se("pluginStateChange",{pluginStatus:Fn,pluginURL:Bn,pluginBlobURL:Un}))}var Wn=new Ce,Gn=function(){return Fn},Yn=function(){if(Fn!==On||!Bn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Fn=Nn,qn(),Bn&&xe({url:Bn},(function(e,t){if(e)Vn(e);else{var r=new self.Blob([t],{type:"application/javascript"});Un=self.URL.createObjectURL(r),Fn=jn,qn()}}))},Zn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Fn===jn||null!=Zn.applyArabicShaping},isLoading:function(){return Fn===Nn},setState:function(e){Fn=e.pluginStatus,Bn=e.pluginURL,Un=e.pluginBlobURL},isParsed:function(){return null!=Zn.applyArabicShaping&&null!=Zn.processBidirectionalText&&null!=Zn.processStyledBidirectionalText},getURLs:function(){return{blob:Un,host:Bn}}},Hn=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new zn,this.transition={})};Hn.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!it(n[r].charCodeAt(0),t))return!1;return!0}(e,Zn.isLoaded())},Hn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Hn.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var Qn=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Ar(e))return new Vr(e,t);if(jr(e)){var r=Ur(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=Ke.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===t?e.specification.default:t,e.specification)};Qn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Qn.prototype.possiblyEvaluate=function(e,t){return this.property.possiblyEvaluate(this,e,t)};var Xn=function(e){this.property=e,this.value=new Qn(e,void 0)};Xn.prototype.transitioned=function(e,t){return new Jn(this.property,this.value,t,p({},e.transition,this.transition),e.now)},Xn.prototype.untransitioned=function(){return new Jn(this.property,this.value,null,{},0)};var Kn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Kn.prototype.getValue=function(e){return x(this._values[e].value.value)},Kn.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Xn(this._values[e].property)),this._values[e].value=new Qn(this._values[e].property,null===t?void 0:x(t))},Kn.prototype.getTransition=function(e){return x(this._values[e].transition)},Kn.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Xn(this._values[e].property)),this._values[e].transition=x(t)||void 0},Kn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],a=this.getValue(n);void 0!==a&&(e[n]=a);var i=this.getTransition(n);void 0!==i&&(e[n+"-transition"]=i)}return e},Kn.prototype.transitioned=function(e,t){for(var r=new $n(this._properties),n=0,a=Object.keys(this._values);n<a.length;n+=1){var i=a[n];r._values[i]=this._values[i].transitioned(e,t._values[i])}return r},Kn.prototype.untransitioned=function(){for(var e=new $n(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var Jn=function(e,t,r,n,a){this.property=e,this.value=t,this.begin=a+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};Jn.prototype.possiblyEvaluate=function(e,t){var r=e.now||0,n=this.value.possiblyEvaluate(e,t),a=this.prior;if(a){if(r>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(r<this.begin)return a.possiblyEvaluate(e,t);var i=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t),n,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(i))}return n};var $n=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};$n.prototype.possiblyEvaluate=function(e,t){for(var r=new ra(this._properties),n=0,a=Object.keys(this._values);n<a.length;n+=1){var i=a[n];r._values[i]=this._values[i].possiblyEvaluate(e,t)}return r},$n.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var r=t[e];if(this._values[r].prior)return!0}return!1};var ea=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};ea.prototype.getValue=function(e){return x(this._values[e].value)},ea.prototype.setValue=function(e,t){this._values[e]=new Qn(this._values[e].property,null===t?void 0:x(t))},ea.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],a=this.getValue(n);void 0!==a&&(e[n]=a)}return e},ea.prototype.possiblyEvaluate=function(e,t){for(var r=new ra(this._properties),n=0,a=Object.keys(this._values);n<a.length;n+=1){var i=a[n];r._values[i]=this._values[i].possiblyEvaluate(e,t)}return r};var ta=function(e,t,r){this.property=e,this.value=t,this.parameters=r};ta.prototype.isConstant=function(){return"constant"===this.value.kind},ta.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},ta.prototype.evaluate=function(e,t,r){return this.property.evaluate(this.value,this.parameters,e,t,r)};var ra=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};ra.prototype.get=function(e){return this._values[e]};var na=function(e){this.specification=e};na.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},na.prototype.interpolate=function(e,t,r){var n=Pt[this.specification.type];return n?n(e,t,r):e};var aa=function(e,t){this.specification=e,this.overrides=t};aa.prototype.possiblyEvaluate=function(e,t,r){return"constant"===e.expression.kind||"camera"===e.expression.kind?new ta(this,{kind:"constant",value:e.expression.evaluate(t,null,{},r)},t):new ta(this,e.expression,t)},aa.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new ta(this,{kind:"constant",value:void 0},e.parameters);var n=Pt[this.specification.type];return n?new ta(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},aa.prototype.evaluate=function(e,t,r,n,a){return"constant"===e.kind?e.value:e.evaluate(t,r,n,a)};var ia=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t,r){if(void 0===e.value)return new ta(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var n=e.expression.evaluate(t,null,{},r),a="resolvedImage"===e.property.specification.type&&"string"!=typeof n?n.name:n,i=this._calculate(a,a,a,t);return new ta(this,{kind:"constant",value:i},t)}if("camera"===e.expression.kind){var o=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new ta(this,{kind:"constant",value:o},t)}return new ta(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n,a){if("source"===e.kind){var i=e.evaluate(t,r,n,a);return this._calculate(i,i,i,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(aa),oa=function(e){this.specification=e};oa.prototype.possiblyEvaluate=function(e,t,r){if(void 0!==e.value){if("constant"===e.expression.kind){var n=e.expression.evaluate(t,null,{},r);return this._calculate(n,n,n,t)}return this._calculate(e.expression.evaluate(new Hn(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Hn(Math.floor(t.zoom),t)),e.expression.evaluate(new Hn(Math.floor(t.zoom+1),t)),t)}},oa.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},oa.prototype.interpolate=function(e){return e};var sa=function(e){this.specification=e};sa.prototype.possiblyEvaluate=function(e,t,r){return!!e.expression.evaluate(t,null,{},r)},sa.prototype.interpolate=function(){return!1};var la=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var r=e[t];r.specification.overridable&&this.overridableProperties.push(t);var n=this.defaultPropertyValues[t]=new Qn(r,void 0),a=this.defaultTransitionablePropertyValues[t]=new Xn(r);this.defaultTransitioningPropertyValues[t]=a.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};An("DataDrivenProperty",aa),An("DataConstantProperty",na),An("CrossFadedDataDrivenProperty",ia),An("CrossFadedProperty",oa),An("ColorRampProperty",sa);var ua=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter=function(){return!0},"custom"!==t.type&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new ea(r.layout)),r.paint)){for(var n in this._transitionablePaint=new Kn(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var a in t.layout)this.setLayoutProperty(a,t.layout[a],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t){var n="layers."+this.id+".layout."+e;if(this._validate(wn,n,e,t,r))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t},t.prototype.getPaintProperty=function(e){return m(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!=t){var n="layers."+this.id+".paint."+e;if(this._validate(bn,n,e,t,r))return!1}if(m(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var a=this._transitionablePaint._values[e],i="cross-faded-data-driven"===a.property.specification["property-type"],o=a.value.isDataDriven(),s=a.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var l=this._transitionablePaint._values[e].value;return l.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(e,s,l)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,r){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),_(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,r,n,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&Mn(this,e.call(_n,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Ie,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof ta&&Sr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Ce),ca={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},pa=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ha=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function fa(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map((function(e){var a,i=(a=e.type,ca[a].BYTES_PER_ELEMENT),o=r=da(r,Math.max(t,i)),s=e.components||1;return n=Math.max(n,i),r+=i*s,{name:e.name,type:e.type,components:s,offset:o}})),size:da(r,Math.max(n,t)),alignment:t}}function da(e,t){return Math.ceil(e/t)*t}ha.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},ha.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},ha.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ha.prototype.clear=function(){this.length=0},ha.prototype.resize=function(e){this.reserve(e),this.length=e},ha.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},ha.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var ya=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(ha);ya.prototype.bytesPerElement=4,An("StructArrayLayout2i4",ya);var va=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,a){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,this.int16[i+3]=a,e},t}(ha);va.prototype.bytesPerElement=8,An("StructArrayLayout4i8",va);var ma=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,a,i)},t.prototype.emplace=function(e,t,r,n,a,i,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=a,this.int16[s+4]=i,this.int16[s+5]=o,e},t}(ha);ma.prototype.bytesPerElement=12,An("StructArrayLayout2i4i12",ma);var ga=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,a,i)},t.prototype.emplace=function(e,t,r,n,a,i,o){var s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=a,this.uint8[l+6]=i,this.uint8[l+7]=o,e},t}(ha);ga.prototype.bytesPerElement=8,An("StructArrayLayout2i4ub8",ga);var _a=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i,o,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,a,i,o,s)},t.prototype.emplace=function(e,t,r,n,a,i,o,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=r,this.uint16[u+2]=n,this.uint16[u+3]=a,this.uint16[u+4]=i,this.uint16[u+5]=o,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(ha);_a.prototype.bytesPerElement=16,An("StructArrayLayout8ui16",_a);var xa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i,o,s,l,u,c,p){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,r,n,a,i,o,s,l,u,c,p)},t.prototype.emplace=function(e,t,r,n,a,i,o,s,l,u,c,p,h){var f=12*e;return this.int16[f+0]=t,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=a,this.uint16[f+4]=i,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=p,this.int16[f+11]=h,e},t}(ha);xa.prototype.bytesPerElement=24,An("StructArrayLayout4i4ui4i24",xa);var ba=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var a=3*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,e},t}(ha);ba.prototype.bytesPerElement=12,An("StructArrayLayout3f12",ba);var wa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint32[r+0]=t,e},t}(ha);wa.prototype.bytesPerElement=4,An("StructArrayLayout1ul4",wa);var Ma=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i,o,s,l,u,c){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,a,i,o,s,l,u,c)},t.prototype.emplace=function(e,t,r,n,a,i,o,s,l,u,c,p){var h=12*e,f=6*e;return this.int16[h+0]=t,this.int16[h+1]=r,this.int16[h+2]=n,this.int16[h+3]=a,this.int16[h+4]=i,this.int16[h+5]=o,this.uint32[f+3]=s,this.uint16[h+8]=l,this.uint16[h+9]=u,this.int16[h+10]=c,this.int16[h+11]=p,e},t}(ha);Ma.prototype.bytesPerElement=24,An("StructArrayLayout6i1ul2ui2i24",Ma);var Ea=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,a,i)},t.prototype.emplace=function(e,t,r,n,a,i,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=a,this.int16[s+4]=i,this.int16[s+5]=o,e},t}(ha);Ea.prototype.bytesPerElement=12,An("StructArrayLayout2i2i2i12",Ea);var Sa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,a){var i=12*e,o=3*e;return this.uint8[i+0]=t,this.uint8[i+1]=r,this.float32[o+1]=n,this.float32[o+2]=a,e},t}(ha);Sa.prototype.bytesPerElement=12,An("StructArrayLayout2ub2f12",Sa);var Ta=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v){var m=this.length;return this.resize(m+1),this.emplace(m,e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v)},t.prototype.emplace=function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v,m){var g=24*e,_=12*e,x=48*e;return this.int16[g+0]=t,this.int16[g+1]=r,this.uint16[g+2]=n,this.uint16[g+3]=a,this.uint32[_+2]=i,this.uint32[_+3]=o,this.uint32[_+4]=s,this.uint16[g+10]=l,this.uint16[g+11]=u,this.uint16[g+12]=c,this.float32[_+7]=p,this.float32[_+8]=h,this.uint8[x+36]=f,this.uint8[x+37]=d,this.uint8[x+38]=y,this.uint32[_+10]=v,this.int16[g+22]=m,e},t}(ha);Ta.prototype.bytesPerElement=48,An("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ta);var Ca=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v,m,g,_,x,b,w,M,E,S){var T=this.length;return this.resize(T+1),this.emplace(T,e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v,m,g,_,x,b,w,M,E,S)},t.prototype.emplace=function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v,m,g,_,x,b,w,M,E,S,T){var C=30*e,I=15*e;return this.int16[C+0]=t,this.int16[C+1]=r,this.int16[C+2]=n,this.int16[C+3]=a,this.int16[C+4]=i,this.int16[C+5]=o,this.int16[C+6]=s,this.int16[C+7]=l,this.uint16[C+8]=u,this.uint16[C+9]=c,this.uint16[C+10]=p,this.uint16[C+11]=h,this.uint16[C+12]=f,this.uint16[C+13]=d,this.uint16[C+14]=y,this.uint16[C+15]=v,this.uint16[C+16]=m,this.uint16[C+17]=g,this.uint16[C+18]=_,this.uint16[C+19]=x,this.uint16[C+20]=b,this.uint16[C+21]=w,this.uint32[I+11]=M,this.float32[I+12]=E,this.float32[I+13]=S,this.float32[I+14]=T,e},t}(ha);Ca.prototype.bytesPerElement=60,An("StructArrayLayout8i14ui1ul3f60",Ca);var Ia=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.float32[r+0]=t,e},t}(ha);Ia.prototype.bytesPerElement=4,An("StructArrayLayout1f4",Ia);var Aa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var a=3*e;return this.int16[a+0]=t,this.int16[a+1]=r,this.int16[a+2]=n,e},t}(ha);Aa.prototype.bytesPerElement=6,An("StructArrayLayout3i6",Aa);var ka=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var a=2*e,i=4*e;return this.uint32[a+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e},t}(ha);ka.prototype.bytesPerElement=8,An("StructArrayLayout1ul2ui8",ka);var La=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var a=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=r,this.uint16[a+2]=n,e},t}(ha);La.prototype.bytesPerElement=6,An("StructArrayLayout3ui6",La);var Da=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(ha);Da.prototype.bytesPerElement=4,An("StructArrayLayout2ui4",Da);var Pa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint16[r+0]=t,e},t}(ha);Pa.prototype.bytesPerElement=2,An("StructArrayLayout1ui2",Pa);var za=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(ha);za.prototype.bytesPerElement=8,An("StructArrayLayout2f8",za);var Oa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,a){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,this.float32[i+3]=a,e},t}(ha);Oa.prototype.bytesPerElement=16,An("StructArrayLayout4f16",Oa);var Na=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},r.anchorPoint.get=function(){return new a(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(pa);Na.prototype.size=24;var ja=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Na(this,e)},t}(Ma);An("CollisionBoxArray",ja);var Ra=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},r.associatedIconIndex.set=function(e){this._structArray.int16[this._pos2+22]=e},Object.defineProperties(t.prototype,r),t}(pa);Ra.prototype.size=48;var Fa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ra(this,e)},t}(Ta);An("PlacedSymbolArray",Fa);var Ba=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.rightJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.centerJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.leftJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+4]=e},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+5]=e},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.placedIconSymbolIndex.set=function(e){this._structArray.int16[this._pos2+6]=e},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.verticalPlacedIconSymbolIndex.set=function(e){this._structArray.int16[this._pos2+7]=e},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.key.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.verticalTextBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+13]=e},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+14]=e},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+15]=e},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.verticalIconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+16]=e},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.featureIndex.set=function(e){this._structArray.uint16[this._pos2+17]=e},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numHorizontalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+18]=e},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+19]=e},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+20]=e},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.numVerticalIconVertices.set=function(e){this._structArray.uint16[this._pos2+21]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+11]=e},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},r.textBoxScale.set=function(e){this._structArray.float32[this._pos4+12]=e},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.set=function(e){this._structArray.float32[this._pos4+13]=e},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.set=function(e){this._structArray.float32[this._pos4+14]=e},Object.defineProperties(t.prototype,r),t}(pa);Ba.prototype.size=60;var Ua=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ba(this,e)},t}(Ca);An("SymbolInstanceArray",Ua);var Va=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,r),t}(pa);Va.prototype.size=4;var qa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new Va(this,e)},t}(Ia);An("GlyphOffsetArray",qa);var Wa=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(e){this._structArray.int16[this._pos2+0]=e},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(e){this._structArray.int16[this._pos2+1]=e},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,r),t}(pa);Wa.prototype.size=6;var Ga=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new Wa(this,e)},t}(Aa);An("SymbolLineVertexArray",Ga);var Ya=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,r),t}(pa);Ya.prototype.size=8;var Za=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ya(this,e)},t}(ka);An("FeatureIndexArray",Za);var Ha=fa([{name:"a_pos",components:2,type:"Int16"}],4).members,Qa=function(e){void 0===e&&(e=[]),this.segments=e};function Xa(e,t){return 256*(e=u(Math.floor(e),0,255))+u(Math.floor(t),0,255)}Qa.prototype.prepareSegment=function(e,t,r,n){var a=this.segments[this.segments.length-1];return e>Qa.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+Qa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!a||a.vertexLength+e>Qa.MAX_VERTEX_ARRAY_LENGTH||a.sortKey!==n)&&(a={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(a.sortKey=n),this.segments.push(a)),a},Qa.prototype.get=function(){return this.segments},Qa.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},Qa.simpleSegment=function(e,t,r,n){return new Qa([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},Qa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,An("SegmentVector",Qa);var Ka=function(){this.ids=[],this.positions=[],this.indexed=!1};function Ja(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Ka.prototype.add=function(e,t,r,n){this.ids.push(e),this.positions.push(t,r,n)},Ka.prototype.getPositions=function(e){for(var t=0,r=this.ids.length-1;t<r;){var n=t+r>>1;this.ids[n]>=e?r=n:t=n+1}for(var a=[];this.ids[t]===e;){var i=this.positions[3*t],o=this.positions[3*t+1],s=this.positions[3*t+2];a.push({index:i,start:o,end:s}),t++}return a},Ka.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,a){if(!(n>=a)){for(var i=t[n+a>>1],o=n-1,s=a+1;;){do{o++}while(t[o]<i);do{s--}while(t[s]>i);if(o>=s)break;Ja(t,o,s),Ja(r,3*o,3*s),Ja(r,3*o+1,3*s+1),Ja(r,3*o+2,3*s+2)}e(t,r,n,s),e(t,r,s+1,a)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}},Ka.deserialize=function(e){var t=new Ka;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},An("FeaturePositionMap",Ka);var $a=function(e,t){this.gl=e.gl,this.location=t},ei=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}($a),ti=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}($a),ri=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}($a),ni=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}($a),ai=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}($a),ii=function(e){function t(t,r){e.call(this,t,r),this.current=Ke.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}($a),oi=new Float32Array(16),si=function(e){function t(t,r){e.call(this,t,r),this.current=oi}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}($a);function li(e){return[Xa(255*e.r,255*e.g),Xa(255*e.b,255*e.a)]}var ui=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e})),this.type=r,this.maxValue=-1/0};ui.prototype.defines=function(){return this.names.map((function(e){return"#define HAS_UNIFORM_u_"+e}))},ui.prototype.setConstantPatternPositions=function(){},ui.prototype.populatePaintArray=function(){},ui.prototype.updatePaintArray=function(){},ui.prototype.upload=function(){},ui.prototype.destroy=function(){},ui.prototype.setUniforms=function(e,t,r,n){t.set(n.constantOr(this.value))},ui.prototype.getBinding=function(e,t){return"color"===this.type?new ii(e,t):new ti(e,t)},ui.serialize=function(e){var t=e.value,r=e.names,n=e.type;return{value:Dn(t),names:r,type:n}},ui.deserialize=function(e){var t=e.value,r=e.names,n=e.type;return new ui(Pn(t),r,n)};var ci=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e})),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};ci.prototype.defines=function(){return this.names.map((function(e){return"#define HAS_UNIFORM_u_"+e}))},ci.prototype.populatePaintArray=function(){},ci.prototype.updatePaintArray=function(){},ci.prototype.upload=function(){},ci.prototype.destroy=function(){},ci.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},ci.prototype.setUniforms=function(e,t,r,n,a){var i=this.patternPositions;"u_pattern_to"===a&&i.patternTo&&t.set(i.patternTo),"u_pattern_from"===a&&i.patternFrom&&t.set(i.patternFrom)},ci.prototype.getBinding=function(e,t){return new ai(e,t)};var pi=function(e,t,r,n){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map((function(e){return"a_"+e})),this.maxValue=-1/0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new n};pi.prototype.defines=function(){return[]},pi.prototype.setConstantPatternPositions=function(){},pi.prototype.populatePaintArray=function(e,t,r,n){var a=this.paintVertexArray,i=a.length;a.reserve(e);var o=this.expression.evaluate(new Hn(0),t,{},[],n);if("color"===this.type)for(var s=li(o),l=i;l<e;l++)a.emplaceBack(s[0],s[1]);else{for(var u=i;u<e;u++)a.emplaceBack(o);this.maxValue=Math.max(this.maxValue,o)}},pi.prototype.updatePaintArray=function(e,t,r,n){var a=this.paintVertexArray,i=this.expression.evaluate({zoom:0},r,n);if("color"===this.type)for(var o=li(i),s=e;s<t;s++)a.emplace(s,o[0],o[1]);else{for(var l=e;l<t;l++)a.emplace(l,i);this.maxValue=Math.max(this.maxValue,i)}},pi.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},pi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},pi.prototype.setUniforms=function(e,t){t.set(0)},pi.prototype.getBinding=function(e,t){return new ti(e,t)};var hi=function(e,t,r,n,a,i){this.expression=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e+"_t"})),this.type=r,this.useIntegerZoom=n,this.zoom=a,this.maxValue=-1/0;var o=i;this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o};hi.prototype.defines=function(){return[]},hi.prototype.setConstantPatternPositions=function(){},hi.prototype.populatePaintArray=function(e,t,r,n){var a=this.paintVertexArray,i=a.length;a.reserve(e);var o=this.expression.evaluate(new Hn(this.zoom),t,{},[],n),s=this.expression.evaluate(new Hn(this.zoom+1),t,{},[],n);if("color"===this.type)for(var l=li(o),u=li(s),c=i;c<e;c++)a.emplaceBack(l[0],l[1],u[0],u[1]);else{for(var p=i;p<e;p++)a.emplaceBack(o,s);this.maxValue=Math.max(this.maxValue,o,s)}},hi.prototype.updatePaintArray=function(e,t,r,n){var a=this.paintVertexArray,i=this.expression.evaluate({zoom:this.zoom},r,n),o=this.expression.evaluate({zoom:this.zoom+1},r,n);if("color"===this.type)for(var s=li(i),l=li(o),u=e;u<t;u++)a.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=e;c<t;c++)a.emplace(c,i,o);this.maxValue=Math.max(this.maxValue,i,o)}},hi.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},hi.prototype.interpolationFactor=function(e){return this.useIntegerZoom&&(e=Math.floor(e)),u(this.expression.interpolationFactor(e,this.zoom,this.zoom+1),0,1)},hi.prototype.setUniforms=function(e,t,r){t.set(this.interpolationFactor(r.zoom))},hi.prototype.getBinding=function(e,t){return new ti(e,t)};var fi=function(e,t,r,n,a,i,o){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map((function(e){return"u_"+e+"_t"})),this.useIntegerZoom=n,this.zoom=a,this.maxValue=-1/0,this.layerId=o,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};fi.prototype.defines=function(){return[]},fi.prototype.setConstantPatternPositions=function(){},fi.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,i=this.layerId,o=n.length;if(n.reserve(e),a.reserve(e),r&&t.patterns&&t.patterns[i]){var s=t.patterns[i],l=s.min,u=s.mid,c=s.max,p=r[l],h=r[u],f=r[c];if(!p||!h||!f)return;for(var d=o;d<e;d++)n.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),a.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},fi.prototype.updatePaintArray=function(e,t,r,n,a){var i=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,s=this.layerId;if(a&&r.patterns&&r.patterns[s]){var l=r.patterns[s],u=l.min,c=l.mid,p=l.max,h=a[u],f=a[c],d=a[p];if(!h||!f||!d)return;for(var y=e;y<t;y++)i.emplace(y,f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),o.emplace(y,f.tl[0],f.tl[1],f.br[0],f.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},fi.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},fi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},fi.prototype.setUniforms=function(e,t){t.set(0)},fi.prototype.getBinding=function(e,t){return new ti(e,t)};var di=function(){this.binders={},this.cacheKey="",this._buffers=[]};di.createDynamic=function(e,t,r){var n=new di,a=[];for(var i in e.paint._values)if(r(i)){var o=e.paint.get(i);if(o instanceof ta&&Sr(o.property.specification)){var s=vi(i,e.type),l=o.property.specification.type,u=o.property.useIntegerZoom;if("cross-faded"===o.property.specification["property-type"]||"cross-faded-data-driven"===o.property.specification["property-type"])if("constant"===o.value.kind)n.binders[i]=new ci(o.value.value,s,l),a.push("/u_"+i);else{var c=mi(i,l,"source");n.binders[i]=new fi(o.value,s,l,u,t,c,e.id),a.push("/a_"+i)}else if("constant"===o.value.kind)n.binders[i]=new ui(o.value.value,s,l),a.push("/u_"+i);else if("source"===o.value.kind){var p=mi(i,l,"source");n.binders[i]=new pi(o.value,s,l,p),a.push("/a_"+i)}else{var h=mi(i,l,"composite");n.binders[i]=new hi(o.value,s,l,u,t,h),a.push("/z_"+i)}}}return n.cacheKey=a.sort().join(""),n},di.prototype.populatePaintArrays=function(e,t,r,n,a){for(var i in this.binders)this.binders[i].populatePaintArray(e,t,n,a)},di.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders)this.binders[r].setConstantPatternPositions(e,t)},di.prototype.updatePaintArrays=function(e,t,r,n,a){var i=!1;for(var o in e)for(var s=0,l=t.getPositions(+o);s<l.length;s+=1){var u=l[s],c=r.feature(u.index);for(var p in this.binders){var h=this.binders[p];if(!(h instanceof ui||h instanceof ci)&&!0===h.expression.isStateDependent){var f=n.paint.get(p);h.expression=f.value,h.updatePaintArray(u.start,u.end,c,e[o],a),i=!0}}}return i},di.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},di.prototype.getPaintVertexBuffers=function(){return this._buffers},di.prototype.getUniforms=function(e,t){var r=[];for(var n in this.binders)for(var a=this.binders[n],i=0,o=a.uniformNames;i<o.length;i+=1){var s=o[i];if(t[s]){var l=a.getBinding(e,t[s]);r.push({name:s,property:n,binding:l})}}return r},di.prototype.setUniforms=function(e,t,r,n){for(var a=0,i=t;a<i.length;a+=1){var o=i[a],s=o.name,l=o.property,u=o.binding;this.binders[l].setUniforms(e,u,n,r.get(l),s)}},di.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof fi){var a=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;a&&t.push(a)}else(n instanceof pi||n instanceof hi)&&n.paintVertexBuffer&&t.push(n.paintVertexBuffer)}this._buffers=t},di.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var r=[];for(var n in this.binders){var a=this.binders[n];(a instanceof pi||a instanceof hi)&&a.paintVertexBuffer&&r.push(a.paintVertexBuffer)}this._buffers=r},di.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var yi=function(e,t,r,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var a=0,i=t;a<i.length;a+=1){var o=i[a];this.programConfigurations[o.id]=di.createDynamic(o,r,n),this.programConfigurations[o.id].layoutAttributes=e}this.needsUpload=!1,this._featureMap=new Ka,this._bufferOffset=0};function vi(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function mi(e,t,r){var n={color:{source:za,composite:Oa},number:{source:Ia,composite:za}},a=function(e){return{"line-pattern":{source:_a,composite:_a},"fill-pattern":{source:_a,composite:_a},"fill-extrusion-pattern":{source:_a,composite:_a}}[e]}(e);return a&&a[r]||n[t][r]}yi.prototype.populatePaintArrays=function(e,t,r,n,a){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(e,t,r,n,a);void 0!==t.id&&this._featureMap.add(+t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},yi.prototype.updatePaintArrays=function(e,t,r,n){for(var a=0,i=r;a<i.length;a+=1){var o=i[a];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,n)||this.needsUpload}},yi.prototype.get=function(e){return this.programConfigurations[e]},yi.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},yi.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},An("ConstantBinder",ui),An("CrossFadedConstantBinder",ci),An("SourceExpressionBinder",pi),An("CrossFadedCompositeBinder",fi),An("CompositeExpressionBinder",hi),An("ProgramConfiguration",di,{omit:["_buffers"]}),An("ProgramConfigurationSet",yi);var gi=8192,_i={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function xi(e){for(var t=gi/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var a=r[n],i=0;i<a.length;i++){var o=a[i];o.x=Math.round(o.x*t),o.y=Math.round(o.y*t),(o.x<_i.min||o.x>_i.max||o.y<_i.min||o.y>_i.max)&&(w("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o.x=u(o.x,_i.min,_i.max),o.y=u(o.y,_i.min,_i.max))}return r}function bi(e,t,r,n,a){e.emplaceBack(2*t+(n+1)/2,2*r+(a+1)/2)}var wi=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ya,this.indexArray=new La,this.segments=new Qa,this.programConfigurations=new yi(Ha,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Mi(e,t){for(var r=0;r<e.length;r++)if(Di(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(Di(e,t[n]))return!0;return!!Ci(e,t)}function Ei(e,t,r){return!!Di(e,t)||!!Ai(t,e,r)}function Si(e,t){if(1===e.length)return Li(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],a=0;a<n.length;a++)if(Di(e,n[a]))return!0;for(var i=0;i<e.length;i++)if(Li(t,e[i]))return!0;for(var o=0;o<t.length;o++)if(Ci(e,t[o]))return!0;return!1}function Ti(e,t,r){if(e.length>1){if(Ci(e,t))return!0;for(var n=0;n<t.length;n++)if(Ai(t[n],e,r))return!0}for(var a=0;a<e.length;a++)if(Ai(e[a],t,r))return!0;return!1}function Ci(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],a=e[r+1],i=0;i<t.length-1;i++)if(Ii(n,a,t[i],t[i+1]))return!0;return!1}function Ii(e,t,r,n){return M(e,r,n)!==M(t,r,n)&&M(e,t,r)!==M(e,t,n)}function Ai(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var a=1;a<t.length;a++)if(ki(e,t[a-1],t[a])<n)return!0;return!1}function ki(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var a=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return a<0?e.distSqr(t):a>1?e.distSqr(r):e.distSqr(r.sub(t)._mult(a)._add(t))}function Li(e,t){for(var r,n,a,i=!1,o=0;o<e.length;o++)for(var s=0,l=(r=e[o]).length-1;s<r.length;l=s++)n=r[s],a=r[l],n.y>t.y!=a.y>t.y&&t.x<(a.x-n.x)*(t.y-n.y)/(a.y-n.y)+n.x&&(i=!i);return i}function Di(e,t){for(var r=!1,n=0,a=e.length-1;n<e.length;a=n++){var i=e[n],o=e[a];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(r=!r)}return r}function Pi(e,t,r){var n=r[0],a=r[2];if(e.x<n.x&&t.x<n.x||e.x>a.x&&t.x>a.x||e.y<n.y&&t.y<n.y||e.y>a.y&&t.y>a.y)return!1;var i=M(e,t,r[0]);return i!==M(e,t,r[1])||i!==M(e,t,r[2])||i!==M(e,t,r[3])}function zi(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).binders[e].maxValue}function Oi(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Ni(e,t,r,n,i){if(!t[0]&&!t[1])return e;var o=a.convert(t)._mult(i);"viewport"===r&&o._rotate(-n);for(var s=[],l=0;l<e.length;l++){var u=e[l];s.push(u.sub(o))}return s}wi.prototype.populate=function(e,t){var r=this.layers[0],n=[],a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(var i=0,o=e;i<o.length;i+=1){var s=o[i],l=s.feature,u=s.index,c=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),l)){var p=xi(l),h=a?a.evaluate(l,{}):void 0,f={id:l.id,properties:l.properties,type:l.type,sourceLayerIndex:c,index:u,geometry:p,patterns:{},sortKey:h};n.push(f)}}a&&n.sort((function(e,t){return e.sortKey-t.sortKey}));for(var d=0,y=n;d<y.length;d+=1){var v=y[d],m=v,g=m.geometry,_=m.index,x=m.sourceLayerIndex,b=e[_].feature;this.addFeature(v,g,_),t.featureIndex.insert(b,g,_,x,this.index)}},wi.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},wi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},wi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wi.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ha),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},wi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wi.prototype.addFeature=function(e,t,r){for(var n=0,a=t;n<a.length;n+=1)for(var i=0,o=a[n];i<o.length;i+=1){var s=o[i],l=s.x,u=s.y;if(!(l<0||l>=gi||u<0||u>=gi)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=c.vertexLength;bi(this.layoutVertexArray,l,u,-1,-1),bi(this.layoutVertexArray,l,u,1,-1),bi(this.layoutVertexArray,l,u,1,1),bi(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{})},An("CircleBucket",wi,{omit:["layers"]});var ji,Ri=new la({"circle-sort-key":new aa(Ie.layout_circle["circle-sort-key"])}),Fi={paint:new la({"circle-radius":new aa(Ie.paint_circle["circle-radius"]),"circle-color":new aa(Ie.paint_circle["circle-color"]),"circle-blur":new aa(Ie.paint_circle["circle-blur"]),"circle-opacity":new aa(Ie.paint_circle["circle-opacity"]),"circle-translate":new na(Ie.paint_circle["circle-translate"]),"circle-translate-anchor":new na(Ie.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new na(Ie.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new na(Ie.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new aa(Ie.paint_circle["circle-stroke-width"]),"circle-stroke-color":new aa(Ie.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new aa(Ie.paint_circle["circle-stroke-opacity"])}),layout:Ri},Bi="undefined"!=typeof Float32Array?Float32Array:Array;function Ui(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,r=arguments.length;r--;)t+=e[r]*e[r];return Math.sqrt(t)}),ji=new Bi(3),Bi!=Float32Array&&(ji[0]=0,ji[1]=0,ji[2]=0),function(){var e=new Bi(4);Bi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var Vi=function(e){function t(t){e.call(this,t,Fi)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new wi(e)},t.prototype.queryRadius=function(e){var t=e;return zi("circle-radius",this,t)+zi("circle-stroke-width",this,t)+Oi(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,a,i,o,s){for(var l=Ni(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,o),u=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(e,t){return e.map((function(e){return qi(e,t)}))}(l,s),h=c?u*o:u,f=0,d=n;f<d.length;f+=1)for(var y=0,v=d[f];y<v.length;y+=1){var m=v[y],g=c?m:qi(m,s),_=h,x=Ui([],[m.x,m.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=x[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=i.cameraToCenterDistance/x[3]),Ei(p,g,_))return!0}return!1},t}(ua);function qi(e,t){var r=Ui([],[e.x,e.y,0,1],t);return new a(r[0]/r[3],r[1]/r[3])}var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wi);function Gi(e,t,r,n){var a=t.width,i=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==a*i*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(a*i*r);return e.width=a,e.height=i,e.data=n,e}function Yi(e,t,r){var n=t.width,a=t.height;if(n!==e.width||a!==e.height){var i=Gi({},{width:n,height:a},r);Zi(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,a)},r),e.width=n,e.height=a,e.data=i.data}}function Zi(e,t,r,n,a,i){if(0===a.width||0===a.height)return t;if(a.width>e.width||a.height>e.height||r.x>e.width-a.width||r.y>e.height-a.height)throw new RangeError("out of range source coordinates for image copy");if(a.width>t.width||a.height>t.height||n.x>t.width-a.width||n.y>t.height-a.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,l=0;l<a.height;l++)for(var u=((r.y+l)*e.width+r.x)*i,c=((n.y+l)*t.width+n.x)*i,p=0;p<a.width*i;p++)s[c+p]=o[u+p];return t}An("HeatmapBucket",Wi,{omit:["layers"]});var Hi=function(e,t){Gi(this,e,1,t)};Hi.prototype.resize=function(e){Yi(this,e,1)},Hi.prototype.clone=function(){return new Hi({width:this.width,height:this.height},new Uint8Array(this.data))},Hi.copy=function(e,t,r,n,a){Zi(e,t,r,n,a,1)};var Qi=function(e,t){Gi(this,e,4,t)};Qi.prototype.resize=function(e){Yi(this,e,4)},Qi.prototype.replace=function(e,t){t?this.data.set(e):e instanceof Uint8ClampedArray?this.data=new Uint8Array(e.buffer):this.data=e},Qi.prototype.clone=function(){return new Qi({width:this.width,height:this.height},new Uint8Array(this.data))},Qi.copy=function(e,t,r,n,a){Zi(e,t,r,n,a,4)},An("AlphaImage",Hi),An("RGBAImage",Qi);var Xi={paint:new la({"heatmap-radius":new aa(Ie.paint_heatmap["heatmap-radius"]),"heatmap-weight":new aa(Ie.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new na(Ie.paint_heatmap["heatmap-intensity"]),"heatmap-color":new sa(Ie.paint_heatmap["heatmap-color"]),"heatmap-opacity":new na(Ie.paint_heatmap["heatmap-opacity"])})};function Ki(e,t){for(var r=new Uint8Array(1024),n={},a=0,i=0;a<256;a++,i+=4){n[t]=a/255;var o=e.evaluate(n);r[i+0]=Math.floor(255*o.r/o.a),r[i+1]=Math.floor(255*o.g/o.a),r[i+2]=Math.floor(255*o.b/o.a),r[i+3]=Math.floor(255*o.a)}return new Qi({width:256,height:1},r)}var Ji=function(e){function t(t){e.call(this,t,Xi),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Wi(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Ki(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(ua),$i={paint:new la({"hillshade-illumination-direction":new na(Ie.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new na(Ie.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new na(Ie.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new na(Ie.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new na(Ie.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new na(Ie.paint_hillshade["hillshade-accent-color"])})},eo=function(e){function t(t){e.call(this,t,$i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(ua),to=fa([{name:"a_pos",components:2,type:"Int16"}],4).members,ro=ao,no=ao;function ao(e,t,r){r=r||2;var n,a,i,o,s,l,u,c=t&&t.length,p=c?t[0]*r:e.length,h=io(e,0,p,r,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,r,n){var a,i,o,s=[];for(a=0,i=t.length;a<i;a++)(o=io(e,t[a]*n,a<i-1?t[a+1]*n:e.length,n,!1))===o.next&&(o.steiner=!0),s.push(mo(o));for(s.sort(ho),a=0;a<s.length;a++)fo(s[a],r),r=oo(r,r.next);return r}(e,t,h,r)),e.length>80*r){n=i=e[0],a=o=e[1];for(var d=r;d<p;d+=r)(s=e[d])<n&&(n=s),(l=e[d+1])<a&&(a=l),s>i&&(i=s),l>o&&(o=l);u=0!==(u=Math.max(i-n,o-a))?1/u:0}return so(h,f,r,n,a,u),f}function io(e,t,r,n,a){var i,o;if(a===ko(e,t,r,n)>0)for(i=t;i<r;i+=n)o=Co(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=Co(i,e[i],e[i+1],o);return o&&bo(o,o.next)&&(Io(o),o=o.next),o}function oo(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!bo(n,n.next)&&0!==xo(n.prev,n,n.next))n=n.next;else{if(Io(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function so(e,t,r,n,a,i,o){if(e){!o&&i&&function(e,t,r,n){var a=e;do{null===a.z&&(a.z=vo(a.x,a.y,t,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){var t,r,n,a,i,o,s,l,u=1;do{for(r=e,e=null,i=null,o=0;r;){for(o++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(a=r,r=r.nextZ,s--):(a=n,n=n.nextZ,l--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;r=n}i.nextZ=null,u*=2}while(o>1)}(a)}(e,n,a,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?uo(e,n,a,i):lo(e))t.push(s.i/r),t.push(e.i/r),t.push(l.i/r),Io(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?so(e=co(oo(e),t,r),t,r,n,a,i,2):2===o&&po(e,t,r,n,a,i):so(oo(e),t,r,n,a,i,1);break}}}function lo(e){var t=e.prev,r=e,n=e.next;if(xo(t,r,n)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(go(t.x,t.y,r.x,r.y,n.x,n.y,a.x,a.y)&&xo(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function uo(e,t,r,n){var a=e.prev,i=e,o=e.next;if(xo(a,i,o)>=0)return!1;for(var s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,l=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,u=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,c=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,p=vo(s,l,t,r,n),h=vo(u,c,t,r,n),f=e.prevZ,d=e.nextZ;f&&f.z>=p&&d&&d.z<=h;){if(f!==e.prev&&f!==e.next&&go(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&xo(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==e.prev&&d!==e.next&&go(a.x,a.y,i.x,i.y,o.x,o.y,d.x,d.y)&&xo(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=p;){if(f!==e.prev&&f!==e.next&&go(a.x,a.y,i.x,i.y,o.x,o.y,f.x,f.y)&&xo(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&go(a.x,a.y,i.x,i.y,o.x,o.y,d.x,d.y)&&xo(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function co(e,t,r){var n=e;do{var a=n.prev,i=n.next.next;!bo(a,i)&&wo(a,n,n.next,i)&&So(a,i)&&So(i,a)&&(t.push(a.i/r),t.push(n.i/r),t.push(i.i/r),Io(n),Io(n.next),n=e=i),n=n.next}while(n!==e);return oo(n)}function po(e,t,r,n,a,i){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&_o(o,s)){var l=To(o,s);return o=oo(o,o.next),l=oo(l,l.next),so(o,t,r,n,a,i),void so(l,t,r,n,a,i)}s=s.next}o=o.next}while(o!==e)}function ho(e,t){return e.x-t.x}function fo(e,t){if(t=function(e,t){var r,n=t,a=e.x,i=e.y,o=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=a&&s>o){if(o=s,s===a){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(a===o)return r;var l,u=r,c=r.x,p=r.y,h=1/0;n=r;do{a>=n.x&&n.x>=c&&a!==n.x&&go(i<p?a:o,i,c,p,i<p?o:a,i,n.x,n.y)&&(l=Math.abs(i-n.y)/(a-n.x),So(n,e)&&(l<h||l===h&&(n.x>r.x||n.x===r.x&&yo(r,n)))&&(r=n,h=l)),n=n.next}while(n!==u);return r}(e,t)){var r=To(t,e);oo(r,r.next)}}function yo(e,t){return xo(e.prev,e,t.prev)<0&&xo(t.next,e,e.next)<0}function vo(e,t,r,n,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function mo(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function go(e,t,r,n,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(i-s)-(a-o)*(n-s)>=0}function _o(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&wo(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(So(e,t)&&So(t,e)&&function(e,t){var r=e,n=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&a<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(xo(e.prev,e,t.prev)||xo(e,t.prev,t))||bo(e,t)&&xo(e.prev,e,e.next)>0&&xo(t.prev,t,t.next)>0)}function xo(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function bo(e,t){return e.x===t.x&&e.y===t.y}function wo(e,t,r,n){var a=Eo(xo(e,t,r)),i=Eo(xo(e,t,n)),o=Eo(xo(r,n,e)),s=Eo(xo(r,n,t));return a!==i&&o!==s||!(0!==a||!Mo(e,r,t))||!(0!==i||!Mo(e,n,t))||!(0!==o||!Mo(r,e,n))||!(0!==s||!Mo(r,t,n))}function Mo(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Eo(e){return e>0?1:e<0?-1:0}function So(e,t){return xo(e.prev,e,e.next)<0?xo(e,t,e.next)>=0&&xo(e,e.prev,t)>=0:xo(e,t,e.prev)<0||xo(e,e.next,t)<0}function To(e,t){var r=new Ao(e.i,e.x,e.y),n=new Ao(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function Co(e,t,r,n){var a=new Ao(e,t,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function Io(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ao(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ko(e,t,r,n){for(var a=0,i=t,o=r-n;i<r;i+=n)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}function Lo(e,t,r,n,a){!function e(t,r,n,a,i){for(;a>n;){if(a-n>600){var o=a-n+1,s=r-n+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*u/o+c)),Math.min(a,Math.floor(r+(o-s)*u/o+c)),i)}var p=t[r],h=n,f=a;for(Do(t,n,r),i(t[a],p)>0&&Do(t,n,a);h<f;){for(Do(t,h,f),h++,f--;i(t[h],p)<0;)h++;for(;i(t[f],p)>0;)f--}0===i(t[n],p)?Do(t,n,f):Do(t,++f,a),f<=r&&(n=f+1),r<=f&&(a=f-1)}}(e,t,r||0,n||e.length-1,a||Po)}function Do(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Po(e,t){return e<t?-1:e>t?1:0}function zo(e,t){var r=e.length;if(r<=1)return[e];for(var n,a,i=[],o=0;o<r;o++){var s=E(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===a&&(a=s<0),a===s<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}if(n&&i.push(n),t>1)for(var l=0;l<i.length;l++)i[l].length<=t||(Lo(i[l],t,1,i[l].length-1,Oo),i[l]=i[l].slice(0,t));return i}function Oo(e,t){return t.area-e.area}function No(e,t,r){for(var n=r.patternDependencies,a=!1,i=0,o=t;i<o.length;i+=1){var s=o[i].paint.get(e+"-pattern");s.isConstant()||(a=!0);var l=s.constantOr(null);l&&(a=!0,n[l.to]=!0,n[l.from]=!0)}return a}function jo(e,t,r,n,a){for(var i=a.patternDependencies,o=0,s=t;o<s.length;o+=1){var l=s[o],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:n-1},r,{},a.availableImages),p=u.evaluate({zoom:n},r,{},a.availableImages),h=u.evaluate({zoom:n+1},r,{},a.availableImages);c=c&&c.name?c.name:c,p=p&&p.name?p.name:p,h=h&&h.name?h.name:h,i[c]=!0,i[p]=!0,i[h]=!0,r.patterns[l.id]={min:c,mid:p,max:h}}}return r}ao.deviation=function(e,t,r,n){var a=t&&t.length,i=a?t[0]*r:e.length,o=Math.abs(ko(e,0,i,r));if(a)for(var s=0,l=t.length;s<l;s++){var u=t[s]*r,c=s<l-1?t[s+1]*r:e.length;o-=Math.abs(ko(e,u,c,r))}var p=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,f=n[s+1]*r,d=n[s+2]*r;p+=Math.abs((e[h]-e[d])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[d+1]-e[h+1]))}return 0===o&&0===p?0:Math.abs((p-o)/o)},ao.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,a=0;a<e.length;a++){for(var i=0;i<e[a].length;i++)for(var o=0;o<t;o++)r.vertices.push(e[a][i][o]);a>0&&(n+=e[a-1].length,r.holes.push(n))}return r},ro.default=no;var Ro=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ya,this.indexArray=new La,this.indexArray2=new Da,this.programConfigurations=new yi(to,e.layers,e.zoom),this.segments=new Qa,this.segments2=new Qa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ro.prototype.populate=function(e,t){this.hasPattern=No("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),n=[],a=0,i=e;a<i.length;a+=1){var o=i[a],s=o.feature,l=o.index,u=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),s)){var c=xi(s),p=r?r.evaluate(s,{},t.availableImages):void 0,h={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:u,index:l,geometry:c,patterns:{},sortKey:p};n.push(h)}}r&&n.sort((function(e,t){return e.sortKey-t.sortKey}));for(var f=0,d=n;f<d.length;f+=1){var y=d[f],v=y,m=v.geometry,g=v.index,_=v.sourceLayerIndex;if(this.hasPattern){var x=jo("fill",this.layers,y,this.zoom,t);this.patternFeatures.push(x)}else this.addFeature(y,m,g,{});var b=e[g].feature;t.featureIndex.insert(b,m,g,_,this.index)}},Ro.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ro.prototype.addFeatures=function(e,t){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var a=n[r];this.addFeature(a,a.geometry,a.index,t)}},Ro.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ro.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ro.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,to),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},Ro.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ro.prototype.addFeature=function(e,t,r,n){for(var a=0,i=zo(t,500);a<i.length;a+=1){for(var o=i[a],s=0,l=0,u=o;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,h=[],f=[],d=0,y=o;d<y.length;d+=1){var v=y[d];if(0!==v.length){v!==o[0]&&f.push(h.length/2);var m=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),g=m.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(g+v.length-1,g),h.push(v[0].x),h.push(v[0].y);for(var _=1;_<v.length;_++)this.layoutVertexArray.emplaceBack(v[_].x,v[_].y),this.indexArray2.emplaceBack(g+_-1,g+_),h.push(v[_].x),h.push(v[_].y);m.vertexLength+=v.length,m.primitiveLength+=v.length}}for(var x=ro(h,f),b=0;b<x.length;b+=3)this.indexArray.emplaceBack(p+x[b],p+x[b+1],p+x[b+2]);c.vertexLength+=s,c.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},An("FillBucket",Ro,{omit:["layers","patternFeatures"]});var Fo=new la({"fill-sort-key":new aa(Ie.layout_fill["fill-sort-key"])}),Bo={paint:new la({"fill-antialias":new na(Ie.paint_fill["fill-antialias"]),"fill-opacity":new aa(Ie.paint_fill["fill-opacity"]),"fill-color":new aa(Ie.paint_fill["fill-color"]),"fill-outline-color":new aa(Ie.paint_fill["fill-outline-color"]),"fill-translate":new na(Ie.paint_fill["fill-translate"]),"fill-translate-anchor":new na(Ie.paint_fill["fill-translate-anchor"]),"fill-pattern":new ia(Ie.paint_fill["fill-pattern"])}),layout:Fo},Uo=function(e){function t(t){e.call(this,t,Bo)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new Ro(e)},t.prototype.queryRadius=function(){return Oi(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,a,i,o){return Si(Ni(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,o),n)},t.prototype.isTileClipped=function(){return!0},t}(ua),Vo=fa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,qo=Wo;function Wo(e,t,r,n,a){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=a,e.readFields(Go,this,t)}function Go(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],a=t._values[e.readVarint()];t.properties[n]=a}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function Yo(e){for(var t,r,n=0,a=0,i=e.length,o=i-1;a<i;o=a++)t=e[a],n+=((r=e[o]).x-t.x)*(t.y+r.y);return n}Wo.types=["Unknown","Point","LineString","Polygon"],Wo.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,i=0,o=0,s=0,l=[];e.pos<r;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)o+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&l.push(t),t=[]),t.push(new a(o,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&l.push(t),l},Wo.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,a=0,i=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(a+=e.readSVarint())<o&&(o=a),a>s&&(s=a),(i+=e.readSVarint())<l&&(l=i),i>u&&(u=i);else if(7!==r)throw new Error("unknown command "+r)}return[o,l,s,u]},Wo.prototype.toGeoJSON=function(e,t,r){var n,a,i=this.extent*Math.pow(2,r),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=Wo.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-360*(r.y+s)/i;e[t]=[360*(r.x+o)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(n=0;n<l.length;n++)p[n]=l[n][0];c(l=p);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,a=[],i=0;i<t;i++){var o=Yo(e[i]);0!==o&&(void 0===n&&(n=o<0),n===o<0?(r&&a.push(r),r=[e[i]]):r.push(e[i]))}return r&&a.push(r),a}(l),n=0;n<l.length;n++)for(a=0;a<l[n].length;a++)c(l[n][a])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Zo=Ho;function Ho(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Qo,this,t),this.length=this._features.length}function Qo(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function Xo(e,t,r){if(3===e){var n=new Zo(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}Ho.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new qo(this._pbf,t,this.extent,this._keys,this._values)};var Ko={VectorTile:function(e,t){this.layers=e.readFields(Xo,{},t)},VectorTileFeature:qo,VectorTileLayer:Zo},Jo=Ko.VectorTileFeature.types,$o=Math.pow(2,13);function es(e,t,r,n,a,i,o,s){e.emplaceBack(t,r,2*Math.floor(n*$o)+o,a*$o*2,i*$o*2,Math.round(s))}var ts=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ma,this.indexArray=new La,this.programConfigurations=new yi(Vo,e.layers,e.zoom),this.segments=new Qa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function rs(e,t){return e.x===t.x&&(e.x<0||e.x>gi)||e.y===t.y&&(e.y<0||e.y>gi)}function ns(e){return e.every((function(e){return e.x<0}))||e.every((function(e){return e.x>gi}))||e.every((function(e){return e.y<0}))||e.every((function(e){return e.y>gi}))}ts.prototype.populate=function(e,t){this.features=[],this.hasPattern=No("fill-extrusion",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var a=n[r],i=a.feature,o=a.index,s=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),i)){var l=xi(i),u={sourceLayerIndex:s,index:o,geometry:l,properties:i.properties,type:i.type,patterns:{}};void 0!==i.id&&(u.id=i.id),this.hasPattern?this.features.push(jo("fill-extrusion",this.layers,u,this.zoom,t)):this.addFeature(u,l,o,{}),t.featureIndex.insert(i,l,o,s,this.index,!0)}}},ts.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var a=n[r],i=a.geometry;this.addFeature(a,i,a.index,t)}},ts.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ts.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ts.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ts.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Vo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ts.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ts.prototype.addFeature=function(e,t,r,n){for(var a=0,i=zo(t,500);a<i.length;a+=1){for(var o=i[a],s=0,l=0,u=o;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=o;p<h.length;p+=1){var f=h[p];if(0!==f.length&&!ns(f))for(var d=0,y=0;y<f.length;y++){var v=f[y];if(y>=1){var m=f[y-1];if(!rs(v,m)){c.vertexLength+4>Qa.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var g=v.sub(m)._perp()._unit(),_=m.dist(v);d+_>32768&&(d=0),es(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,0,d),es(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,1,d),d+=_,es(this.layoutVertexArray,m.x,m.y,g.x,g.y,0,0,d),es(this.layoutVertexArray,m.x,m.y,g.x,g.y,0,1,d);var x=c.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+s>Qa.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Jo[e.type]){for(var b=[],w=[],M=c.vertexLength,E=0,S=o;E<S.length;E+=1){var T=S[E];if(0!==T.length){T!==o[0]&&w.push(b.length/2);for(var C=0;C<T.length;C++){var I=T[C];es(this.layoutVertexArray,I.x,I.y,0,0,1,1,0),b.push(I.x),b.push(I.y)}}}for(var A=ro(b,w),k=0;k<A.length;k+=3)this.indexArray.emplaceBack(M+A[k],M+A[k+2],M+A[k+1]);c.primitiveLength+=A.length/3,c.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},An("FillExtrusionBucket",ts,{omit:["layers","features"]});var as={paint:new la({"fill-extrusion-opacity":new na(Ie["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new aa(Ie["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new na(Ie["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new na(Ie["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ia(Ie["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new aa(Ie["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new aa(Ie["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new na(Ie["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},is=function(e){function t(t){e.call(this,t,as)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ts(e)},t.prototype.queryRadius=function(){return Oi(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,o,s,l){var u=Ni(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,r),p=this.paint.get("fill-extrusion-base").evaluate(t,r),h=function(e,t,r,n){for(var i=[],o=0,s=e;o<s.length;o+=1){var l=s[o],u=[l.x,l.y,0,1];Ui(u,u,t),i.push(new a(u[0]/u[3],u[1]/u[3]))}return i}(u,l),f=function(e,t,r,n){for(var i=[],o=[],s=n[8]*t,l=n[9]*t,u=n[10]*t,c=n[11]*t,p=n[8]*r,h=n[9]*r,f=n[10]*r,d=n[11]*r,y=0,v=e;y<v.length;y+=1){for(var m=[],g=[],_=0,x=v[y];_<x.length;_+=1){var b=x[_],w=b.x,M=b.y,E=n[0]*w+n[4]*M+n[12],S=n[1]*w+n[5]*M+n[13],T=n[2]*w+n[6]*M+n[14],C=n[3]*w+n[7]*M+n[15],I=T+u,A=C+c,k=E+p,L=S+h,D=T+f,P=C+d,z=new a((E+s)/A,(S+l)/A);z.z=I/A,m.push(z);var O=new a(k/P,L/P);O.z=D/P,g.push(O)}i.push(m),o.push(g)}return[i,o]}(n,p,c,l);return function(e,t,r){var n=1/0;Si(r,t)&&(n=ss(r,t[0]));for(var a=0;a<t.length;a++)for(var i=t[a],o=e[a],s=0;s<i.length-1;s++){var l=i[s],u=i[s+1],c=o[s],p=[l,u,o[s+1],c,l];Mi(r,p)&&(n=Math.min(n,ss(r,p)))}return n!==1/0&&n}(f[0],f[1],h)},t}(ua);function os(e,t){return e.x*t.x+e.y*t.y}function ss(e,t){if(1===e.length){var r=t[0],n=t[1],a=t[3],i=e[0],o=n.sub(r),s=a.sub(r),l=i.sub(r),u=os(o,o),c=os(o,s),p=os(s,s),h=os(l,o),f=os(l,s),d=u*p-c*c,y=(p*h-c*f)/d,v=(u*f-c*h)/d,m=1-y-v;return r.z*m+n.z*y+a.z*v}for(var g=1/0,_=0,x=t;_<x.length;_+=1){var b=x[_];g=Math.min(g,b.z)}return g}var ls=fa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,us=Ko.VectorTileFeature.types,cs=Math.cos(Math.PI/180*37.5),ps=Math.pow(2,14)/.5,hs=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ga,this.indexArray=new La,this.programConfigurations=new yi(ls,e.layers,e.zoom),this.segments=new Qa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};hs.prototype.populate=function(e,t){this.hasPattern=No("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),n=[],a=0,i=e;a<i.length;a+=1){var o=i[a],s=o.feature,l=o.index,u=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new Hn(this.zoom),s)){var c=xi(s),p=r?r.evaluate(s,{}):void 0,h={id:s.id,properties:s.properties,type:s.type,sourceLayerIndex:u,index:l,geometry:c,patterns:{},sortKey:p};n.push(h)}}r&&n.sort((function(e,t){return e.sortKey-t.sortKey}));for(var f=0,d=n;f<d.length;f+=1){var y=d[f],v=y,m=v.geometry,g=v.index,_=v.sourceLayerIndex;if(this.hasPattern){var x=jo("line",this.layers,y,this.zoom,t);this.patternFeatures.push(x)}else this.addFeature(y,m,g,{});var b=e[g].feature;t.featureIndex.insert(b,m,g,_,this.index)}},hs.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},hs.prototype.addFeatures=function(e,t){for(var r=0,n=this.patternFeatures;r<n.length;r+=1){var a=n[r];this.addFeature(a,a.geometry,a.index,t)}},hs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},hs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},hs.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ls),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},hs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},hs.prototype.addFeature=function(e,t,r,n){for(var a=this.layers[0].layout,i=a.get("line-join").evaluate(e,{}),o=a.get("line-cap"),s=a.get("line-miter-limit"),l=a.get("line-round-limit"),u=0,c=t;u<c.length;u+=1){var p=c[u];this.addLine(p,e,i,o,s,l,r,n)}},hs.prototype.addLine=function(e,t,r,n,a,i,o,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+t.properties.mapbox_clip_start,this.clipEnd=+t.properties.mapbox_clip_end;for(var l=0;l<e.length-1;l++)this.totalDistance+=e[l].dist(e[l+1])}for(var u="Polygon"===us[t.type],c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var p=0;p<c-1&&e[p].equals(e[p+1]);)p++;if(!(c<(u?3:2))){"bevel"===r&&(a=1.05);var h,f=this.overscaling<=16?15*gi/(512*this.overscaling):0,d=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray),y=void 0,v=void 0,m=void 0,g=void 0;this.e1=this.e2=-1,u&&(h=e[c-2],g=e[p].sub(h)._unit()._perp());for(var _=p;_<c;_++)if(!(v=u&&_===c-1?e[p+1]:e[_+1])||!e[_].equals(v)){g&&(m=g),h&&(y=h),h=e[_],g=v?v.sub(h)._unit()._perp():m;var x=(m=m||g).add(g);0===x.x&&0===x.y||x._unit();var b=m.x*g.x+m.y*g.y,w=x.x*g.x+x.y*g.y,M=0!==w?1/w:1/0,E=2*Math.sqrt(2-2*w),S=w<cs&&y&&v,T=m.x*g.y-m.y*g.x>0;if(S&&_>p){var C=h.dist(y);if(C>2*f){var I=h.sub(h.sub(y)._mult(f/C)._round());this.updateDistance(y,I),this.addCurrentVertex(I,m,0,0,d),y=I}}var A=y&&v,k=A?r:u?"butt":n;if(A&&"round"===k&&(M<i?k="miter":M<=2&&(k="fakeround")),"miter"===k&&M>a&&(k="bevel"),"bevel"===k&&(M>2&&(k="flipbevel"),M<a&&(k="miter")),y&&this.updateDistance(y,h),"miter"===k)x._mult(M),this.addCurrentVertex(h,x,0,0,d);else if("flipbevel"===k){if(M>100)x=g.mult(-1);else{var L=M*m.add(g).mag()/m.sub(g).mag();x._perp()._mult(L*(T?-1:1))}this.addCurrentVertex(h,x,0,0,d),this.addCurrentVertex(h,x.mult(-1),0,0,d)}else if("bevel"===k||"fakeround"===k){var D=-Math.sqrt(M*M-1),P=T?D:0,z=T?0:D;if(y&&this.addCurrentVertex(h,m,P,z,d),"fakeround"===k)for(var O=Math.round(180*E/Math.PI/20),N=1;N<O;N++){var j=N/O;if(.5!==j){var R=j-.5;j+=j*R*(j-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*R*R+(.848013+b*(.215638*b-1.06021)))}var F=g.sub(m)._mult(j)._add(m)._unit()._mult(T?-1:1);this.addHalfVertex(h,F.x,F.y,!1,T,0,d)}v&&this.addCurrentVertex(h,g,-P,-z,d)}else if("butt"===k)this.addCurrentVertex(h,x,0,0,d);else if("square"===k){var B=y?1:-1;this.addCurrentVertex(h,x,B,B,d)}else"round"===k&&(y&&(this.addCurrentVertex(h,m,0,0,d),this.addCurrentVertex(h,m,1,1,d,!0)),v&&(this.addCurrentVertex(h,g,-1,-1,d,!0),this.addCurrentVertex(h,g,0,0,d)));if(S&&_<c-1){var U=h.dist(v);if(U>2*f){var V=h.add(v.sub(h)._mult(f/U)._round());this.updateDistance(h,V),this.addCurrentVertex(V,g,0,0,d),h=V}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,o,s)}},hs.prototype.addCurrentVertex=function(e,t,r,n,a,i){void 0===i&&(i=!1);var o=t.x+t.y*r,s=t.y-t.x*r,l=-t.x+t.y*n,u=-t.y-t.x*n;this.addHalfVertex(e,o,s,i,!1,r,a),this.addHalfVertex(e,l,u,i,!0,-n,a),this.distance>ps/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,r,n,a,i))},hs.prototype.addHalfVertex=function(e,t,r,n,a,i,o){var s=e.x,l=e.y,u=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((s<<1)+(n?1:0),(l<<1)+(a?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===i?0:i<0?-1:1)|(63&u)<<2,u>>6);var c=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),o.primitiveLength++),a?this.e2=c:this.e1=c},hs.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(ps-1):this.distance},An("LineBucket",hs,{omit:["layers","patternFeatures"]});var fs=new la({"line-cap":new na(Ie.layout_line["line-cap"]),"line-join":new aa(Ie.layout_line["line-join"]),"line-miter-limit":new na(Ie.layout_line["line-miter-limit"]),"line-round-limit":new na(Ie.layout_line["line-round-limit"]),"line-sort-key":new aa(Ie.layout_line["line-sort-key"])}),ds={paint:new la({"line-opacity":new aa(Ie.paint_line["line-opacity"]),"line-color":new aa(Ie.paint_line["line-color"]),"line-translate":new na(Ie.paint_line["line-translate"]),"line-translate-anchor":new na(Ie.paint_line["line-translate-anchor"]),"line-width":new aa(Ie.paint_line["line-width"]),"line-gap-width":new aa(Ie.paint_line["line-gap-width"]),"line-offset":new aa(Ie.paint_line["line-offset"]),"line-blur":new aa(Ie.paint_line["line-blur"]),"line-dasharray":new oa(Ie.paint_line["line-dasharray"]),"line-pattern":new ia(Ie.paint_line["line-pattern"]),"line-gradient":new sa(Ie.paint_line["line-gradient"])}),layout:fs},ys=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new Hn(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,a){return r=p({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,a)},t}(aa))(ds.paint.properties["line-width"].specification);ys.useIntegerZoom=!0;var vs=function(e){function t(t){e.call(this,t,ds)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Ki(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t,r){e.prototype.recalculate.call(this,t,r),this.paint._values["line-floorwidth"]=ys.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new hs(e)},t.prototype.queryRadius=function(e){var t=e,r=ms(zi("line-width",this,t),zi("line-gap-width",this,t)),n=zi("line-offset",this,t);return r/2+Math.abs(n)+Oi(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,o,s){var l=Ni(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),u=s/2*ms(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),c=this.paint.get("line-offset").evaluate(t,r);return c&&(n=function(e,t){for(var r=[],n=new a(0,0),i=0;i<e.length;i++){for(var o=e[i],s=[],l=0;l<o.length;l++){var u=o[l-1],c=o[l],p=o[l+1],h=0===l?n:c.sub(u)._unit()._perp(),f=l===o.length-1?n:p.sub(c)._unit()._perp(),d=h._add(f)._unit(),y=d.x*f.x+d.y*f.y;d._mult(1/y),s.push(d._mult(t)._add(c))}r.push(s)}return r}(n,c*s)),function(e,t,r){for(var n=0;n<t.length;n++){var a=t[n];if(e.length>=3)for(var i=0;i<a.length;i++)if(Di(e,a[i]))return!0;if(Ti(e,a,r))return!0}return!1}(l,n,u)},t.prototype.isTileClipped=function(){return!0},t}(ua);function ms(e,t){return t>0?t+2*e:e}var gs=fa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_s=fa([{name:"a_projected_pos",components:3,type:"Float32"}],4),xs=(fa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),fa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),bs=(fa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),fa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),ws=fa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function Ms(e,t,r){return e.sections.forEach((function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),Zn.applyArabicShaping&&(e=Zn.applyArabicShaping(e)),e}(e.text,t,r)})),e}fa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),fa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),fa([{type:"Float32",name:"offsetX"}]),fa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Es={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Ss=24,Ts=function(e,t,r,n,a){var i,o,s=8*a-n-1,l=(1<<s)-1,u=l>>1,c=-7,p=r?a-1:0,h=r?-1:1,f=e[t+p];for(p+=h,i=f&(1<<-c)-1,f>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=h,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=256*o+e[t+p],p+=h,c-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),i-=u}return(f?-1:1)*o*Math.pow(2,i-n)},Cs=function(e,t,r,n,a,i){var o,s,l,u=8*i-a-1,c=(1<<u)-1,p=c>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(o++,l/=2),o+p>=c?(s=0,o=c):o+p>=1?(s=(t*l-1)*Math.pow(2,a),o+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,a),o=0));a>=8;e[r+f]=255&s,f+=d,s/=256,a-=8);for(o=o<<a|s,u+=a;u>0;e[r+f]=255&o,f+=d,o/=256,u-=8);e[r+f-d]|=128*y},Is=As;function As(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}As.Varint=0,As.Fixed64=1,As.Bytes=2,As.Fixed32=5;var ks="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ls(e){return e.type===As.Bytes?e.readVarint()+e.pos:e.pos+1}function Ds(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Ps(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var a=r.pos-1;a>=e;a--)r.buf[a+n]=r.buf[a]}function zs(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Os(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Ns(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function js(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Rs(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Fs(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Bs(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Us(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Vs(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function qs(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Ws(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function Gs(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}As.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),a=n>>3,i=this.pos;this.type=7&n,e(a,t,this),this.pos===i&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=qs(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Gs(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=qs(this.buf,this.pos)+4294967296*qs(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=qs(this.buf,this.pos)+4294967296*Gs(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ts(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ts(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,a,i=r.buf;if(n=(112&(a=i[r.pos++]))>>4,a<128)return Ds(e,n,t);if(n|=(127&(a=i[r.pos++]))<<3,a<128)return Ds(e,n,t);if(n|=(127&(a=i[r.pos++]))<<10,a<128)return Ds(e,n,t);if(n|=(127&(a=i[r.pos++]))<<17,a<128)return Ds(e,n,t);if(n|=(127&(a=i[r.pos++]))<<24,a<128)return Ds(e,n,t);if(n|=(1&(a=i[r.pos++]))<<31,a<128)return Ds(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&ks?function(e,t,r){return ks.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",a=t;a<r;){var i,o,s,l=e[a],u=null,c=l>239?4:l>223?3:l>191?2:1;if(a+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(i=e[a+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===c?(i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&((u=(15&l)<<12|(63&i)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),a+=c}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==As.Bytes)return e.push(this.readVarint(t));var r=Ls(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==As.Bytes)return e.push(this.readSVarint());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==As.Bytes)return e.push(this.readBoolean());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==As.Bytes)return e.push(this.readFloat());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==As.Bytes)return e.push(this.readDouble());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==As.Bytes)return e.push(this.readFixed32());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==As.Bytes)return e.push(this.readSFixed32());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==As.Bytes)return e.push(this.readFixed64());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==As.Bytes)return e.push(this.readSFixed64());var t=Ls(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===As.Varint)for(;this.buf[this.pos++]>127;);else if(t===As.Bytes)this.pos=this.readVarint()+this.pos;else if(t===As.Fixed32)this.pos+=4;else{if(t!==As.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Ws(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Ws(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Ws(this.buf,-1&e,this.pos),Ws(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Ws(this.buf,-1&e,this.pos),Ws(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,a,i=0;i<t.length;i++){if((n=t.charCodeAt(i))>55295&&n<57344){if(!a){n>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):a=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,a=n;continue}n=a-55296<<10|n-56320|65536,a=null}else a&&(e[r++]=239,e[r++]=191,e[r++]=189,a=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Ps(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),Cs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Cs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&Ps(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,As.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,zs,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Os,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Rs,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Ns,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,js,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Fs,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Bs,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Us,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Vs,t)},writeBytesField:function(e,t){this.writeTag(e,As.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,As.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,As.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,As.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,As.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,As.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,As.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,As.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,As.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,As.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var Ys=3;function Zs(e,t,r){1===e&&r.readMessage(Hs,t)}function Hs(e,t,r){if(3===e){var n=r.readMessage(Qs,{}),a=n.id,i=n.bitmap,o=n.width,s=n.height,l=n.left,u=n.top,c=n.advance;t.push({id:a,bitmap:new Hi({width:o+2*Ys,height:s+2*Ys},i),metrics:{width:o,height:s,left:l,top:u,advance:c}})}}function Qs(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}var Xs=Ys;function Ks(e){for(var t=0,r=0,n=0,a=e;n<a.length;n+=1){var i=a[n];t+=i.w*i.h,r=Math.max(r,i.w)}e.sort((function(e,t){return t.h-e.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var p=c[u],h=o.length-1;h>=0;h--){var f=o[h];if(!(p.w>f.w||p.h>f.h)){if(p.x=f.x,p.y=f.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===f.w&&p.h===f.h){var d=o.pop();h<o.length&&(o[h]=d)}else p.h===f.h?(f.x+=p.w,f.w-=p.w):p.w===f.w?(f.y+=p.h,f.h-=p.h):(o.push({x:f.x+p.w,y:f.y,w:f.w-p.w,h:p.h}),f.y+=p.h,f.h-=p.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}var Js=1,$s=function(e,t){var r=t.pixelRatio,n=t.version,a=t.stretchX,i=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=r,this.stretchX=a,this.stretchY=i,this.content=o,this.version=n},el={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};el.tl.get=function(){return[this.paddedRect.x+Js,this.paddedRect.y+Js]},el.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Js,this.paddedRect.y+this.paddedRect.h-Js]},el.tlbr.get=function(){return this.tl.concat(this.br)},el.displaySize.get=function(){return[(this.paddedRect.w-2*Js)/this.pixelRatio,(this.paddedRect.h-2*Js)/this.pixelRatio]},Object.defineProperties($s.prototype,el);var tl=function(e,t){var r={},n={};this.haveRenderCallbacks=[];var a=[];this.addImages(e,r,a),this.addImages(t,n,a);var i=Ks(a),o=i.w,s=i.h,l=new Qi({width:o||1,height:s||1});for(var u in e){var c=e[u],p=r[u].paddedRect;Qi.copy(c.data,l,{x:0,y:0},{x:p.x+Js,y:p.y+Js},c.data)}for(var h in t){var f=t[h],d=n[h].paddedRect,y=d.x+Js,v=d.y+Js,m=f.data.width,g=f.data.height;Qi.copy(f.data,l,{x:0,y:0},{x:y,y:v},f.data),Qi.copy(f.data,l,{x:0,y:g-1},{x:y,y:v-1},{width:m,height:1}),Qi.copy(f.data,l,{x:0,y:0},{x:y,y:v+g},{width:m,height:1}),Qi.copy(f.data,l,{x:m-1,y:0},{x:y-1,y:v},{width:1,height:g}),Qi.copy(f.data,l,{x:0,y:0},{x:y+m,y:v},{width:1,height:g})}this.image=l,this.iconPositions=r,this.patternPositions=n};tl.prototype.addImages=function(e,t,r){for(var n in e){var a=e[n],i={x:0,y:0,w:a.data.width+2*Js,h:a.data.height+2*Js};r.push(i),t[n]=new $s(i,a),a.hasRenderCallback&&this.haveRenderCallbacks.push(n)}},tl.prototype.patchUpdatedImages=function(e,t){for(var r in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)},tl.prototype.patchUpdatedImage=function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=e.tl,a=n[0],i=n[1];r.update(t.data,void 0,{x:a,y:i})}},An("ImagePosition",$s),An("ImageAtlas",tl);var rl={horizontal:1,vertical:2,horizontalOnly:3},nl=-17,al=function(){this.scale=1,this.fontStack="",this.imageName=null};al.forText=function(e,t){var r=new al;return r.scale=e||1,r.fontStack=t,r},al.forImage=function(e){var t=new al;return t.imageName=e,t};var il=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function ol(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y){var v,m=il.fromFeature(e,a);p===rl.vertical&&m.verticalizePunctuation();var g=Zn.processBidirectionalText,_=Zn.processStyledBidirectionalText;if(g&&1===m.sections.length){v=[];for(var x=0,b=g(m.toString(),fl(m,u,i,t,n,f,d));x<b.length;x+=1){var w=b[x],M=new il;M.text=w,M.sections=m.sections;for(var E=0;E<w.length;E++)M.sectionIndex.push(0);v.push(M)}}else if(_){v=[];for(var S=0,T=_(m.text,m.sectionIndex,fl(m,u,i,t,n,f,d));S<T.length;S+=1){var C=T[S],I=new il;I.text=C[0],I.sectionIndex=C[1],I.sections=m.sections,v.push(I)}}else v=function(e,t){for(var r=[],n=e.text,a=0,i=0,o=t;i<o.length;i+=1){var s=o[i];r.push(e.substring(a,s)),a=s}return a<n.length&&r.push(e.substring(a,n.length)),r}(m,fl(m,u,i,t,n,f,d));var A=[],k={positionedLines:A,text:m.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(e,t,r,n,a,i,o,s,l,u,c,p){for(var h=0,f=nl,d=0,y=0,v="right"===s?1:"left"===s?0:.5,m=0,g=0,_=a;g<_.length;g+=1){var x=_[g];x.trim();var b=x.getMaxScale(),w=(b-1)*Ss,M={positionedGlyphs:[],lineOffset:0};e.positionedLines[m]=M;var E=M.positionedGlyphs,S=0;if(x.length()){for(var T=0;T<x.length();T++){var C=x.getSection(T),I=x.getSectionIndex(T),A=x.getCharCode(T),k=0,L=null,D=null,P=null,z=Ss,O=!(l===rl.horizontal||!c&&!rt(A)||c&&(sl[A]||(G=A,$e.Arabic(G)||$e["Arabic Supplement"](G)||$e["Arabic Extended-A"](G)||$e["Arabic Presentation Forms-A"](G)||$e["Arabic Presentation Forms-B"](G))));if(C.imageName){var N=n[C.imageName];if(!N)continue;P=C.imageName,e.iconsInText=e.iconsInText||!0,D=N.paddedRect;var j=N.displaySize;C.scale=C.scale*Ss/p,L={width:j[0],height:j[1],left:Js,top:-Xs,advance:O?j[1]:j[0]},k=w+(Ss-j[1]*C.scale),z=L.advance;var R=O?j[0]*C.scale-Ss*b:j[1]*C.scale-Ss*b;R>0&&R>S&&(S=R)}else{var F=r[C.fontStack],B=F&&F[A];if(B&&B.rect)D=B.rect,L=B.metrics;else{var U=t[C.fontStack],V=U&&U[A];if(!V)continue;L=V.metrics}k=(b-C.scale)*Ss}O?(e.verticalizable=!0,E.push({glyph:A,imageName:P,x:h,y:f+k,vertical:O,scale:C.scale,fontStack:C.fontStack,sectionIndex:I,metrics:L,rect:D}),h+=z*C.scale+u):(E.push({glyph:A,imageName:P,x:h,y:f+k,vertical:O,scale:C.scale,fontStack:C.fontStack,sectionIndex:I,metrics:L,rect:D}),h+=L.advance*C.scale+u)}if(0!==E.length){var q=h-u;d=Math.max(q,d),yl(E,0,E.length-1,v,S)}h=0;var W=i*b+S;M.lineOffset=Math.max(S,w),f+=W,y=Math.max(W,y),++m}else f+=i,++m}var G,Y=f-nl,Z=dl(o),H=Z.horizontalAlign,Q=Z.verticalAlign;(function(e,t,r,n,a,i,o,s,l){var u,c=(t-r)*a;u=i!==o?-s*n-nl:(-n*l+.5)*o;for(var p=0,h=e;p<h.length;p+=1)for(var f=0,d=h[p].positionedGlyphs;f<d.length;f+=1){var y=d[f];y.x+=c,y.y+=u}})(e.positionedLines,v,H,Q,d,y,i,Y,a.length),e.top+=-Q*Y,e.bottom=e.top+Y,e.left+=-H*d,e.right=e.left+d}(k,t,r,n,v,o,s,l,p,u,h,y),!function(e){for(var t=0,r=e;t<r.length;t+=1)if(0!==r[t].positionedGlyphs.length)return!1;return!0}(A)&&k}il.fromFeature=function(e,t){for(var r=new il,n=0;n<e.sections.length;n++){var a=e.sections[n];a.image?r.addImageSection(a):r.addTextSection(a,t)}return r},il.prototype.length=function(){return this.text.length},il.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},il.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},il.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},il.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,a=e.charCodeAt(r-1)||null;n&&nt(n)&&!Es[e[r+1]]||a&&nt(a)&&!Es[e[r-1]]||!Es[e[r]]?t+=e[r]:t+=Es[e[r]]}return t}(this.text)},il.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&sl[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&sl[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},il.prototype.substring=function(e,t){var r=new il;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},il.prototype.toString=function(){return this.text},il.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,r){return Math.max(t,e.sections[r].scale)}),0)},il.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(al.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(r)},il.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(al.forImage(t)),this.sectionIndex.push(this.sections.length-1)):w("Reached maximum number of images 6401")}else w("Can't add FormattedSection with an empty image.")},il.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var sl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ll={};function ul(e,t,r,n,a,i){if(t.imageName){var o=n[t.imageName];return o?o.displaySize[0]*t.scale*Ss/i+a:0}var s=r[t.fontStack],l=s&&s[e];return l?l.metrics.advance*t.scale+a:0}function cl(e,t,r,n){var a=Math.pow(e-t,2);return n?e<t?a/2:2*a:a+Math.abs(r)*r}function pl(e,t,r){var n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function hl(e,t,r,n,a,i){for(var o=null,s=cl(t,r,a,i),l=0,u=n;l<u.length;l+=1){var c=u[l],p=cl(t-c.x,r,a,i)+c.badness;p<=s&&(o=c,s=p)}return{index:e,x:t,priorBreak:o,badness:s}}function fl(e,t,r,n,a,i,o){if("point"!==i)return[];if(!e)return[];for(var s,l=[],u=function(e,t,r,n,a,i){for(var o=0,s=0;s<e.length();s++){var l=e.getSection(s);o+=ul(e.getCharCode(s),l,n,a,t,i)}return o/Math.max(1,Math.ceil(o/r))}(e,t,r,n,a,o),c=e.text.indexOf("​")>=0,p=0,h=0;h<e.length();h++){var f=e.getSection(h),d=e.getCharCode(h);if(sl[d]||(p+=ul(d,f,n,a,t,o)),h<e.length()-1){var y=!((s=d)<11904||!($e["Bopomofo Extended"](s)||$e.Bopomofo(s)||$e["CJK Compatibility Forms"](s)||$e["CJK Compatibility Ideographs"](s)||$e["CJK Compatibility"](s)||$e["CJK Radicals Supplement"](s)||$e["CJK Strokes"](s)||$e["CJK Symbols and Punctuation"](s)||$e["CJK Unified Ideographs Extension A"](s)||$e["CJK Unified Ideographs"](s)||$e["Enclosed CJK Letters and Months"](s)||$e["Halfwidth and Fullwidth Forms"](s)||$e.Hiragana(s)||$e["Ideographic Description Characters"](s)||$e["Kangxi Radicals"](s)||$e["Katakana Phonetic Extensions"](s)||$e.Katakana(s)||$e["Vertical Forms"](s)||$e["Yi Radicals"](s)||$e["Yi Syllables"](s)));(ll[d]||y||f.imageName)&&l.push(hl(h+1,p,u,l,pl(d,e.getCharCode(h+1),y&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(hl(e.length(),p,u,l,0,!0))}function dl(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function yl(e,t,r,n,a){if(n||a)for(var i=e[r],o=i.metrics.advance*i.scale,s=(e[r].x+o)*n,l=t;l<=r;l++)e[l].x-=s,e[l].y+=a}function vl(e,t,r,n,a,i){var o,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;o=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,p,h,f,d=t.left*i,y=t.right*i;"width"===r||"both"===r?(f=a[0]+d-n[3],p=a[0]+y+n[1]):p=(f=a[0]+(d+y-s.displaySize[0])/2)+s.displaySize[0];var v=t.top*i,m=t.bottom*i;return"height"===r||"both"===r?(c=a[1]+v-n[0],h=a[1]+m+n[2]):h=(c=a[1]+(v+m-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:p,bottom:h,left:f,collisionPadding:o}}ll[10]=!0,ll[32]=!0,ll[38]=!0,ll[40]=!0,ll[41]=!0,ll[43]=!0,ll[45]=!0,ll[47]=!0,ll[173]=!0,ll[183]=!0,ll[8203]=!0,ll[8208]=!0,ll[8211]=!0,ll[8231]=!0;var ml=function(e){function t(t,r,n,a){e.call(this,t,r),this.angle=n,void 0!==a&&(this.segment=a)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(a);An("Anchor",ml);var gl=128;function _l(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new Hn(e+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,a=r.interpolationType,i=0;i<n.length&&n[i]<=e;)i++;for(var o=i=Math.max(0,i-1);o<n.length&&n[o]<e+1;)o++;o=Math.min(n.length-1,o);var s=n[i],l=n[o];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:a}:{kind:"camera",minZoom:s,maxZoom:l,minSize:r.evaluate(new Hn(s)),maxSize:r.evaluate(new Hn(l)),interpolationType:a}}function xl(e,t,r){var n=t.uSize,a=t.uSizeT,i=r.lowerSize,o=r.upperSize;return"source"===e.kind?i/gl:"composite"===e.kind?Dt(i/gl,o/gl,a):n}function bl(e,t){var r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var a=e.interpolationType,i=e.minZoom,o=e.maxZoom,s=a?u($t.interpolationFactor(a,t,i,o),0,1):0;"camera"===e.kind?n=Dt(e.minSize,e.maxSize,s):r=s}return{uSizeT:r,uSize:n}}var wl=Object.freeze({__proto__:null,getSizeData:_l,evaluateSizeForFeature:xl,evaluateSizeForZoom:bl,SIZE_PACK_FACTOR:gl});function Ml(e,t,r,n,a){if(void 0===t.segment)return!0;for(var i=t,o=t.segment+1,s=0;s>-r/2;){if(--o<0)return!1;s-=e[o].dist(i),i=e[o]}s+=e[o].dist(e[o+1]),o++;for(var l=[],u=0;s<r/2;){var c=e[o-1],p=e[o],h=e[o+1];if(!h)return!1;var f=c.angleTo(p)-p.angleTo(h);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:f}),u+=f;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>a)return!1;o++,s+=p.dist(h)}return!0}function El(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Sl(e,t,r){return e?.6*t*r:0}function Tl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Cl(e,t,r,n,a,i){for(var o=Sl(r,a,i),s=Tl(r,n)*i,l=0,u=El(e)/2,c=0;c<e.length-1;c++){var p=e[c],h=e[c+1],f=p.dist(h);if(l+f>u){var d=(u-l)/f,y=Dt(p.x,h.x,d),v=Dt(p.y,h.y,d),m=new ml(y,v,h.angleTo(p),c);return m._round(),!o||Ml(e,m,s,o,t)?m:void 0}l+=f}}function Il(e,t,r,n,a,i,o,s,l){var u=Sl(n,i,o),c=Tl(n,a),p=c*o,h=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-p<t/4&&(t=p+t/4),function e(t,r,n,a,i,o,s,l,u){for(var c=o/2,p=El(t),h=0,f=r-n,d=[],y=0;y<t.length-1;y++){for(var v=t[y],m=t[y+1],g=v.dist(m),_=m.angleTo(v);f+n<h+g;){var x=((f+=n)-h)/g,b=Dt(v.x,m.x,x),w=Dt(v.y,m.y,x);if(b>=0&&b<u&&w>=0&&w<u&&f-c>=0&&f+c<=p){var M=new ml(b,w,_,y);M._round(),a&&!Ml(t,M,o,a,i)||d.push(M)}}h+=g}return l||d.length||s||(d=e(t,h/2,n,a,i,o,s,!0,u)),d}(e,h?t/2*s%t:(c/2+2*i)*o*s%t,t,u,r,p,h,!1,l)}var Al=Js;function kl(e,t,r,n){var i=[],o=e.image,s=o.pixelRatio,l=o.paddedRect.w-2*Al,u=o.paddedRect.h-2*Al,c=e.right-e.left,p=e.bottom-e.top,h=o.stretchX||[[0,l]],f=o.stretchY||[[0,u]],d=function(e,t){return e+t[1]-t[0]},y=h.reduce(d,0),v=f.reduce(d,0),m=l-y,g=u-v,_=0,x=y,b=0,w=v,M=0,E=m,S=0,T=g;if(o.content&&n){var C=o.content;_=Ll(h,0,C[0]),b=Ll(f,0,C[1]),x=Ll(h,C[0],C[2]),w=Ll(f,C[1],C[3]),M=C[0]-_,S=C[1]-b,E=C[2]-C[0]-x,T=C[3]-C[1]-w}var I=function(n,i,l,u){var h=Pl(n.stretch-_,x,c,e.left),f=zl(n.fixed-M,E,n.stretch,y),d=Pl(i.stretch-b,w,p,e.top),m=zl(i.fixed-S,T,i.stretch,v),g=Pl(l.stretch-_,x,c,e.left),C=zl(l.fixed-M,E,l.stretch,y),I=Pl(u.stretch-b,w,p,e.top),A=zl(u.fixed-S,T,u.stretch,v),k=new a(h,d),L=new a(g,d),D=new a(g,I),P=new a(h,I),z=new a(f/s,m/s),O=new a(C/s,A/s),N=t*Math.PI/180;if(N){var j=Math.sin(N),R=Math.cos(N),F=[R,-j,j,R];k._matMult(F),L._matMult(F),P._matMult(F),D._matMult(F)}var B=n.stretch+n.fixed,U=l.stretch+l.fixed,V=i.stretch+i.fixed,q=u.stretch+u.fixed;return{tl:k,tr:L,bl:P,br:D,tex:{x:o.paddedRect.x+Al+B,y:o.paddedRect.y+Al+V,w:U-B,h:q-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:z,pixelOffsetBR:O,minFontScaleX:E/s/c,minFontScaleY:T/s/p,isSDF:r}};if(n&&(o.stretchX||o.stretchY))for(var A=Dl(h,m,y),k=Dl(f,g,v),L=0;L<A.length-1;L++)for(var D=A[L],P=A[L+1],z=0;z<k.length-1;z++){var O=k[z],N=k[z+1];i.push(I(D,O,P,N))}else i.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return i}function Ll(e,t,r){for(var n=0,a=0,i=e;a<i.length;a+=1){var o=i[a];n+=Math.max(t,Math.min(r,o[1]))-Math.max(t,Math.min(r,o[0]))}return n}function Dl(e,t,r){for(var n=[{fixed:-Al,stretch:0}],a=0,i=e;a<i.length;a+=1){var o=i[a],s=o[0],l=o[1],u=n[n.length-1];n.push({fixed:s-u.stretch,stretch:u.stretch}),n.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}return n.push({fixed:t+Al,stretch:r}),n}function Pl(e,t,r,n){return e/t*r+n}function zl(e,t,r,n){return e-t*r/n}var Ol=function(e,t,r,n,i,o,s,l,u,c,p,h){var f=s.top*l-u,d=s.bottom*l+u,y=s.left*l-u,v=s.right*l+u,m=s.collisionPadding;if(m&&(y-=m[0]*l,f-=m[1]*l,v+=m[2]*l,d+=m[3]*l),this.boxStartIndex=e.length,c){var g=d-f,_=v-y;g>0&&(g=Math.max(10*l,g),this._addLineCollisionCircles(e,t,r,r.segment,_,g,n,i,o,p))}else{if(h){var x=new a(y,f),b=new a(v,f),w=new a(y,d),M=new a(v,d),E=h*Math.PI/180;x._rotate(E),b._rotate(E),w._rotate(E),M._rotate(E),y=Math.min(x.x,b.x,w.x,M.x),v=Math.max(x.x,b.x,w.x,M.x),f=Math.min(x.y,b.y,w.y,M.y),d=Math.max(x.y,b.y,w.y,M.y)}e.emplaceBack(r.x,r.y,y,f,v,d,n,i,o,0,0)}this.boxEndIndex=e.length};Ol.prototype._addLineCollisionCircles=function(e,t,r,n,a,i,o,s,l,u){var c=i/2,p=Math.floor(a/c)||1,h=1+.4*Math.log(u)/Math.LN2,f=Math.floor(p*h/2),d=-i/2,y=r,v=n+1,m=d,g=-a/2,_=g-a/4;do{if(--v<0){if(m>g)return;v=0;break}m-=t[v].dist(y),y=t[v]}while(m>_);for(var x=t[v].dist(t[v+1]),b=-f;b<p+f;b++){var w=b*c,M=g+w;if(w<0&&(M+=w),w>a&&(M+=w-a),!(M<m)){for(;m+x<M;){if(m+=x,++v+1>=t.length)return;x=t[v].dist(t[v+1])}var E=M-m,S=t[v],T=t[v+1].sub(S)._unit()._mult(E)._add(S)._round(),C=Math.abs(M-d)<c?0:.8*(M-d);e.emplaceBack(T.x,T.y,-i/2,-i/2,i/2,i/2,o,s,l,i/2,C)}}};var Nl=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=jl),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function jl(e,t){return e<t?-1:e>t?1:0}function Rl(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);for(var n=1/0,i=1/0,o=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<n)&&(n=c.x),(!u||c.y<i)&&(i=c.y),(!u||c.x>o)&&(o=c.x),(!u||c.y>s)&&(s=c.y)}var p=o-n,h=s-i,f=Math.min(p,h),d=f/2,y=new Nl([],Fl);if(0===f)return new a(n,i);for(var v=n;v<o;v+=f)for(var m=i;m<s;m+=f)y.push(new Bl(v+d,m+d,d,e));for(var g=function(e){for(var t=0,r=0,n=0,a=e[0],i=0,o=a.length,s=o-1;i<o;s=i++){var l=a[i],u=a[s],c=l.x*u.y-u.x*l.y;r+=(l.x+u.x)*c,n+=(l.y+u.y)*c,t+=3*c}return new Bl(r/t,n/t,0,e)}(e),_=y.length;y.length;){var x=y.pop();(x.d>g.d||!g.d)&&(g=x,r&&console.log("found best %d after %d probes",Math.round(1e4*x.d)/1e4,_)),x.max-g.d<=t||(d=x.h/2,y.push(new Bl(x.p.x-d,x.p.y-d,d,e)),y.push(new Bl(x.p.x+d,x.p.y-d,d,e)),y.push(new Bl(x.p.x-d,x.p.y+d,d,e)),y.push(new Bl(x.p.x+d,x.p.y+d,d,e)),_+=4)}return r&&(console.log("num probes: "+_),console.log("best distance: "+g.d)),g.p}function Fl(e,t){return t.max-e.max}function Bl(e,t,r,n){this.p=new a(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,a=0;a<t.length;a++)for(var i=t[a],o=0,s=i.length,l=s-1;o<s;l=o++){var u=i[o],c=i[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(r=!r),n=Math.min(n,ki(e,u,c))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}Nl.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Nl.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Nl.prototype.peek=function(){return this.data[0]},Nl.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var a=e-1>>1,i=t[a];if(r(n,i)>=0)break;t[e]=i,e=a}t[e]=n},Nl.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,a=t[e];e<n;){var i=1+(e<<1),o=t[i],s=i+1;if(s<this.length&&r(t[s],o)<0&&(i=s,o=t[s]),r(o,a)>=0)break;t[e]=o,e=i}t[e]=a};var Ul=t((function(e){e.exports=function(e,t){var r,n,a,i,o,s,l,u;for(r=3&e.length,n=e.length-r,a=t,o=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,a=27492+(65535&(i=5*(65535&(a=(a^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:a^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}})),Vl=t((function(e){e.exports=function(e,t){for(var r,n=e.length,a=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0}})),ql=Ul,Wl=Ul,Gl=Vl;ql.murmur3=Wl,ql.murmur2=Gl;var Yl=7,Zl=Number.POSITIVE_INFINITY;function Hl(e,t){return t[1]!==Zl?function(e,t,r){var n=0,a=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":a=r-Yl;break;case"bottom-right":case"bottom-left":case"bottom":a=-r+Yl}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,a]}(e,t[0],t[1]):function(e,t){var r=0,n=0;t<0&&(t=0);var a=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":n=a-Yl;break;case"bottom-right":case"bottom-left":n=-a+Yl;break;case"bottom":n=-t+Yl;break;case"top":n=t-Yl}switch(e){case"top-right":case"bottom-right":r=-a;break;case"top-left":case"bottom-left":r=a;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function Ql(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Xl=255,Kl=Xl*gl;function Jl(e,t,r,n,i,o,s,l,u,c,p,h,f,d){var y=function(e,t,r,n,i,o,s,l){for(var u=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,c=[],p=0,h=t.positionedLines;p<h.length;p+=1)for(var f=h[p],d=0,y=f.positionedGlyphs;d<y.length;d+=1){var v=y[d];if(v.rect){var m=v.rect||{},g=Xs+1,_=!0,x=1,b=0,w=(i||l)&&v.vertical,M=v.metrics.advance*v.scale/2;if(l&&t.verticalizable){var E=(v.scale-1)*Ss,S=(Ss-v.metrics.width*v.scale)/2;b=f.lineOffset/2-(v.imageName?-S:E)}if(v.imageName){var T=s[v.imageName];_=T.sdf,x=T.pixelRatio,g=Js/x}var C=i?[v.x+M,v.y]:[0,0],I=i?[0,0]:[v.x+M+r[0],v.y+r[1]-b],A=[0,0];w&&(A=I,I=[0,0]);var k=(v.metrics.left-g)*v.scale-M+I[0],L=(-v.metrics.top-g)*v.scale+I[1],D=k+m.w*v.scale/x,P=L+m.h*v.scale/x,z=new a(k,L),O=new a(D,L),N=new a(k,P),j=new a(D,P);if(w){var R=new a(-M,M-nl),F=-Math.PI/2,B=Ss/2-M,U=v.imageName?B:0,V=new a(5-nl-B,-U),q=new(Function.prototype.bind.apply(a,[null].concat(A)));z._rotateAround(F,R)._add(V)._add(q),O._rotateAround(F,R)._add(V)._add(q),N._rotateAround(F,R)._add(V)._add(q),j._rotateAround(F,R)._add(V)._add(q)}if(u){var W=Math.sin(u),G=Math.cos(u),Y=[G,-W,W,G];z._matMult(Y),O._matMult(Y),N._matMult(Y),j._matMult(Y)}var Z=new a(0,0),H=new a(0,0);c.push({tl:z,tr:O,bl:N,br:j,tex:m,writingMode:t.writingMode,glyphOffset:C,sectionIndex:v.sectionIndex,isSDF:_,pixelOffsetTL:Z,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,r,l,i,o,s,n,e.allowVerticalPlacement),v=e.textSizeData,m=null;"source"===v.kind?(m=[gl*i.layout.get("text-size").evaluate(s,{})])[0]>Kl&&w(e.layerIds[0]+': Value for "text-size" is >= '+Xl+'. Reduce your "text-size".'):"composite"===v.kind&&((m=[gl*d.compositeTextSizes[0].evaluate(s,{}),gl*d.compositeTextSizes[1].evaluate(s,{})])[0]>Kl||m[1]>Kl)&&w(e.layerIds[0]+': Value for "text-size" is >= '+Xl+'. Reduce your "text-size".'),e.addSymbols(e.text,y,m,l,o,s,c,t,u.lineStartIndex,u.lineLength,f);for(var g=0,_=p;g<_.length;g+=1)h[_[g]]=e.text.placedSymbolArray.length-1;return 4*y.length}function $l(e){for(var t in e)return e[t];return null}function eu(e,t,r,n){var a=e.compareText;if(t in a){for(var i=a[t],o=i.length-1;o>=0;o--)if(n.dist(i[o])<r)return!0}else a[t]=[];return a[t].push(n),!1}var tu=Ko.VectorTileFeature.types,ru=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function nu(e,t,r,n,a,i,o,s,l,u,c,p,h){var f=s?Math.min(Kl,Math.round(s[0])):0,d=s?Math.min(Kl,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*a),i,o,(f<<1)+(l?1:0),d,16*u,16*c,256*p,256*h)}function au(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}var iu=function(e){this.layoutVertexArray=new xa,this.indexArray=new La,this.programConfigurations=e,this.segments=new Qa,this.dynamicLayoutVertexArray=new ba,this.opacityVertexArray=new wa,this.placedSymbolArray=new Fa};iu.prototype.upload=function(e,t,r,n){r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,_s.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ru,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e)},iu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},An("SymbolBuffers",iu);var ou=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new Qa,this.collisionVertexArray=new Sa};ou.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,xs.members,!0)},ou.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},An("CollisionBuffers",ou);var su=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1,this.hasRTLText=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=_l(this.zoom,t["text-size"]),this.iconSizeData=_l(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),a=r.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==a&&void 0!==n.constantOr(1);var i="viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey;this.sortFeaturesByY=i&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((function(e){return rl[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};su.prototype.createArrays=function(){var e=this.layers[0].layout;this.hasPaintOverrides=pu.hasPaintOverrides(e),this.text=new iu(new yi(gs.members,this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new iu(new yi(gs.members,this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.textCollisionBox=new ou(Ea,bs.members,Da),this.iconCollisionBox=new ou(Ea,bs.members,Da),this.textCollisionCircle=new ou(Ea,ws.members,La),this.iconCollisionCircle=new ou(Ea,ws.members,La),this.glyphOffsetArray=new qa,this.lineVertexArray=new Ga,this.symbolInstances=new Ua},su.prototype.calculateGlyphDependencies=function(e,t,r,n,a){for(var i=0;i<e.length;i++)if(t[e.charCodeAt(i)]=!0,(r||n)&&a){var o=Es[e.charAt(i)];o&&(t[o.charCodeAt(0)]=!0)}},su.prototype.populate=function(e,t){var r=this.layers[0],n=r.layout,a=n.get("text-font"),i=n.get("text-field"),o=n.get("icon-image"),s=("constant"!==i.value.kind||i.value.value instanceof lt&&!i.value.value.isEmpty()||i.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),l=("constant"!==o.value.kind||!!o.value.value)&&Object.keys(o.parameters).length>0,u=n.get("symbol-sort-key");if(this.features=[],s||l){for(var c=t.iconDependencies,p=t.glyphDependencies,h=t.availableImages,f=new Hn(this.zoom),d=0,y=e;d<y.length;d+=1){var v=y[d],m=v.feature,g=v.index,_=v.sourceLayerIndex;if(r._featureFilter(f,m)){var x=void 0;if(s){var b=r.getValueAndResolveTokens("text-field",m,h),w=lt.factory(b);w.containsRTLText()&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Gn()||this.hasRTLText&&Zn.isParsed())&&(x=Ms(w,r,m))}var M=void 0;if(l){var E=r.getValueAndResolveTokens("icon-image",m,h);M=E instanceof ut?E:ut.fromString(E)}if(x||M){var S=this.sortFeaturesByKey?u.evaluate(m,{}):void 0,T={text:x,icon:M,index:g,sourceLayerIndex:_,geometry:xi(m),properties:m.properties,type:tu[m.type],sortKey:S};if(void 0!==m.id&&(T.id=m.id),this.features.push(T),M&&(c[M.name]=!0),x){var C=a.evaluate(m,{}).join(","),I="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(rl.vertical)>=0;for(var A=0,k=x.sections;A<k.length;A+=1){var L=k[A];if(L.image)c[L.image.name]=!0;else{var D=et(x.toString()),P=L.fontStack||C,z=p[P]=p[P]||{};this.calculateGlyphDependencies(L.text,z,I,this.allowVerticalPlacement,D)}}}}}}"line"===n.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],a=0;function i(t){n.push(e[t]),a++}function o(e,t,a){var i=r[e];return delete r[e],r[t]=i,n[i].geometry[0].pop(),n[i].geometry[0]=n[i].geometry[0].concat(a[0]),i}function s(e,r,a){var i=t[r];return delete t[r],t[e]=i,n[i].geometry[0].shift(),n[i].geometry[0]=a[0].concat(n[i].geometry[0]),i}function l(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.text?c.text.toString():null;if(h){var f=l(h,p),d=l(h,p,!0);if(f in r&&d in t&&r[f]!==t[d]){var y=s(f,d,p),v=o(f,d,n[y].geometry);delete t[f],delete r[d],r[l(h,n[v].geometry,!0)]=v,n[y].geometry=null}else f in r?o(f,d,p):d in t?s(f,d,p):(i(u),t[f]=a-1,r[d]=a-1)}else i(u)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},su.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},su.prototype.isEmpty=function(){return 0===this.symbolInstances.length},su.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},su.prototype.upload=function(e){this.uploaded||(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e),this.textCollisionCircle.upload(e),this.iconCollisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},su.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},su.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),a=e.dist(t[e.segment]),i={},o=e.segment+1;o<t.length;o++)i[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:n},o<t.length-1&&(n+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)i[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:a},s>0&&(a+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=i[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},su.prototype.addSymbols=function(e,t,r,n,a,i,o,s,l,u,c){var p=this,h=e.indexArray,f=e.layoutVertexArray,d=e.dynamicLayoutVertexArray,y=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray,i.sortKey),v=this.glyphOffsetArray.length,m=y.vertexLength,g=this.allowVerticalPlacement&&o===rl.vertical?Math.PI/2:0,_=function(e){var t=e.tl,n=e.tr,a=e.bl,i=e.br,o=e.tex,l=e.pixelOffsetTL,u=e.pixelOffsetBR,c=e.minFontScaleX,v=e.minFontScaleY,m=y.vertexLength,_=e.glyphOffset[1];nu(f,s.x,s.y,t.x,_+t.y,o.x,o.y,r,e.isSDF,l.x,l.y,c,v),nu(f,s.x,s.y,n.x,_+n.y,o.x+o.w,o.y,r,e.isSDF,u.x,l.y,c,v),nu(f,s.x,s.y,a.x,_+a.y,o.x,o.y+o.h,r,e.isSDF,l.x,u.y,c,v),nu(f,s.x,s.y,i.x,_+i.y,o.x+o.w,o.y+o.h,r,e.isSDF,u.x,u.y,c,v),au(d,s,g),h.emplaceBack(m,m+1,m+2),h.emplaceBack(m+1,m+2,m+3),y.vertexLength+=4,y.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(e.glyphOffset[0])};if(i.text&&i.text.sections){var x=i.text.sections;if(this.hasPaintOverrides){for(var b,w=function(t,r){void 0===b||b===t&&!r||e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{},x[b]),b=t},M=0,E=t;M<E.length;M+=1){var S=E[M];w(S.sectionIndex,!1),_(S)}w(b,!0)}else{for(var T=0,C=t;T<C.length;T+=1)_(C[T]);e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{},x[0])}}else{for(var I=0,A=t;I<A.length;I+=1)_(A[I]);e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{})}e.placedSymbolArray.emplaceBack(s.x,s.y,v,this.glyphOffsetArray.length-v,m,l,u,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],o,0,!1,0,c)},su.prototype._addCollisionDebugVertex=function(e,t,r,n,a,i){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,a,Math.round(i.x),Math.round(i.y))},su.prototype.addCollisionDebugVertices=function(e,t,r,n,i,o,s,l){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),c=u.vertexLength,p=i.layoutVertexArray,h=i.collisionVertexArray,f=s.anchorX,d=s.anchorY;if(this._addCollisionDebugVertex(p,h,o,f,d,new a(e,t)),this._addCollisionDebugVertex(p,h,o,f,d,new a(r,t)),this._addCollisionDebugVertex(p,h,o,f,d,new a(r,n)),this._addCollisionDebugVertex(p,h,o,f,d,new a(e,n)),u.vertexLength+=4,l){var y=i.indexArray;y.emplaceBack(c,c+1,c+2),y.emplaceBack(c,c+2,c+3),u.primitiveLength+=2}else{var v=i.indexArray;v.emplaceBack(c,c+1),v.emplaceBack(c+1,c+2),v.emplaceBack(c+2,c+3),v.emplaceBack(c+3,c),u.primitiveLength+=4}},su.prototype.addDebugCollisionBoxes=function(e,t,r,n){for(var a=e;a<t;a++){var i=this.collisionBoxArray.get(a),o=i.x1,s=i.y1,l=i.x2,u=i.y2,c=i.radius>0;this.addCollisionDebugVertices(o,s,l,u,c?n?this.textCollisionCircle:this.iconCollisionCircle:n?this.textCollisionBox:this.iconCollisionBox,i.anchorPoint,r,c)}},su.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},su.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,a,i,o,s,l){for(var u={},c=t;c<r;c++){var p=e.get(c);if(0===p.radius){u.textBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},u.textFeatureIndex=p.featureIndex;break}u.textCircles||(u.textCircles=[],u.textFeatureIndex=p.featureIndex),u.textCircles.push(p.anchorPointX,p.anchorPointY,p.radius,p.signedDistanceFromAnchor,1)}for(var h=n;h<a;h++){var f=e.get(h);if(0===f.radius){u.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},u.verticalTextFeatureIndex=f.featureIndex;break}}for(var d=i;d<o;d++){var y=e.get(d);if(0===y.radius){u.iconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},u.iconFeatureIndex=y.featureIndex;break}}for(var v=s;v<l;v++){var m=e.get(v);if(0===m.radius){u.verticalIconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.verticalIconFeatureIndex=m.featureIndex;break}}return u},su.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},su.prototype.hasTextData=function(){return this.text.segments.get().length>0},su.prototype.hasIconData=function(){return this.icon.segments.get().length>0},su.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},su.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},su.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},su.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},su.prototype.addIndicesForPlacedSymbol=function(e,t){for(var r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs,a=r.vertexStartIndex;a<n;a+=4)e.indexArray.emplaceBack(a,a+1,a+2),e.indexArray.emplaceBack(a+1,a+2,a+3)},su.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),n=[],a=[],i=[],o=0;o<this.symbolInstances.length;++o){i.push(o);var s=this.symbolInstances.get(o);n.push(0|Math.round(t*s.anchorX+r*s.anchorY)),a.push(s.featureIndex)}return i.sort((function(e,t){return n[e]-n[t]||a[t]-a[e]})),i},su.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r<n.length;r+=1){var a=n[r],i=this.symbolInstances.get(a);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},An("SymbolBucket",su,{omit:["layers","collisionBoxArray","features","compareText"]}),su.MAX_GLYPHS=65535,su.addDynamicAttributes=au;var lu=new la({"symbol-placement":new na(Ie.layout_symbol["symbol-placement"]),"symbol-spacing":new na(Ie.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new na(Ie.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new aa(Ie.layout_symbol["symbol-sort-key"]),"symbol-z-order":new na(Ie.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new na(Ie.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new na(Ie.layout_symbol["icon-ignore-placement"]),"icon-optional":new na(Ie.layout_symbol["icon-optional"]),"icon-rotation-alignment":new na(Ie.layout_symbol["icon-rotation-alignment"]),"icon-size":new aa(Ie.layout_symbol["icon-size"]),"icon-text-fit":new na(Ie.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new na(Ie.layout_symbol["icon-text-fit-padding"]),"icon-image":new aa(Ie.layout_symbol["icon-image"]),"icon-rotate":new aa(Ie.layout_symbol["icon-rotate"]),"icon-padding":new na(Ie.layout_symbol["icon-padding"]),"icon-keep-upright":new na(Ie.layout_symbol["icon-keep-upright"]),"icon-offset":new aa(Ie.layout_symbol["icon-offset"]),"icon-anchor":new aa(Ie.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new na(Ie.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new na(Ie.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new na(Ie.layout_symbol["text-rotation-alignment"]),"text-field":new aa(Ie.layout_symbol["text-field"]),"text-font":new aa(Ie.layout_symbol["text-font"]),"text-size":new aa(Ie.layout_symbol["text-size"]),"text-max-width":new aa(Ie.layout_symbol["text-max-width"]),"text-line-height":new na(Ie.layout_symbol["text-line-height"]),"text-letter-spacing":new aa(Ie.layout_symbol["text-letter-spacing"]),"text-justify":new aa(Ie.layout_symbol["text-justify"]),"text-radial-offset":new aa(Ie.layout_symbol["text-radial-offset"]),"text-variable-anchor":new na(Ie.layout_symbol["text-variable-anchor"]),"text-anchor":new aa(Ie.layout_symbol["text-anchor"]),"text-max-angle":new na(Ie.layout_symbol["text-max-angle"]),"text-writing-mode":new na(Ie.layout_symbol["text-writing-mode"]),"text-rotate":new aa(Ie.layout_symbol["text-rotate"]),"text-padding":new na(Ie.layout_symbol["text-padding"]),"text-keep-upright":new na(Ie.layout_symbol["text-keep-upright"]),"text-transform":new aa(Ie.layout_symbol["text-transform"]),"text-offset":new aa(Ie.layout_symbol["text-offset"]),"text-allow-overlap":new na(Ie.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new na(Ie.layout_symbol["text-ignore-placement"]),"text-optional":new na(Ie.layout_symbol["text-optional"])}),uu={paint:new la({"icon-opacity":new aa(Ie.paint_symbol["icon-opacity"]),"icon-color":new aa(Ie.paint_symbol["icon-color"]),"icon-halo-color":new aa(Ie.paint_symbol["icon-halo-color"]),"icon-halo-width":new aa(Ie.paint_symbol["icon-halo-width"]),"icon-halo-blur":new aa(Ie.paint_symbol["icon-halo-blur"]),"icon-translate":new na(Ie.paint_symbol["icon-translate"]),"icon-translate-anchor":new na(Ie.paint_symbol["icon-translate-anchor"]),"text-opacity":new aa(Ie.paint_symbol["text-opacity"]),"text-color":new aa(Ie.paint_symbol["text-color"],{runtimeType:Be,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new aa(Ie.paint_symbol["text-halo-color"]),"text-halo-width":new aa(Ie.paint_symbol["text-halo-width"]),"text-halo-blur":new aa(Ie.paint_symbol["text-halo-blur"]),"text-translate":new na(Ie.paint_symbol["text-translate"]),"text-translate-anchor":new na(Ie.paint_symbol["text-translate-anchor"])}),layout:lu},cu=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Ne,this.defaultValue=e};cu.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},cu.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},cu.prototype.possibleOutputs=function(){return[void 0]},cu.prototype.serialize=function(){return null},An("FormatSectionOverride",cu,{omit:["defaultValue"]});var pu=function(e){function t(t){e.call(this,t,uu)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t,r){if(e.prototype.recalculate.call(this,t,r),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var n=this.layout.get("text-writing-mode");if(n){for(var a=[],i=0,o=n;i<o.length;i+=1){var s=o[i];a.indexOf(s)<0&&a.push(s)}this.layout._values["text-writing-mode"]=a}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,r){var n=this.layout.get(e).evaluate(t,{},r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||jr(a.value)||!n?n:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,r){return r in e?String(e[r]):""}))}(t.properties,n)},t.prototype.createBucket=function(e){return new su(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,r=uu.paint.overridableProperties;e<r.length;e+=1){var n=r[e];if(t.hasPaintOverride(this.layout,n)){var a,i=this.paint.get(n),o=new cu(i),s=new Nr(o,i.property.specification);a="constant"===i.value.kind||"source"===i.value.kind?new Fr("source",s):new Br("composite",s,i.value.zoomStops,i.value._interpolationType),this.paint._values[n]=new ta(i.property,a,i.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var r=e.get("text-field"),n=uu.paint.properties[t],a=!1,i=function(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(n.overrides&&n.overrides.hasOverride(i))return void(a=!0)}};if("constant"===r.value.kind&&r.value.value instanceof lt)i(r.value.value.sections);else if("source"===r.value.kind){var o=function(e){if(!a)if(e instanceof ft&&pt(e.value)===We){var t=e.value;i(t.sections)}else e instanceof mt?i(e.sections):e.eachChild(o)},s=r.value;s._styleExpression&&o(s._styleExpression.expression)}return a},t.hasPaintOverrides=function(e){for(var r=0,n=uu.paint.overridableProperties;r<n.length;r+=1){var a=n[r];if(t.hasPaintOverride(e,a))return!0}return!1},t}(ua),hu={paint:new la({"background-color":new na(Ie.paint_background["background-color"]),"background-pattern":new oa(Ie.paint_background["background-pattern"]),"background-opacity":new na(Ie.paint_background["background-opacity"])})},fu=function(e){function t(t){e.call(this,t,hu)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ua),du={paint:new la({"raster-opacity":new na(Ie.paint_raster["raster-opacity"]),"raster-hue-rotate":new na(Ie.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new na(Ie.paint_raster["raster-brightness-min"]),"raster-brightness-max":new na(Ie.paint_raster["raster-brightness-max"]),"raster-saturation":new na(Ie.paint_raster["raster-saturation"]),"raster-contrast":new na(Ie.paint_raster["raster-contrast"]),"raster-resampling":new na(Ie.paint_raster["raster-resampling"]),"raster-fade-duration":new na(Ie.paint_raster["raster-fade-duration"])})},yu=function(e){function t(t){e.call(this,t,du)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ua),vu=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(ua),mu={circle:Vi,heatmap:Ji,hillshade:eo,fill:Uo,"fill-extrusion":is,line:vs,symbol:pu,background:fu,raster:yu},gu=self.HTMLImageElement,_u=self.HTMLCanvasElement,xu=self.HTMLVideoElement,bu=self.ImageData,wu=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};wu.prototype.update=function(e,t,r){var n=e.width,a=e.height,i=!(this.size&&this.size[0]===n&&this.size[1]===a||r),o=this.context,s=o.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),i)this.size=[n,a],e instanceof gu||e instanceof _u||e instanceof xu||e instanceof bu?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,n,a,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=r||{x:0,y:0},u=l.x,c=l.y;e instanceof gu||e instanceof _u||e instanceof xu||e instanceof bu?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,u,c,n,a,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},wu.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},wu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},wu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Mu=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Mu.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Mu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Eu=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},v(["receive","process"],this),this.invoker=new Mu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=S()?e:self};function Su(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}Eu.prototype.send=function(e,t,r,n,a){var i=this;void 0===a&&(a=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[o]=r);var s=I(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!r,targetMapId:n,mustQueue:a,sourceMapId:this.mapId,data:Dn(t,s)},s),{cancel:function(){r&&delete i.callbacks[o],i.target.postMessage({id:o,type:"<cancel>",targetMapId:n,sourceMapId:i.mapId})}}},Eu.prototype.receive=function(e){var t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&&n()}else S()||t.mustQueue?(this.tasks[r]=t,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,t)},Eu.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Eu.prototype.processTask=function(e,t){var r=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Pn(t.error)):n(null,Pn(t.data)))}else{var a=!1,i=I(this.globalScope)?void 0:[],o=t.hasCallback?function(t,n){a=!0,delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:t?Dn(t):null,data:Dn(n,i)},i)}:function(e){a=!0},s=null,l=Pn(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,l,o);else if(this.parent.getWorkerSource){var u=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,u[0],l.source)[u[1]](l,o)}else o(new Error("Could not find function "+t.type));!a&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Eu.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Tu=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Tu.prototype.setNorthEast=function(e){return this._ne=e instanceof Cu?new Cu(e.lng,e.lat):Cu.convert(e),this},Tu.prototype.setSouthWest=function(e){return this._sw=e instanceof Cu?new Cu(e.lng,e.lat):Cu.convert(e),this},Tu.prototype.extend=function(e){var t,r,n=this._sw,a=this._ne;if(e instanceof Cu)t=e,r=e;else{if(!(e instanceof Tu))return Array.isArray(e)?e.every(Array.isArray)?this.extend(Tu.convert(e)):this.extend(Cu.convert(e)):this;if(t=e._sw,r=e._ne,!t||!r)return this}return n||a?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new Cu(t.lng,t.lat),this._ne=new Cu(r.lng,r.lat)),this},Tu.prototype.getCenter=function(){return new Cu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Tu.prototype.getSouthWest=function(){return this._sw},Tu.prototype.getNorthEast=function(){return this._ne},Tu.prototype.getNorthWest=function(){return new Cu(this.getWest(),this.getNorth())},Tu.prototype.getSouthEast=function(){return new Cu(this.getEast(),this.getSouth())},Tu.prototype.getWest=function(){return this._sw.lng},Tu.prototype.getSouth=function(){return this._sw.lat},Tu.prototype.getEast=function(){return this._ne.lng},Tu.prototype.getNorth=function(){return this._ne.lat},Tu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Tu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Tu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Tu.prototype.contains=function(e){var t=Cu.convert(e),r=t.lng,n=t.lat,a=this._sw.lat<=n&&n<=this._ne.lat,i=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=r&&r>=this._ne.lng),a&&i},Tu.convert=function(e){return!e||e instanceof Tu?e:new Tu(e)};var Cu=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Cu.prototype.wrap=function(){return new Cu(c(this.lng,-180,180),this.lat)},Cu.prototype.toArray=function(){return[this.lng,this.lat]},Cu.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Cu.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new Tu(new Cu(this.lng-r,this.lat-t),new Cu(this.lng+r,this.lat+t))},Cu.convert=function(e){if(e instanceof Cu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Cu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Cu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Iu=2*Math.PI*6378137;function Au(e){return Iu*Math.cos(e*Math.PI/180)}function ku(e){return(180+e)/360}function Lu(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Du(e,t){return e/Au(t)}function Pu(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}var zu=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};zu.fromLngLat=function(e,t){void 0===t&&(t=0);var r=Cu.convert(e);return new zu(ku(r.lng),Lu(r.lat),Du(t,r.lat))},zu.prototype.toLngLat=function(){return new Cu(360*this.x-180,Pu(this.y))},zu.prototype.toAltitude=function(){return this.z*Au(Pu(this.y))},zu.prototype.meterInMercatorCoordinateUnits=function(){return 1/Iu*(e=Pu(this.y),1/Math.cos(e*Math.PI/180));var e};var Ou=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Ru(0,e,t,r)};Ou.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Ou.prototype.url=function(e,t){var r,n,a,i,o,s=(r=this.x,n=this.y,a=this.z,i=Su(256*r,256*(n=Math.pow(2,a)-n-1),a),o=Su(256*(r+1),256*(n+1),a),i[0]+","+i[1]+","+o[0]+","+o[1]),l=function(e,t,r){for(var n,a="",i=e;i>0;i--)a+=(t&(n=1<<i-1)?1:0)+(r&n?2:0);return a}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},Ou.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new a((e.x*t-this.x)*gi,(e.y*t-this.y)*gi)},Ou.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Nu=function(e,t){this.wrap=e,this.canonical=t,this.key=Ru(e,t.z,t.x,t.y)},ju=function(e,t,r,n,a){this.overscaledZ=e,this.wrap=t,this.canonical=new Ou(r,+n,+a),this.key=Ru(t,e,n,a)};function Ru(e,t,r,n){(e*=2)<0&&(e=-1*e-1);var a=1<<t;return 32*(a*a*e+a*n+r)+t}ju.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},ju.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new ju(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ju(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},ju.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},ju.prototype.children=function(e){if(this.overscaledZ>=e)return[new ju(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new ju(t,this.wrap,t,r,n),new ju(t,this.wrap,t,r+1,n),new ju(t,this.wrap,t,r,n+1),new ju(t,this.wrap,t,r+1,n+1)]},ju.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},ju.prototype.wrapped=function(){return new ju(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ju.prototype.unwrapTo=function(e){return new ju(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},ju.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ju.prototype.toUnwrapped=function(){return new Nu(this.wrap,this.canonical)},ju.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ju.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new zu(e.x-this.wrap,e.y))},An("CanonicalTileID",Ou),An("OverscaledTileID",ju,{omit:["posMatrix"]});var Fu=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return w('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var n=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=r||"mapbox";for(var a=0;a<n;a++)this.data[this._idx(-1,a)]=this.data[this._idx(0,a)],this.data[this._idx(n,a)]=this.data[this._idx(n-1,a)],this.data[this._idx(a,-1)]=this.data[this._idx(a,0)],this.data[this._idx(a,n)]=this.data[this._idx(a,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};Fu.prototype.get=function(e,t){var r=new Uint8Array(this.data.buffer),n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},Fu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Fu.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Fu.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},Fu.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},Fu.prototype.getPixels=function(){return new Qi({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Fu.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,a=t*this.dim+this.dim,i=r*this.dim,o=r*this.dim+this.dim;switch(t){case-1:n=a-1;break;case 1:a=n+1}switch(r){case-1:i=o-1;break;case 1:o=i+1}for(var s=-t*this.dim,l=-r*this.dim,u=i;u<o;u++)for(var c=n;c<a;c++)this.data[this._idx(c,u)]=e.data[this._idx(c+s,u+l)]},An("DEMData",Fu);var Bu=fa([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Uu=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Uu.prototype.encode=function(e){return this._stringToNumber[e]},Uu.prototype.decode=function(e){return this._numberToString[e]};var Vu=function(e,t,r,n){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,null!=e.id&&(this.id=e.id)},qu={geometry:{configurable:!0}};qu.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},qu.geometry.set=function(e){this._geometry=e},Vu.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Vu.prototype,qu);var Wu=function(){this.state={},this.stateChanges={},this.deletedStates={}};Wu.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},p(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var a in this.deletedStates[e]={},this.state[e])a!==n&&(this.deletedStates[e][a]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var i in this.deletedStates[e][n]={},this.state[e][n])r[i]||(this.deletedStates[e][n][i]=null);else for(var o in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][o]&&delete this.deletedStates[e][n][o]},Wu.prototype.removeFeatureState=function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t&&t>=0)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t&&t>=0)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}},Wu.prototype.getState=function(e,t){var r=String(t),n=this.state[e]||{},a=this.stateChanges[e]||{},i=p({},n[r],a[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var o=this.deletedStates[e][t];if(null===o)return{};for(var s in o)delete i[s]}return i},Wu.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Wu.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var a={};for(var i in this.stateChanges[n])this.state[n][i]||(this.state[n][i]={}),p(this.state[n][i],this.stateChanges[n][i]),a[i]=this.state[n][i];r[n]=a}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var u in this.deletedStates[o]){if(null===this.deletedStates[o][u])this.state[o][u]={};else for(var c=0,h=Object.keys(this.deletedStates[o][u]);c<h.length;c+=1){var f=h[c];delete this.state[o][u][f]}s[u]=this.state[o][u]}r[o]=r[o]||{},p(r[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var d in e)e[d].setFeatureState(r,t)};var Gu=function(e,t,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new En(gi,16,0),this.grid3D=new En(gi,16,0),this.featureIndexArray=r||new Za};function Yu(e){for(var t=1/0,r=1/0,n=-1/0,a=-1/0,i=0,o=e;i<o.length;i+=1){var s=o[i];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),a=Math.max(a,s.y)}return{minX:t,minY:r,maxX:n,maxY:a}}function Zu(e,t){return t-e}Gu.prototype.insert=function(e,t,r,n,a,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,a);for(var s=i?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var h=u[p];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<gi&&c[1]<gi&&c[2]>=0&&c[3]>=0&&s.insert(o,c[0],c[1],c[2],c[3])}},Gu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ko.VectorTile(new Is(this.rawTileData)).layers,this.sourceLayerCoder=new Uu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Gu.prototype.query=function(e,t,r){var n=this;this.loadVTLayers();for(var i=e.params||{},o=gi/e.tileSize/e.scale,s=Kr(i.filter),l=e.queryGeometry,u=e.queryPadding*o,c=Yu(l),p=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),h=Yu(e.cameraQueryGeometry),f=0,d=this.grid3D.query(h.minX-u,h.minY-u,h.maxX+u,h.maxY+u,(function(t,r,n,i){return function(e,t,r,n,i){for(var o=0,s=e;o<s.length;o+=1){var l=s[o];if(t<=l.x&&r<=l.y&&n>=l.x&&i>=l.y)return!0}var u=[new a(t,r),new a(t,i),new a(n,i),new a(n,r)];if(e.length>2)for(var c=0,p=u;c<p.length;c+=1)if(Di(e,p[c]))return!0;for(var h=0;h<e.length-1;h++)if(Pi(e[h],e[h+1],u))return!0;return!1}(e.cameraQueryGeometry,t-u,r-u,n+u,i+u)}));f<d.length;f+=1){var y=d[f];p.push(y)}p.sort(Zu);for(var v,m={},g=function(a){var u=p[a];if(u!==v){v=u;var c=n.featureIndexArray.get(u),h=null;n.loadMatchingFeature(m,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,s,i.layers,t,(function(t,a){h||(h=xi(t));var i={};return t.id&&(i=r.getState(a.sourceLayer||"_geojsonTileLayer",t.id)),a.queryIntersectsFeature(l,t,i,h,n.z,e.transform,o,e.pixelPosMatrix)}))}},_=0;_<p.length;_++)g(_);return m},Gu.prototype.loadMatchingFeature=function(e,t,r,n,a,i,o,s){var l=this.bucketLayerIDs[t];if(!i||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(i,l)){var u=this.sourceLayerCoder.decode(r),c=this.vtLayers[u].feature(n);if(a(new Hn(this.tileID.overscaledZ),c))for(var p=0;p<l.length;p++){var h=l[p];if(!(i&&i.indexOf(h)<0)){var f=o[h];if(f){var d=!s||s(c,f);if(d){var y=new Vu(c,this.z,this.x,this.y);y.layer=f.serialize();var v=e[h];void 0===v&&(v=e[h]=[]),v.push({featureIndex:n,feature:y,intersectionZ:d})}}}}}},Gu.prototype.lookupSymbolFeatures=function(e,t,r,n,a,i){var o={};this.loadVTLayers();for(var s=Kr(n),l=0,u=e;l<u.length;l+=1){var c=u[l];this.loadMatchingFeature(o,t,r,c,s,a,i)}return o},Gu.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,a=r[t];n<a.length;n+=1)if(e===a[n])return!0;return!1},An("FeatureIndex",Gu,{omit:["rawTileData","sourceLayerCoder"]});var Hu=function(e,t){this.tileID=e,this.uid=f(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Hu.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<j.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Hu.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Hu.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=i[a],n=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return n.filter((function(t){return t.id===e}))[0]})));for(var o=0,s=n;o<s.length;o+=1){var l=s[o];r[l.id]=e}}},a=0,i=e;a<i.length;a+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var a=this.buckets[n];if(a instanceof su){if(this.hasSymbolBuckets=!0,!r)break;a.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var i in this.buckets){var o=this.buckets[i];if(o instanceof su&&o.hasRTLText){this.hasRTLText=!0;break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new ja},Hu.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Hu.prototype.getBucket=function(e){return this.buckets[e.id]},Hu.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new wu(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new wu(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},Hu.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Hu.prototype.queryRenderedFeatures=function(e,t,r,n,a,i,o,s,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:n,scale:a,tileSize:this.tileSize,pixelPosMatrix:l,transform:o,params:i,queryPadding:this.queryPadding*s},e,t):{}},Hu.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),n=t?t.sourceLayer:"",a=r._geojsonTileLayer||r[n];if(a)for(var i=Kr(t&&t.filter),o=this.tileID.canonical,s=o.z,l=o.x,u=o.y,c={z:s,x:l,y:u},p=0;p<a.length;p++){var h=a.feature(p);if(i(new Hn(this.tileID.overscaledZ),h)){var f=new Vu(h,s,l,u);f.tile=c,e.push(f)}}}},Hu.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer),delete this.mask},Hu.prototype.setMask=function(e,t){if(!o(this.mask,e)&&(this.clearMask(),this.mask=e,!o(e,{0:!0}))){var r=new va,n=new La;this.segments=new Qa,this.segments.prepareSegment(0,r,n);for(var i=Object.keys(e),s=0;s<i.length;s++){var l=e[+i[s]],u=gi>>l.z,c=new a(l.x*u,l.y*u),p=new a(c.x+u,c.y+u),h=this.segments.prepareSegment(4,r,n);r.emplaceBack(c.x,c.y,c.x,c.y),r.emplaceBack(p.x,c.y,p.x,c.y),r.emplaceBack(c.x,p.y,c.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var f=h.vertexLength;n.emplaceBack(f,f+1,f+2),n.emplaceBack(f+1,f+2,f+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(r,Bu.members),this.maskedIndexBuffer=t.createIndexBuffer(n)}},Hu.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Hu.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Hu.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=T(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),a=!1;if(this.expirationTime>n)a=!1;else if(t)if(this.expirationTime<t)a=!0;else{var i=this.expirationTime-t;i?this.expirationTime=n+Math.max(i,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Hu.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Hu.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets){var a=this.buckets[n],i=a.layers[0].sourceLayer||"_geojsonTileLayer",o=r[i],s=e[i];o&&s&&0!==Object.keys(s).length&&(a.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(n).queryRadius(a))))}}},Hu.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Hu.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<j.now()},Hu.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Hu.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=j.now()+e},Hu.prototype.setDependencies=function(e,t){for(var r={},n=0,a=t;n<a.length;n+=1)r[a[n]]=!0;this.dependencies[e]=r},Hu.prototype.hasDependency=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var a=n[r],i=this.dependencies[a];if(i)for(var o=0,s=t;o<s.length;o+=1)if(i[s[o]])return!0}return!1},e.Actor=Eu,e.AlphaImage=Hi,e.CanonicalTileID=Ou,e.CollisionBoxArray=ja,e.Color=Ke,e.DEMData=Fu,e.DataConstantProperty=na,e.DictionaryCoder=Uu,e.EXTENT=gi,e.ErrorEvent=Te,e.EvaluationParameters=Hn,e.Event=Se,e.Evented=Ce,e.FeatureIndex=Gu,e.FillBucket=Ro,e.FillExtrusionBucket=ts,e.ImageAtlas=tl,e.ImagePosition=$s,e.LineBucket=hs,e.LngLat=Cu,e.LngLatBounds=Tu,e.MercatorCoordinate=zu,e.ONE_EM=Ss,e.OverscaledTileID=ju,e.Point=a,e.Point$1=a,e.ProgramConfiguration=di,e.Properties=la,e.Protobuf=Is,e.RGBAImage=Qi,e.RequestManager=W,e.ResourceType=fe,e.SegmentVector=Qa,e.SourceFeatureState=Wu,e.StructArrayLayout1ui2=Pa,e.StructArrayLayout2i4=ya,e.StructArrayLayout2ui4=Da,e.StructArrayLayout3ui6=La,e.StructArrayLayout4i8=va,e.SymbolBucket=su,e.Texture=wu,e.Tile=Hu,e.Transitionable=Kn,e.Uniform1f=ti,e.Uniform1i=ei,e.Uniform2f=ri,e.Uniform3f=ni,e.Uniform4f=ai,e.UniformColor=ii,e.UniformMatrix4f=si,e.UnwrappedTileID=Nu,e.ValidationError=Ae,e.WritingMode=rl,e.ZoomHistory=zn,e.addDynamicAttributes=au,e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,a=new Array(e.length),i=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(i=e),a[o]=t,0==--n&&r(i,a)}))}))},e.bezier=s,e.bindAll=v,e.browser=j,e.cacheEntryPossiblyAdded=function(e){++he>le&&(e.getActor().send("enforceCacheSizeLimit",se),he=0)},e.clamp=u,e.clearTileCache=function(e){var t=self.caches.delete(oe);e&&t.catch(e).then((function(){return e()}))},e.clone=function(e){var t=new Bi(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=x,e.config=R,e.create=function(){var e=new Bi(16);return Bi!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new Bi(9);return Bi!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new Bi(4);return Bi!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Rr,e.createLayout=fa,e.createStyleLayer=function(e){return"custom"===e.type?new vu(e):new mu[e.type](e)},e.deepEqual=o,e.downloadRTLTextPlugin=Yn,e.ease=l,e.emitValidationErrors=Mn,e.endsWith=m,e.enforceCacheSizeLimit=function(e){ce(),$&&$.then((function(t){t.keys().then((function(r){for(var n=0;n<r.length-e;n++)t.delete(r[n])}))}))},e.evaluateSizeForFeature=xl,e.evaluateSizeForZoom=bl,e.evaluateVariableOffset=Hl,e.evented=Wn,e.extend=p,e.featureFilter=Kr,e.filterObject=_,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=dl,e.getAnchorJustification=Ql,e.getArrayBuffer=xe,e.getImage=we,e.getJSON=function(e,t){return _e(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=Gn,e.getReferrer=ye,e.getVideo=function(e,t){var r,n,a=self.document.createElement("video");a.muted=!0,a.onloadstart=function(){t(null,a)};for(var i=0;i<e.length;i++){var o=self.document.createElement("source");r=e[i],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(a.crossOrigin="Anonymous"),o.src=e[i],a.appendChild(o)}return{cancel:function(){}}},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.invert=function(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],p=t[9],h=t[10],f=t[11],d=t[12],y=t[13],v=t[14],m=t[15],g=r*s-n*o,_=r*l-a*o,x=r*u-i*o,b=n*l-a*s,w=n*u-i*s,M=a*u-i*l,E=c*y-p*d,S=c*v-h*d,T=c*m-f*d,C=p*v-h*y,I=p*m-f*y,A=h*m-f*v,k=g*A-_*I+x*C+b*T-w*S+M*E;return k?(k=1/k,e[0]=(s*A-l*I+u*C)*k,e[1]=(a*I-n*A-i*C)*k,e[2]=(y*M-v*w+m*b)*k,e[3]=(h*w-p*M-f*b)*k,e[4]=(l*T-o*A-u*S)*k,e[5]=(r*A-a*T+i*S)*k,e[6]=(v*x-d*M-m*_)*k,e[7]=(c*M-h*x+f*_)*k,e[8]=(o*I-s*T+u*E)*k,e[9]=(n*T-r*I-i*E)*k,e[10]=(d*w-y*x+m*g)*k,e[11]=(p*x-c*w-f*g)*k,e[12]=(s*S-o*C-l*E)*k,e[13]=(r*C-n*S+a*E)*k,e[14]=(y*_-d*b-v*g)*k,e[15]=(c*b-p*_+h*g)*k,e):null},e.isChar=$e,e.isMapboxURL=G,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.makeRequest=_e,e.mapObject=g,e.mercatorXfromLng=ku,e.mercatorYfromLat=Lu,e.mercatorZfromAltitude=Du,e.multiply=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],y=t[12],v=t[13],m=t[14],g=t[15],_=r[0],x=r[1],b=r[2],w=r[3];return e[0]=_*n+x*s+b*p+w*y,e[1]=_*a+x*l+b*h+w*v,e[2]=_*i+x*u+b*f+w*m,e[3]=_*o+x*c+b*d+w*g,_=r[4],x=r[5],b=r[6],w=r[7],e[4]=_*n+x*s+b*p+w*y,e[5]=_*a+x*l+b*h+w*v,e[6]=_*i+x*u+b*f+w*m,e[7]=_*o+x*c+b*d+w*g,_=r[8],x=r[9],b=r[10],w=r[11],e[8]=_*n+x*s+b*p+w*y,e[9]=_*a+x*l+b*h+w*v,e[10]=_*i+x*u+b*f+w*m,e[11]=_*o+x*c+b*d+w*g,_=r[12],x=r[13],b=r[14],w=r[15],e[12]=_*n+x*s+b*p+w*y,e[13]=_*a+x*l+b*h+w*v,e[14]=_*i+x*u+b*f+w*m,e[15]=_*o+x*c+b*d+w*g,e},e.mvt=Ko,e.number=Dt,e.ortho=function(e,t,r,n,a,i,o){var s=1/(t-r),l=1/(n-a),u=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*l,e[14]=(o+i)*u,e[15]=1,e},e.parseGlyphPBF=function(e){return new Is(e).readFields(Zs,[])},e.pbf=Is,e.performSymbolLayout=function(e,t,r,n,i,o){e.createArrays();var s=512*e.overscaling;e.tilePixelRatio=gi/s,e.compareText={},e.iconsNeedLinear=!1;var l=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,h=p.minZoom,f=p.maxZoom;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new Hn(h)),u["text-size"].possiblyEvaluate(new Hn(f))]}if("composite"===e.iconSizeData.kind){var d=e.iconSizeData,y=d.minZoom,v=d.maxZoom;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new Hn(y)),u["icon-size"].possiblyEvaluate(new Hn(v))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new Hn(e.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new Hn(e.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new Hn(18));for(var m=l.get("text-line-height")*Ss,g="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),_=l.get("text-keep-upright"),x=l.get("text-size"),b=function(){var o=E[M],s=l.get("text-font").evaluate(o,{}).join(","),u=x.evaluate(o,{}),p=c.layoutTextSize.evaluate(o,{}),h=c.layoutIconSize.evaluate(o,{}),f={horizontal:{},vertical:void 0},d=o.text,y=[0,0];if(d){var v=d.toString(),b=l.get("text-letter-spacing").evaluate(o,{})*Ss,S=function(e){for(var t=0,r=e;t<r.length;t+=1)if(!tt(r[t].charCodeAt(0)))return!1;return!0}(v)?b:0,T=l.get("text-anchor").evaluate(o,{}),C=l.get("text-variable-anchor");if(!C){var I=l.get("text-radial-offset").evaluate(o,{});y=I?Hl(T,[I*Ss,Zl]):l.get("text-offset").evaluate(o,{}).map((function(e){return e*Ss}))}var A=g?"center":l.get("text-justify").evaluate(o,{}),k=l.get("symbol-placement"),L="point"===k?l.get("text-max-width").evaluate(o,{})*Ss:0,D=function(){e.allowVerticalPlacement&&et(v)&&(f.vertical=ol(d,t,r,i,s,L,m,T,"left",S,y,rl.vertical,!0,k,p,u))};if(!g&&C){for(var P="auto"===A?C.map((function(e){return Ql(e)})):[A],z=!1,O=0;O<P.length;O++){var N=P[O];if(!f.horizontal[N])if(z)f.horizontal[N]=f.horizontal[0];else{var j=ol(d,t,r,i,s,L,m,"center",N,S,y,rl.horizontal,!1,k,p,u);j&&(f.horizontal[N]=j,z=1===j.positionedLines.length)}}D()}else{"auto"===A&&(A=Ql(T));var R=ol(d,t,r,i,s,L,m,T,A,S,y,rl.horizontal,!1,k,p,u);R&&(f.horizontal[A]=R),D(),et(v)&&g&&_&&(f.vertical=ol(d,t,r,i,s,L,m,T,A,S,y,rl.vertical,!1,k,p,u))}}var F=void 0,B=!1;if(o.icon&&o.icon.name){var U=n[o.icon.name];U&&(F=function(e,t,r){var n=dl(r),a=n.horizontalAlign,i=n.verticalAlign,o=t[0],s=t[1],l=o-e.displaySize[0]*a,u=l+e.displaySize[0],c=s-e.displaySize[1]*i;return{image:e,top:c,bottom:c+e.displaySize[1],left:l,right:u}}(i[o.icon.name],l.get("icon-offset").evaluate(o,{}),l.get("icon-anchor").evaluate(o,{})),B=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),U.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}var V=$l(f.horizontal)||f.vertical;e.iconsInText=!!V&&V.iconsInText,(V||F)&&function(e,t,r,n,i,o,s,l,u,c){var p=o.textMaxSize.evaluate(t,{});void 0===p&&(p=s);var h,f=e.layers[0].layout,d=f.get("icon-offset").evaluate(t,{}),y=$l(r.horizontal),v=s/24,m=e.tilePixelRatio*v,g=e.tilePixelRatio*p/24,_=e.tilePixelRatio*l,x=e.tilePixelRatio*f.get("symbol-spacing"),b=f.get("text-padding")*e.tilePixelRatio,M=f.get("icon-padding")*e.tilePixelRatio,E=f.get("text-max-angle")/180*Math.PI,S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),T="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),C=f.get("symbol-placement"),I=x/2,A=f.get("icon-text-fit");n&&"none"!==A&&(e.allowVerticalPlacement&&r.vertical&&(h=vl(n,r.vertical,A,f.get("icon-text-fit-padding"),d,v)),y&&(n=vl(n,y,A,f.get("icon-text-fit-padding"),d,v)));var k=function(a,s){s.x<0||s.x>=gi||s.y<0||s.y>=gi||function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y,v,m,g,_,x,b,M){var E,S,T,C,I,A=e.addToLineVertexArray(t,r),k=0,L=0,D=0,P=0,z=-1,O=-1,N={},j=ql(""),R=0,F=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(R=(E=s.layout.get("text-offset").evaluate(x,{}).map((function(e){return e*Ss})))[0],F=E[1]):(R=s.layout.get("text-radial-offset").evaluate(x,{})*Ss,F=Zl),e.allowVerticalPlacement&&n.vertical){var B=s.layout.get("text-rotate").evaluate(x,{})+90,U=n.vertical;C=new Ol(l,r,t,u,c,p,U,h,f,d,e.overscaling,B),o&&(I=new Ol(l,r,t,u,c,p,o,v,m,d,e.overscaling,B))}if(a){var V=s.layout.get("icon-rotate").evaluate(x,{}),q="none"!==s.layout.get("icon-text-fit"),W=kl(a,V,M,q),G=o?kl(o,V,M,q):void 0;T=new Ol(l,r,t,u,c,p,a,v,m,!1,e.overscaling,V),k=4*W.length;var Y=e.iconSizeData,Z=null;"source"===Y.kind?(Z=[gl*s.layout.get("icon-size").evaluate(x,{})])[0]>Kl&&w(e.layerIds[0]+': Value for "icon-size" is >= '+Xl+'. Reduce your "icon-size".'):"composite"===Y.kind&&((Z=[gl*b.compositeIconSizes[0].evaluate(x,{}),gl*b.compositeIconSizes[1].evaluate(x,{})])[0]>Kl||Z[1]>Kl)&&w(e.layerIds[0]+': Value for "icon-size" is >= '+Xl+'. Reduce your "icon-size".'),e.addSymbols(e.icon,W,Z,_,g,x,!1,t,A.lineStartIndex,A.lineLength,-1),z=e.icon.placedSymbolArray.length-1,G&&(L=4*G.length,e.addSymbols(e.icon,G,Z,_,g,x,rl.vertical,t,A.lineStartIndex,A.lineLength,-1),O=e.icon.placedSymbolArray.length-1)}for(var H in n.horizontal){var Q=n.horizontal[H];if(!S){j=ql(Q.text);var X=s.layout.get("text-rotate").evaluate(x,{});S=new Ol(l,r,t,u,c,p,Q,h,f,d,e.overscaling,X)}var K=1===Q.positionedLines.length;if(D+=Jl(e,t,Q,i,s,d,x,y,A,n.vertical?rl.horizontal:rl.horizontalOnly,K?Object.keys(n.horizontal):[H],N,z,b),K)break}n.vertical&&(P+=Jl(e,t,n.vertical,i,s,d,x,y,A,rl.vertical,["vertical"],N,O,b));var J=S?S.boxStartIndex:e.collisionBoxArray.length,$=S?S.boxEndIndex:e.collisionBoxArray.length,ee=C?C.boxStartIndex:e.collisionBoxArray.length,te=C?C.boxEndIndex:e.collisionBoxArray.length,re=T?T.boxStartIndex:e.collisionBoxArray.length,ne=T?T.boxEndIndex:e.collisionBoxArray.length,ae=I?I.boxStartIndex:e.collisionBoxArray.length,ie=I?I.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=su.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(t.x,t.y,N.right>=0?N.right:-1,N.center>=0?N.center:-1,N.left>=0?N.left:-1,N.vertical||-1,z,O,j,J,$,ee,te,re,ne,ae,ie,u,D,P,k,L,0,h,R,F)}(e,s,a,r,n,i,h,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,m,b,S,u,_,M,T,d,t,o,c)};if("line"===C)for(var L=0,D=function(e,t,r,n,i){for(var o=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],h=l[c+1];p.x<0&&h.x<0||(p.x<0?p=new a(0,p.y+(h.y-p.y)*((0-p.x)/(h.x-p.x)))._round():h.x<0&&(h=new a(0,p.y+(h.y-p.y)*((0-p.x)/(h.x-p.x)))._round()),p.y<0&&h.y<0||(p.y<0?p=new a(p.x+(h.x-p.x)*((0-p.y)/(h.y-p.y)),0)._round():h.y<0&&(h=new a(p.x+(h.x-p.x)*((0-p.y)/(h.y-p.y)),0)._round()),p.x>=n&&h.x>=n||(p.x>=n?p=new a(n,p.y+(h.y-p.y)*((n-p.x)/(h.x-p.x)))._round():h.x>=n&&(h=new a(n,p.y+(h.y-p.y)*((n-p.x)/(h.x-p.x)))._round()),p.y>=i&&h.y>=i||(p.y>=i?p=new a(p.x+(h.x-p.x)*((i-p.y)/(h.y-p.y)),i)._round():h.y>=i&&(h=new a(p.x+(h.x-p.x)*((i-p.y)/(h.y-p.y)),i)._round()),u&&p.equals(u[u.length-1])||(u=[p],o.push(u)),u.push(h)))))}return o}(t.geometry,0,0,gi,gi);L<D.length;L+=1)for(var P=D[L],z=0,O=Il(P,x,E,r.vertical||y,n,24,g,e.overscaling,gi);z<O.length;z+=1){var N=O[z];y&&eu(e,y.text,I,N)||k(P,N)}else if("line-center"===C)for(var j=0,R=t.geometry;j<R.length;j+=1){var F=R[j];if(F.length>1){var B=Cl(F,E,r.vertical||y,n,24,g);B&&k(F,B)}}else if("Polygon"===t.type)for(var U=0,V=zo(t.geometry,0);U<V.length;U+=1){var q=V[U],W=Rl(q,16);k(q[0],new ml(W.x,W.y,0))}else if("LineString"===t.type)for(var G=0,Y=t.geometry;G<Y.length;G+=1){var Z=Y[G];k(Z,new ml(Z[0].x,Z[0].y,0))}else if("Point"===t.type)for(var H=0,Q=t.geometry;H<Q.length;H+=1)for(var X=0,K=Q[H];X<K.length;X+=1){var J=K[X];k([J],new ml(J.x,J.y,0))}}(e,o,f,F,n,c,p,h,y,B)},M=0,E=e.features;M<E.length;M+=1)b();o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,r,n,a){var i,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(n-a),e[10]=(a+n)*i,e[14]=2*a*n*i):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n];a in e&&(r[a]=e[a])}return r},e.plugin=Zn,e.polygonIntersectsPolygon=Mi,e.postMapLoadEvent=ie,e.postTurnstileEvent=ne,e.potpack=Ks,e.rasterBoundsAttributes=Bu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=An,e.registerForPluginStateChange=function(e){return e({pluginStatus:Fn,pluginURL:Bn,pluginBlobURL:Un}),Wn.on("pluginStateChange",e),e},e.rotate=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=a*l+o*s,e[2]=n*-s+i*l,e[3]=a*-s+o*l,e},e.rotateX=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+u*n,e[5]=o*a+c*n,e[6]=s*a+p*n,e[7]=l*a+h*n,e[8]=u*a-i*n,e[9]=c*a-o*n,e[10]=p*a-s*n,e[11]=h*a-l*n,e},e.rotateZ=function(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+u*n,e[1]=o*a+c*n,e[2]=s*a+p*n,e[3]=l*a+h*n,e[4]=u*a-i*n,e[5]=c*a-o*n,e[6]=p*a-s*n,e[7]=h*a-l*n,e},e.scale=function(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.setCacheLimits=function(e,t){se=e,le=t},e.setRTLTextPlugin=function(e,t,r){if(void 0===r&&(r=!1),Fn===On||Fn===Nn||Fn===jn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Bn=j.resolveURL(e),Fn=On,Rn=t,qn(),r||Yn()},e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.styleSpec=Ie,e.symbolSize=wl,e.transformMat3=function(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e},e.transformMat4=Ui,e.translate=function(e,t,r){var n,a,i,o,s,l,u,c,p,h,f,d,y=r[0],v=r[1],m=r[2];return t===e?(e[12]=t[0]*y+t[4]*v+t[8]*m+t[12],e[13]=t[1]*y+t[5]*v+t[9]*m+t[13],e[14]=t[2]*y+t[6]*v+t[10]*m+t[14],e[15]=t[3]*y+t[7]*v+t[11]*m+t[15]):(n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=p,e[9]=h,e[10]=f,e[11]=d,e[12]=n*y+s*v+p*m+t[12],e[13]=a*y+l*v+h*m+t[13],e[14]=i*y+u*v+f*m+t[14],e[15]=o*y+c*v+d*m+t[15]),e},e.triggerPluginCompletionEvent=Vn,e.uniqueId=f,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=xn,e.validateStyle=_n,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.vectorTile=Ko,e.version="1.6.0",e.warnOnce=w,e.webpSupported=F,e.window=self,e.wrap=c})),n(0,(function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",a=0,i=e;a<i.length;a+=1)n+=t(i[a])+",";return n+"]"}for(var o=Object.keys(e).sort(),s="{",l=0;l<o.length;l++)s+=JSON.stringify(o[l])+":"+t(e[o[l]])+",";return s+"}"}function r(r){for(var n="",a=0,i=e.refProperties;a<i.length;a+=1)n+="/"+t(r[i[a]]);return n}var n=function(e){this.keyCache={},e&&this.replace(e)};n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var a=this,i=0,o=t;i<o.length;i+=1){var s=o[i];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var u=0,c=n;u<c.length;u+=1){var p=c[u];delete this.keyCache[p],delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var h=0,f=function(e,t){for(var n={},a=0;a<e.length;a++){var i=t&&t[e[a].id]||r(e[a]);t&&(t[e[a].id]=i);var o=n[i];o||(o=n[i]=[]),o.push(e[a])}var s=[];for(var l in n)s.push(n[l]);return s}(e.values(this._layerConfigs),this.keyCache);h<f.length;h+=1){var d=f[h].map((function(e){return a._layers[e.id]})),y=d[0];if("none"!==y.visibility){var v=y.source||"",m=this.familiesBySource[v];m||(m=this.familiesBySource[v]={});var g=y.sourceLayer||"_geojsonTileLayer",_=m[g];_||(_=m[g]=[]),_.push(d)}}};var a=function(t){var r={},n=[];for(var a in t){var i=t[a],o=r[a]={};for(var s in i){var l=i[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(u),o[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(n),p=c.w,h=c.h,f=new e.AlphaImage({width:p||1,height:h||1});for(var d in t){var y=t[d];for(var v in y){var m=y[+v];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=r[d][v].rect;e.AlphaImage.copy(m.bitmap,f,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=f,this.positions=r};e.register("GlyphAtlas",a);var i=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function o(t,r,n){for(var a=new e.EvaluationParameters(r),i=0,o=t;i<o.length;i+=1)o[i].recalculate(a,n)}i.prototype.parse=function(t,r,n,i,s){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var u=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID);c.bucketLayerIDs=[];var p,h,f,d,y={},v={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},m=r.familiesBySource[this.source];for(var g in m){var _=t.layers[g];if(_){1===_.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=u.encode(g),b=[],w=0;w<_.length;w++){var M=_.feature(w);b.push({feature:M,index:w,sourceLayerIndex:x})}for(var E=0,S=m[g];E<S.length;E+=1){var T=S[E],C=T[0];C.minzoom&&this.zoom<Math.floor(C.minzoom)||C.maxzoom&&this.zoom>=C.maxzoom||"none"!==C.visibility&&(o(T,this.zoom,n),(y[C.id]=C.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:x,sourceID:this.source})).populate(b,v),c.bucketLayerIDs.push(T.map((function(e){return e.id}))))}}}var I=e.mapObject(v.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(I).length?i.send("getGlyphs",{uid:this.uid,stacks:I},(function(e,t){p||(p=e,h=t,L.call(l))})):h={};var A=Object.keys(v.iconDependencies);A.length?i.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){p||(p=e,f=t,L.call(l))})):f={};var k=Object.keys(v.patternDependencies);function L(){if(p)return s(p);if(h&&f&&d){var t=new a(h),r=new e.ImageAtlas(f,d);for(var i in y){var l=y[i];l instanceof e.SymbolBucket?(o(l.layers,this.zoom,n),e.performSymbolLayout(l,h,t.positions,f,r.iconPositions,this.showCollisionBoxes)):l.hasPattern&&(l instanceof e.LineBucket||l instanceof e.FillBucket||l instanceof e.FillExtrusionBucket)&&(o(l.layers,this.zoom,n),l.addFeatures(v,r.patternPositions))}this.status="done",s(null,{buckets:e.values(y).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null})}}k.length?i.send("getImages",{icons:k,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){p||(p=e,d=t,L.call(l))})):d={},L.call(this)};var s="undefined"!=typeof performance,l={getEntriesByName:function(e){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(s&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,r){return!!(s&&performance&&performance.measure)&&performance.measure(e,t,r)},clearMarks:function(e){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},u=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},l.mark(this._marks.start)};function c(t,r){var n=e.getArrayBuffer(t.request,(function(t,n,a,i){t?r(t):n&&r(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(n)),rawData:n,cacheControl:a,expires:i})}));return function(){n.cancel(),r()}}u.prototype.finish=function(){l.mark(this._marks.end);var e=l.getEntriesByName(this._marks.measure);return 0===e.length&&(l.measure(this._marks.measure,this._marks.start,this._marks.end),e=l.getEntriesByName(this._marks.measure),l.clearMarks(this._marks.start),l.clearMarks(this._marks.end),l.clearMeasures(this._marks.measure)),e},l.Performance=u;var p=function(e,t,r,n){this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=n||c,this.loading={},this.loaded={}};p.prototype.loadTile=function(t,r){var n=this,a=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new l.Performance(t.request),s=this.loading[a]=new i(t);s.abort=this.loadVectorData(t,(function(t,i){if(delete n.loading[a],t||!i)return s.status="done",n.loaded[a]=s,r(t);var l=i.rawData,u={};i.expires&&(u.expires=i.expires),i.cacheControl&&(u.cacheControl=i.cacheControl);var c={};if(o){var p=o.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=i.vectorTile,s.parse(i.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:l.slice(0)},n,u,c))})),n.loaded=n.loaded||{},n.loaded[a]=s}))},p.prototype.reloadTile=function(e,t){var r=this,n=this.loaded,a=e.uid,i=this;if(n&&n[a]){var o=n[a];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,n){var a=o.reloadCallback;a&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,r.availableImages,i.actor,a)),t(e,n)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},p.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},p.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var h=function(){this.loaded={}};h.prototype.loadTile=function(t,r){var n=t.uid,a=t.encoding,i=t.rawImageData,o=new e.DEMData(n,i,a);this.loaded=this.loaded||{},this.loaded[n]=o,r(null,o)},h.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var f={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function d(e){var t=0;if(e&&e.length>0){t+=Math.abs(y(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(y(e[r]))}return t}function y(e){var t,r,n,a,i,o,s=0,l=e.length;if(l>2){for(o=0;o<l;o++)o===l-2?(n=l-2,a=l-1,i=0):o===l-1?(n=l-1,a=0,i=1):(n=o,a=o+1,i=o+2),t=e[n],r=e[a],s+=(v(e[i][0])-v(t[0]))*Math.sin(v(r[1]));s=s*f.RADIUS*f.RADIUS/2}return s}function v(e){return e*Math.PI/180}var m={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return d(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=d(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:y};function g(e,t){return function(r){return e(r,t)}}function _(e,t){t=!!t,e[0]=x(e[0],t);for(var r=1;r<e.length;r++)e[r]=x(e[r],!t);return e}function x(e,t){return function(e){return m.ring(e)>=0}(e)===t?e:e.reverse()}var b=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};w.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var a=n[r];t.push([new e.Point$1(a[0],a[1])])}return t}for(var i=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var l=[],u=0,c=s[o];u<c.length;u+=1){var p=c[u];l.push(new e.Point$1(p[0],p[1]))}i.push(l)}return i},w.prototype.toGeoJSON=function(e,t,r){return b.call(this,e,t,r)};var M=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};M.prototype.feature=function(e){return new w(this._features[e])};var E=e.vectorTile.VectorTileFeature,S=T;function T(e,t){this.options=t||{},this.features=e,this.length=e.length}function C(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}T.prototype.feature=function(e){return new C(this.features[e],this.options.extent)},C.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],a=[],i=0;i<n.length;i++)a.push(new e.Point$1(n[i][0],n[i][1]));this.geometry.push(a)}return this.geometry},C.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,a=-1/0,i=0;i<e.length;i++)for(var o=e[i],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),a=Math.max(a,l.y)}return[t,n,r,a]},C.prototype.toGeoJSON=E.prototype.toGeoJSON;var I=L,A=L,k=S;function L(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,D,e.layers[r])}(t,r),r.finish()}function D(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,P,n);var a=n.keys;for(r=0;r<a.length;r++)t.writeStringField(3,a[r]);var i=n.values;for(r=0;r<i.length;r++)t.writeMessage(4,R,i[r])}function P(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,z,e),t.writeVarintField(3,r.type),t.writeMessage(4,j,r)}function z(e,t){var r=e.feature,n=e.keys,a=e.values,i=e.keycache,o=e.valuecache;for(var s in r.properties){var l=i[s];void 0===l&&(n.push(s),l=n.length-1,i[s]=l),t.writeVarint(l);var u=r.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,h=o[p];void 0===h&&(a.push(u),h=a.length-1,o[p]=h),t.writeVarint(h)}}function O(e,t){return(t<<3)+(7&e)}function N(e){return e<<1^e>>31}function j(e,t){for(var r=e.loadGeometry(),n=e.type,a=0,i=0,o=r.length,s=0;s<o;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(O(1,u));for(var c=3===n?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==n&&t.writeVarint(O(2,c-1));var h=l[p].x-a,f=l[p].y-i;t.writeVarint(N(h)),t.writeVarint(N(f)),a+=h,i+=f}3===n&&t.writeVarint(O(7,1))}}function R(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function F(e,t,r,n){B(e,r,n),B(t,2*r,2*n),B(t,2*r+1,2*n+1)}function B(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function U(e,t,r,n){var a=e-r,i=t-n;return a*a+i*i}I.fromVectorTileJs=A,I.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new S(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return L({layers:r})},I.GeoJSONWrapper=k;var V=function(e){return e[0]},q=function(e){return e[1]},W=function(e,t,r,n,a){void 0===t&&(t=V),void 0===r&&(r=q),void 0===n&&(n=64),void 0===a&&(a=Float64Array),this.nodeSize=n,this.points=e;for(var i=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new i(e.length),s=this.coords=new a(2*e.length),l=0;l<e.length;l++)o[l]=l,s[2*l]=t(e[l]),s[2*l+1]=r(e[l]);!function e(t,r,n,a,i,o){if(!(i-a<=n)){var s=a+i>>1;!function e(t,r,n,a,i,o){for(;i>a;){if(i-a>600){var s=i-a+1,l=n-a+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(a,Math.floor(n-l*c/s+p)),Math.min(i,Math.floor(n+(s-l)*c/s+p)),o)}var h=r[2*n+o],f=a,d=i;for(F(t,r,a,n),r[2*i+o]>h&&F(t,r,a,i);f<d;){for(F(t,r,f,d),f++,d--;r[2*f+o]<h;)f++;for(;r[2*d+o]>h;)d--}r[2*a+o]===h?F(t,r,a,d):F(t,r,++d,i),d<=n&&(a=d+1),n<=d&&(i=d-1)}}(t,r,s,a,i,o%2),e(t,r,n,a,s-1,o+1),e(t,r,n,s+1,i,o+1)}}(o,s,n,0,o.length-1,0)};W.prototype.range=function(e,t,r,n){return function(e,t,r,n,a,i,o){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var p=u.pop(),h=u.pop(),f=u.pop();if(h-f<=o)for(var d=f;d<=h;d++)s=t[2*d],l=t[2*d+1],s>=r&&s<=a&&l>=n&&l<=i&&c.push(e[d]);else{var y=Math.floor((f+h)/2);s=t[2*y],l=t[2*y+1],s>=r&&s<=a&&l>=n&&l<=i&&c.push(e[y]);var v=(p+1)%2;(0===p?r<=s:n<=l)&&(u.push(f),u.push(y-1),u.push(v)),(0===p?a>=s:i>=l)&&(u.push(y+1),u.push(h),u.push(v))}}return c}(this.ids,this.coords,e,t,r,n,this.nodeSize)},W.prototype.within=function(e,t,r){return function(e,t,r,n,a,i){for(var o=[0,e.length-1,0],s=[],l=a*a;o.length;){var u=o.pop(),c=o.pop(),p=o.pop();if(c-p<=i)for(var h=p;h<=c;h++)U(t[2*h],t[2*h+1],r,n)<=l&&s.push(e[h]);else{var f=Math.floor((p+c)/2),d=t[2*f],y=t[2*f+1];U(d,y,r,n)<=l&&s.push(e[f]);var v=(u+1)%2;(0===u?r-a<=d:n-a<=y)&&(o.push(p),o.push(f-1),o.push(v)),(0===u?r+a>=d:n+a>=y)&&(o.push(f+1),o.push(c),o.push(v))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var G={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},Y=function(e){this.options=$(Object.create(G),e),this.trees=new Array(this.options.maxZoom+1)};function Z(e,t,r,n,a){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:a}}function H(e,t){var r=e.geometry.coordinates,n=r[0],a=r[1];return{x:K(n),y:J(a),zoom:1/0,index:t,parentId:-1}}function Q(e){return{type:"Feature",id:e.id,properties:X(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function X(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return $($({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function K(e){return e/360+.5}function J(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function $(e,t){for(var r in t)e[r]=t[r];return e}function ee(e){return e.x}function te(e){return e.y}function re(e,t,r,n,a,i){var o=a-r,s=i-n;if(0!==o||0!==s){var l=((e-r)*o+(t-n)*s)/(o*o+s*s);l>1?(r=a,n=i):l>0&&(r+=o*l,n+=s*l)}return(o=e-r)*o+(s=t-n)*s}function ne(e,t,r,n){var a={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)ae(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)ae(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)ae(e,t[n][a])}(a),a}function ae(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function ie(e,t,r,n){if(t.geometry){var a=t.geometry.coordinates,i=t.geometry.type,o=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===i)oe(a,s);else if("MultiPoint"===i)for(var u=0;u<a.length;u++)oe(a[u],s);else if("LineString"===i)se(a,s,o,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(u=0;u<a.length;u++)s=[],se(a[u],s,o,!1),e.push(ne(l,"LineString",s,t.properties));return}le(a,s,o,!1)}else if("Polygon"===i)le(a,s,o,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(u=0;u<t.geometry.geometries.length;u++)ie(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<a.length;u++){var c=[];le(a[u],c,o,!0),s.push(c)}}e.push(ne(l,i,s,t.properties))}}function oe(e,t){t.push(ue(e[0])),t.push(ce(e[1])),t.push(0)}function se(e,t,r,n){for(var a,i,o=0,s=0;s<e.length;s++){var l=ue(e[s][0]),u=ce(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(o+=n?(a*u-l*i)/2:Math.sqrt(Math.pow(l-a,2)+Math.pow(u-i,2))),a=l,i=u}var c=t.length-3;t[2]=1,function e(t,r,n,a){for(var i,o=a,s=n-r>>1,l=n-r,u=t[r],c=t[r+1],p=t[n],h=t[n+1],f=r+3;f<n;f+=3){var d=re(t[f],t[f+1],u,c,p,h);if(d>o)i=f,o=d;else if(d===o){var y=Math.abs(f-s);y<l&&(i=f,l=y)}}o>a&&(i-r>3&&e(t,r,i,a),t[i+2]=o,n-i>3&&e(t,i,n,a))}(t,0,c,r),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function le(e,t,r,n){for(var a=0;a<e.length;a++){var i=[];se(e[a],i,r,n),t.push(i)}}function ue(e){return e/360+.5}function ce(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function pe(e,t,r,n,a,i,o,s){if(n/=t,i>=(r/=t)&&o<n)return e;if(o<r||i>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.type,f=0===a?c.minX:c.minY,d=0===a?c.maxX:c.maxY;if(f>=r&&d<n)l.push(c);else if(!(d<r||f>=n)){var y=[];if("Point"===h||"MultiPoint"===h)he(p,y,r,n,a);else if("LineString"===h)fe(p,y,r,n,a,!1,s.lineMetrics);else if("MultiLineString"===h)ye(p,y,r,n,a,!1);else if("Polygon"===h)ye(p,y,r,n,a,!0);else if("MultiPolygon"===h)for(var v=0;v<p.length;v++){var m=[];ye(p[v],m,r,n,a,!0),m.length&&y.push(m)}if(y.length){if(s.lineMetrics&&"LineString"===h){for(v=0;v<y.length;v++)l.push(ne(c.id,h,y[v],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===y.length?(h="LineString",y=y[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===y.length?"Point":"MultiPoint"),l.push(ne(c.id,h,y,c.tags))}}}return l.length?l:null}function he(e,t,r,n,a){for(var i=0;i<e.length;i+=3){var o=e[i+a];o>=r&&o<=n&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function fe(e,t,r,n,a,i,o){for(var s,l,u=de(e),c=0===a?me:ge,p=e.start,h=0;h<e.length-3;h+=3){var f=e[h],d=e[h+1],y=e[h+2],v=e[h+3],m=e[h+4],g=0===a?f:d,_=0===a?v:m,x=!1;o&&(s=Math.sqrt(Math.pow(f-v,2)+Math.pow(d-m,2))),g<r?_>r&&(l=c(u,f,d,v,m,r),o&&(u.start=p+s*l)):g>n?_<n&&(l=c(u,f,d,v,m,n),o&&(u.start=p+s*l)):ve(u,f,d,y),_<r&&g>=r&&(l=c(u,f,d,v,m,r),x=!0),_>n&&g<=n&&(l=c(u,f,d,v,m,n),x=!0),!i&&x&&(o&&(u.end=p+s*l),t.push(u),u=de(e)),o&&(p+=s)}var b=e.length-3;f=e[b],d=e[b+1],y=e[b+2],(g=0===a?f:d)>=r&&g<=n&&ve(u,f,d,y),b=u.length-3,i&&b>=3&&(u[b]!==u[0]||u[b+1]!==u[1])&&ve(u,u[0],u[1],u[2]),u.length&&t.push(u)}function de(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ye(e,t,r,n,a,i){for(var o=0;o<e.length;o++)fe(e[o],t,r,n,a,i,!1)}function ve(e,t,r,n){e.push(t),e.push(r),e.push(n)}function me(e,t,r,n,a,i){var o=(i-t)/(n-t);return e.push(i),e.push(r+(a-r)*o),e.push(1),o}function ge(e,t,r,n,a,i){var o=(i-r)/(a-r);return e.push(t+(n-t)*o),e.push(i),e.push(1),o}function _e(e,t){for(var r=[],n=0;n<e.length;n++){var a,i=e[n],o=i.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)a=xe(i.geometry,t);else if("MultiLineString"===o||"Polygon"===o){a=[];for(var s=0;s<i.geometry.length;s++)a.push(xe(i.geometry[s],t))}else if("MultiPolygon"===o)for(a=[],s=0;s<i.geometry.length;s++){for(var l=[],u=0;u<i.geometry[s].length;u++)l.push(xe(i.geometry[s][u],t));a.push(l)}r.push(ne(i.id,o,a,i.tags))}return r}function xe(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function be(e,t){if(e.transformed)return e;var r,n,a,i=1<<e.z,o=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(we(u[n],u[n+1],t,i,o,s));else for(n=0;n<u.length;n++){var p=[];for(a=0;a<u[n].length;a+=2)p.push(we(u[n][a],u[n][a+1],t,i,o,s));l.geometry.push(p)}}return e.transformed=!0,e}function we(e,t,r,n,a,i){return[Math.round(r*(e*n-a)),Math.round(r*(t*n-i))]}function Me(e,t,r,n,a){for(var i=t===a.maxZoom?0:a.tolerance/((1<<t)*a.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Ee(o,e[s],i,a);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,p=e[s].maxY;l<o.minX&&(o.minX=l),u<o.minY&&(o.minY=u),c>o.maxX&&(o.maxX=c),p>o.maxY&&(o.maxY=p)}return o}function Ee(e,t,r,n){var a=t.geometry,i=t.type,o=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<a.length;s+=3)o.push(a[s]),o.push(a[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)Se(o,a,e,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<a.length;s++)Se(o,a[s],e,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<a.length;l++){var u=a[l];for(s=0;s<u.length;s++)Se(o,u[s],e,r,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===i&&n.lineMetrics){for(var p in c={},t.tags)c[p]=t.tags[p];c.mapbox_clip_start=a.start/a.size,c.mapbox_clip_end=a.end/a.size}var h={geometry:o,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h)}}function Se(e,t,r,n,a,i){var o=n*n;if(n>0&&t.size<(a?o:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>o)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;a&&function(e,t){for(var r=0,n=0,a=e.length,i=a-2;n<a;i=n,n+=2)r+=(e[n]-e[i])*(e[n+1]+e[i+1]);if(r>0===t)for(n=0,a=e.length;n<a/2;n+=2){var o=e[n],s=e[n+1];e[n]=e[a-2-n],e[n+1]=e[a-1-n],e[a-2-n]=o,e[a-1-n]=s}}(s,i),e.push(s)}}function Te(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)ie(r,e.features[n],t,n);else"Feature"===e.type?ie(r,e,t):ie(r,{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,a=pe(e,1,-1-r,r,0,-1,2,t),i=pe(e,1,1-r,2+r,0,-1,2,t);return(a||i)&&(n=pe(e,1,-r,1+r,0,-1,2,t)||[],a&&(n=_e(a,1).concat(n)),i&&(n=n.concat(_e(i,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ce(e,t,r){return 32*((1<<e)*r+t)+e}function Ie(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var a=new M(n.features),i=I(a);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:a,rawData:i.buffer})}Y.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,a=t.maxZoom,i=t.nodeSize;r&&console.time("total time");var o="prepare "+e.length+" points";r&&console.time(o),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(H(e[l],l));this.trees[a+1]=new W(s,ee,te,i,Float32Array),r&&console.timeEnd(o);for(var u=a;u>=n;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new W(s,ee,te,i,Float32Array),r&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return r&&console.timeEnd("total time"),this},Y.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),a=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,a=180;else if(r>a){var o=this.getClusters([r,n,180,i],t),s=this.getClusters([-180,n,a,i],t);return o.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,p=l.range(K(r),J(i),K(a),J(n));c<p.length;c+=1){var h=p[c],f=l.points[h];u.push(f.numPoints?Q(f):this.points[f.index])}return u},Y.prototype.getChildren=function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",a=this.trees[r];if(!a)throw new Error(n);var i=a.points[t];if(!i)throw new Error(n);for(var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,u=a.within(i.x,i.y,o);l<u.length;l+=1){var c=u[l],p=a.points[c];p.parentId===e&&s.push(p.numPoints?Q(p):this.points[p.index])}if(0===s.length)throw new Error(n);return s},Y.prototype.getLeaves=function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n},Y.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],a=Math.pow(2,e),i=this.options,o=i.extent,s=i.radius/o,l=(r-s)/a,u=(r+1+s)/a,c={features:[]};return this._addTileFeatures(n.range((t-s)/a,l,(t+1+s)/a,u),n.points,t,r,a,c),0===t&&this._addTileFeatures(n.range(1-s/a,l,1,u),n.points,a,r,a,c),t===a-1&&this._addTileFeatures(n.range(0,l,s/a,u),n.points,-1,r,a,c),c.features.length?c:null},Y.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},Y.prototype._appendLeaves=function(e,t,r,n,a){for(var i=0,o=this.getChildren(t);i<o.length;i+=1){var s=o[i],l=s.properties;if(l&&l.cluster?a+l.point_count<=n?a+=l.point_count:a=this._appendLeaves(e,l.cluster_id,r,n,a):a<n?a++:e.push(s),e.length===r)break}return a},Y.prototype._addTileFeatures=function(e,t,r,n,a,i){for(var o=0,s=e;o<s.length;o+=1){var l=t[s[o]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*a-r)),Math.round(this.options.extent*(l.y*a-n))]],tags:u?X(l):this.points[l.index].properties},p=void 0;u?p=l.id:this.options.generateId?p=l.index:this.points[l.index].id&&(p=this.points[l.index].id),void 0!==p&&(c.id=p),i.features.push(c)}},Y.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},Y.prototype._cluster=function(e,t){for(var r=[],n=this.options,a=n.radius,i=n.extent,o=n.reduce,s=a/(i*Math.pow(2,t)),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],p=c.within(u.x,u.y,s),h=u.numPoints||1,f=u.x*h,d=u.y*h,y=o&&h>1?this._map(u,!0):null,v=(l<<5)+(t+1)+this.points.length,m=0,g=p;m<g.length;m+=1){var _=g[m],x=c.points[_];if(!(x.zoom<=t)){x.zoom=t;var b=x.numPoints||1;f+=x.x*b,d+=x.y*b,h+=b,x.parentId=v,o&&(y||(y=this._map(u,!0)),o(y,this._map(x)))}}1===h?r.push(u):(u.parentId=v,r.push(Z(f/h,d/h,v,h,y)))}}return r},Y.prototype._getOriginId=function(e){return e-this.points.length>>5},Y.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},Y.prototype._map=function(e,t){if(e.numPoints)return t?$({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?$({},n):n},Te.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Te.prototype.splitTile=function(e,t,r,n,a,i,o){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,p=Ce(t,r,n),h=this.tiles[p];if(!h&&(u>1&&console.time("creation"),h=this.tiles[p]=Me(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=e,a){if(t===l.maxZoom||t===a)continue;var d=1<<a-t;if(r!==Math.floor(i/d)||n!==Math.floor(o/d))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){u>1&&console.time("clipping");var y,v,m,g,_,x,b=.5*l.buffer/l.extent,w=.5-b,M=.5+b,E=1+b;y=v=m=g=null,_=pe(e,c,r-b,r+M,0,h.minX,h.maxX,l),x=pe(e,c,r+w,r+E,0,h.minX,h.maxX,l),e=null,_&&(y=pe(_,c,n-b,n+M,1,h.minY,h.maxY,l),v=pe(_,c,n+w,n+E,1,h.minY,h.maxY,l),_=null),x&&(m=pe(x,c,n-b,n+M,1,h.minY,h.maxY,l),g=pe(x,c,n+w,n+E,1,h.minY,h.maxY,l),x=null),u>1&&console.timeEnd("clipping"),s.push(y||[],t+1,2*r,2*n),s.push(v||[],t+1,2*r,2*n+1),s.push(m||[],t+1,2*r+1,2*n),s.push(g||[],t+1,2*r+1,2*n+1)}}},Te.prototype.getTile=function(e,t,r){var n=this.options,a=n.extent,i=n.debug;if(e<0||e>24)return null;var o=1<<e,s=Ce(e,t=(t%o+o)%o,r);if(this.tiles[s])return be(this.tiles[s],a);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,c=t,p=r;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[Ce(u,c,p)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",u,c,p),i>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?be(this.tiles[s],a):null):null};var Ae=function(t){function r(e,r,n,a){t.call(this,e,r,n,Ie),a&&(this.loadGeoJSON=a)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var a=!!(n&&n.request&&n.request.collectResourceTiming)&&new l.Performance(n.request);this.loadGeoJSON(n,(function(i,o){if(i||!o)return r(i);if("object"!=typeof o)return r(new Error("Input data given to '"+n.source+"' is not a valid GeoJSON object."));!function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(g(e,r)),t;case"GeometryCollection":return t.geometries=t.geometries.map(g(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=_(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(g(_,t))),e}(t,r);default:return t}}(o,!0);try{t._geoJSONIndex=n.cluster?new Y(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var a={},i={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),u=0,c=l;u<c.length;u+=1){var p=c[u],h=n[p],f=h[0],d=h[1],y=e.createExpression(d),v=e.createExpression("string"==typeof f?[f,["accumulated"],["get",p]]:f);a[p]=y.value,i[p]=v.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=l;r<n.length;r+=1){var i=n[r];t[i]=a[i].evaluate(o,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=l;r<n.length;r+=1){var a=n[r];o.accumulated=e[a],e[a]=i[a].evaluate(o,s)}},r}(n)).load(o.features):function(e,t){return new Te(e,t)}(o,n.geojsonVtOptions)}catch(i){return r(i)}t.loaded={};var s={};if(a){var l=a.finish();l&&(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(l)))}r(null,s)}))}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded,a=e.uid;return n&&n[a]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},r.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},r.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},r}(p),ke=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:p,geojson:Ae},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return ke.prototype.setReferrer=function(e,t){this.referrer=t},ke.prototype.setImages=function(e,t,r){this.availableImages[e]=t,r()},ke.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},ke.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},ke.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},ke.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},ke.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},ke.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},ke.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},ke.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},ke.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},ke.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},ke.prototype.syncRTLPluginState=function(t,r,n){try{e.plugin.setState(r);var a=e.plugin.getURLs(),i=a.blob,o=a.host;if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i&&null!=o){this.self.importScripts(i);var s=e.plugin.isParsed();n(s?void 0:new Error("RTL Text Plugin failed to import scripts from "+o),s)}}catch(e){n(e.toString())}},ke.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},ke.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},ke.prototype.getWorkerSource=function(e,t,r){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){var a={send:function(t,r,a){n.actor.send(t,r,a,e)}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](a,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][r]},ke.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new h),this.demWorkerSources[e][t]},ke.prototype.enforceCacheSizeLimit=function(t,r){e.enforceCacheSizeLimit(r)},"undefined"!=typeof WorkerGlobalScope&&void 0!==e.window&&e.window instanceof WorkerGlobalScope&&(e.window.worker=new ke(e.window)),ke})),n(0,(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){return void 0===r[e]&&(r[e]=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e)),r[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),r={create:function(t,r,n){var a=e.window.document.createElement(t);return void 0!==r&&(a.className=r),n&&n.appendChild(a),a},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document.documentElement.style;function a(e){if(!n)return e[0];for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var i,o=a(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&o&&(i=n[o],n[o]="none")},r.enableDrag=function(){n&&o&&(n[o]=i)};var s=a(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&l?e.addEventListener(t,r,n):e.addEventListener(t,r,n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&l?e.removeEventListener(t,r,n):e.removeEventListener(t,r,n.capture)};var c=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",c,!0)};function p(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}r.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect(),a=e.window.TouchEvent&&r instanceof e.window.TouchEvent?r.touches[0]:r;return new e.Point(a.clientX-n.left-t.clientLeft,a.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),a=[],i="touchend"===r.type?r.changedTouches:r.touches,o=0;o<i.length;o++)a.push(new e.Point(i[o].clientX-n.left-t.clientLeft,i[o].clientY-n.top-t.clientTop));return a},r.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var h=function(t){function r(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t],a=n.ids,i=n.callback;this._notify(a,i)}this.requestors=[]}},r.prototype.getImage=function(e){return this.images[e]},r.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},r.prototype._validate=function(t,r){var n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),n=!1),n},r.prototype._validateStretch=function(e,t){if(!e)return!0;for(var r=0,n=0,a=e;n<a.length;n+=1){var i=a[n];if(i[0]<r||i[1]<i[0]||t<i[1])return!1;r=i[1]}return!0},r.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},r.prototype.updateImage=function(e,t){var r=this.images[e];t.version=r.version+1,this.images[e]=t,this.updatedImages[e]=!0},r.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},r.prototype.listImages=function(){return Object.keys(this.images)},r.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,a=e;n<a.length;n+=1){var i=a[n];this.images[i]||(r=!1)}this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},r.prototype._notify=function(t,r){for(var n={},a=0,i=t;a<i.length;a+=1){var o=i[a];this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?n[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}r(null,n)},r.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},r.prototype.getPattern=function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var a={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(a,n);this.patterns[t]={bin:a,position:i}}return this._updatePatternAtlas(),this.patterns[t].position},r.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},r.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),a=n.w,i=n.h,o=this.atlasImage;for(var s in o.resize({width:a||1,height:i||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,h=p.width,f=p.height;e.RGBAImage.copy(p,o,{x:0,y:0},{x:u,y:c},{width:h,height:f}),e.RGBAImage.copy(p,o,{x:0,y:f-1},{x:u,y:c-1},{width:h,height:1}),e.RGBAImage.copy(p,o,{x:0,y:0},{x:u,y:c+f},{width:h,height:1}),e.RGBAImage.copy(p,o,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:f}),e.RGBAImage.copy(p,o,{x:0,y:0},{x:u+h,y:c},{width:1,height:f})}this.dirty=!0},r.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},r.prototype.dispatchRenderCallbacks=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var a=this.images[n];p(a)&&this.updateImage(n,a)}}},r}(e.Evented),f=v,d=v,y=1e20;function v(e,t,r,n,a,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=a||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(e,t,r,n,a,i,o){for(var s=0;s<t;s++){for(var l=0;l<r;l++)n[l]=e[l*t+s];for(g(n,a,i,o,r),l=0;l<r;l++)e[l*t+s]=a[l]}for(l=0;l<r;l++){for(s=0;s<t;s++)n[s]=e[l*t+s];for(g(n,a,i,o,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(a[s])}}function g(e,t,r,n,a){r[0]=0,n[0]=-y,n[1]=+y;for(var i=1,o=0;i<a;i++){for(var s=(e[i]+i*i-(e[r[o]]+r[o]*r[o]))/(2*i-2*r[o]);s<=n[o];)o--,s=(e[i]+i*i-(e[r[o]]+r[o]*r[o]))/(2*i-2*r[o]);r[++o]=i,n[o]=s,n[o+1]=+y}for(i=0,o=0;i<a;i++){for(;n[o+1]<i;)o++;t[i]=(i-r[o])*(i-r[o])+e[r[o]]}}v.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var a=t.data[4*n+3]/255;this.gridOuter[n]=1===a?0:0===a?y:Math.pow(Math.max(0,.5-a),2),this.gridInner[n]=1===a?y:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var i=this.gridOuter[n]-this.gridInner[n];r[n]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return r},f.default=d;var _=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};_.prototype.setURL=function(e){this.url=e},_.prototype.getGlyphs=function(t,r){var n=this,a=[];for(var i in t)for(var o=0,s=t[i];o<s.length;o+=1){var l=s[o];a.push({stack:i,id:l})}e.asyncAll(a,(function(e,t){var r=e.stack,a=e.id,i=n.entries[r];i||(i=n.entries[r]={glyphs:{},requests:{}});var o=i.glyphs[a];if(void 0===o){if(o=n._tinySDF(i,r,a))return i.glyphs[a]=o,void t(null,{stack:r,id:a,glyph:o});var s=Math.floor(a/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var l=i.requests[s];l||(l=i.requests[s]=[],_.loadGlyphRange(r,s,n.url,n.requestManager,(function(e,t){if(t)for(var r in t)n._doesCharSupportLocalGlyph(+r)||(i.glyphs[+r]=t[+r]);for(var a=0,o=l;a<o.length;a+=1)(0,o[a])(e,t);delete i.requests[s]}))),l.push((function(e,n){e?t(e):n&&t(null,{stack:r,id:a,glyph:n[a]||null})}))}}else t(null,{stack:r,id:a,glyph:o})}),(function(e,t){if(e)r(e);else if(t){for(var n={},a=0,i=t;a<i.length;a+=1){var o=i[a],s=o.stack,l=o.id,u=o.glyph;(n[s]||(n[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}r(null,n)}}))},_.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},_.prototype._tinySDF=function(t,r,n){var a=this.localIdeographFontFamily;if(a&&this._doesCharSupportLocalGlyph(n)){var i=t.tinySDF;if(!i){var o="400";/bold/i.test(r)?o="900":/medium/i.test(r)?o="500":/light/i.test(r)&&(o="200"),i=t.tinySDF=new _.TinySDF(24,3,8,.25,a,o)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(t,r,n,a,i){var o=256*r,s=o+255,l=a.transformRequest(a.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",o+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,r){if(t)i(t);else if(r){for(var n={},a=0,o=e.parseGlyphPBF(r);a<o.length;a+=1){var s=o[a];n[s.id]=s}i(null,n)}}))},_.TinySDF=f;var x=function(){this.specification=e.styleSpec.light.position};x.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},x.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var b=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new x,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(b),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var a=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),a):this._transitionable.setValue(n,a)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),M=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};M.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.positions[r]||(this.positions[r]=this.addDash(e,t)),this.positions[r]},M.prototype.addDash=function(t,r){var n=r?7:0,a=2*n+1;if(this.nextRow+a>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var i=0,o=0;o<t.length;o++)i+=t[o];for(var s=this.width/i,l=s/2,u=t.length%2==1,c=-n;c<=n;c++)for(var p=this.nextRow+n+c,h=this.width*p,f=u?-t[t.length-1]:0,d=t[0],y=1,v=0;v<this.width;v++){for(;d<v/s;)f=d,d+=t[y],u&&y===t.length-1&&(d+=t[0]),y++;var m=Math.abs(v-f*s),g=Math.abs(v-d*s),_=Math.min(m,g),x=y%2==1,b=void 0;if(r){var w=n?c/n*(l+1):0;if(x){var M=l-Math.abs(w);b=Math.sqrt(_*_+M*M)}else b=l-Math.sqrt(_*_+w*w)}else b=(x?1:-1)*_;this.data[3+4*(h+v)]=Math.max(0,Math.min(255,b+128))}var E={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=a,this.dirty=!0,E},M.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var E=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var a=this.workerPool.acquire(this.id),i=0;i<a.length;i++){var o=a[i],s=new t.Actor(o,n,this.id);s.name="Worker "+i,this.actors.push(s)}};function S(t,r,n){var a=function(a,i){if(a)return n(a);if(i){var o=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),t.url&&(o.tiles=r.canonicalizeTileset(o,t.url)),n(null,o)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url),e.ResourceType.Source),a):e.browser.frame((function(){return a(null,t)}))}E.prototype.broadcast=function(t,r,n){n=n||function(){},e.asyncAll(this.actors,(function(e,n){e.send(t,r,n)}),n)},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=e.Actor;var T=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};T.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},T.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),a=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),i=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<i&&t.y>=a&&t.y<o};var C=function(t){function r(r,n,a,i){if(t.call(this),this.id=r,this.dispatcher=a,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new T(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,null),a={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function i(n,a){if(delete t.request,t.aborted)return r(null);if(n&&404!==n.status)return r(n);if(a&&a.resourceTiming&&(t.resourceTiming=a.resourceTiming),this.map._refreshExpiredTiles&&a&&t.setExpiryData(a),t.loadVectorData(a,this.map.painter),t.hasRTLText){var i=e.plugin;i.isLoading()||i.isLoaded()||"deferred"!==e.getRTLTextPluginStatus()||e.downloadRTLTextPlugin()}e.cacheEntryPossiblyAdded(this.dispatcher),r(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}a.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",a,i.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",a,i.bind(this)))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.clearMask(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),I=function(t){function r(r,n,a,i){t.call(this),this.id=r,this.dispatcher=a,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new T(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,a=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(a,e.ResourceType.Tile),(function(a,i){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(a)t.state="errored",r(a);else if(i){n.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=n.map.painter.context,s=o.gl;t.texture=n.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new e.Texture(o,i,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),r(null)}}))},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),e.clearMask(),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),A=function(t){function r(r,n,a,i){t.call(this,r,n,a,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function a(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,i){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=e.browser.getImageData(i,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,a.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),a=(r.x-1+n)%n,i=0===r.x?t.wrap-1:t.wrap,o=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,i,r.z,a,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,a,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,a,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,o,r.y+1).key]={backfilled:!1}),l},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.clearMask(),e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},r}(I),k=function(t){function r(r,n,a,i){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=a.getActor(),this.setEventedParent(i),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties},n.workerOptions)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}}))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}})),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},r.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this},r.prototype._updateWorkerData=function(t){var r=this;this._loaded=!1;var n=e.extend({},this.workerOptions),a=this._data;"string"==typeof a?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(a),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(a),this.actor.send(this.type+".loadData",n,(function(e,a){r._removed||a&&a.abandoned||(r._loaded=!0,a&&a.resourceTiming&&a.resourceTiming[r.id]&&(r._resourceTiming=a.resourceTiming[r.id].slice(0)),r.actor.send(r.type+".coalesce",{source:n.source},null),t(e))}))},r.prototype.loaded=function(){return this._loaded},r.prototype.loadTile=function(t,r){var n=this,a=t.actor?"reloadTile":"loadTile";t.actor=this.actor;var i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.request=this.actor.send(a,i,(function(e,i){return delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,n.map.painter,"reloadTile"===a),r(null))}))},r.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),e.clearMask(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},r.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),L=function(t){function r(e,r,n,a){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(a),this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(t,r){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(a,i){n._loaded=!0,a?n.fire(new e.ErrorEvent(a)):i&&(n.image=i,t&&(n.coordinates=t),r&&r(),n._finishLoading())}))},r.prototype.loaded=function(){return this._loaded},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,a=-1/0,i=-1/0,o=0,s=t;o<s.length;o+=1){var l=s[o];r=Math.min(r,l.x),n=Math.min(n,l.y),a=Math.max(a,l.x),i=Math.max(i,l.y)}var u=a-r,c=i-n,p=Math.max(u,c),h=Math.max(0,Math.floor(-Math.log(p)/Math.LN2)),f=Math.pow(2,h);return new e.CanonicalTileID(h,Math.floor((r+a)/2*f),Math.floor((n+i)/2*f))}(n),this.minzoom=this.maxzoom=this.tileID.z;var a=n.map((function(e){return r.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(a[0].x,a[0].y,0,0),this._boundsArray.emplaceBack(a[1].x,a[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(a[3].x,a[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(a[2].x,a[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var a=this.tiles[n];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented),D=function(t){function r(e,r,n,a){t.call(this,e,r,n,a),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this._loaded=!1;var r=this.options;this.urls=[];for(var n=0,a=r.urls;n<a.length;n+=1){var i=a[n];this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url)}e.getVideo(this.urls,(function(r,n){t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},r.prototype.pause=function(){this.video&&this.video.pause()},r.prototype.play=function(){this.video&&this.video.play()},r.prototype.seek=function(t){if(this.video){var r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("Playback for this video can be set only between the "+r.start(0)+" and "+r.end(0)+"-second mark."))):this.video.currentTime=t}},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var a=this.tiles[n];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(L),P=function(t){function r(r,n,a,i){t.call(this,r,n,a,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var a in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var i=this.tiles[a];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(L),z={vector:C,raster:I,"raster-dem":A,geojson:k,video:D,image:L,canvas:P},O=function(t,r,n,a){var i=new z[r.type](t,r,n,a);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return e.bindAll(["load","abort","unload","serialize","prepare"],i),i};function N(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function j(e,t,r,n,a){var i=function(e,t,r){if(e)for(var n=0,a=e;n<a.length;n+=1){var i=t[a[n]];if(i&&i.source===r&&"fill-extrusion"===i.type)return!0}else for(var o in t){var s=t[o];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(n&&n.layers,t,e.id),o=a.maxPitchScaleFactor(),s=e.tilesIn(r,o,i);s.sort(R);for(var l=[],u=0,c=s;u<c.length;u+=1){var p=c[u];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,n,a,o,N(e.transform,p.tileID))})}var h=function(e){for(var t={},r={},n=0,a=e;n<a.length;n+=1){var i=a[n],o=i.queryResults,s=i.wrappedTileID,l=r[s]=r[s]||{};for(var u in o)for(var c=o[u],p=l[u]=l[u]||{},h=t[u]=t[u]||[],f=0,d=c;f<d.length;f+=1){var y=d[f];p[y.featureIndex]||(p[y.featureIndex]=!0,h.push(y))}}return t}(l);for(var f in h)h[f].forEach((function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n}));return h}function R(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var F=function(e,t){this.max=e,this.onRemove=t,this.reset()};F.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},F.prototype.add=function(e,t,r){var n=this,a=e.wrapped().key;void 0===this.data[a]&&(this.data[a]=[]);var i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((function(){n.remove(e,i)}),r)),this.data[a].push(i),this.order.push(a),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},F.prototype.has=function(e){return e.wrapped().key in this.data},F.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},F.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},F.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},F.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),a=this.data[r][n];return this.data[r].splice(n,1),a.timeout&&clearTimeout(a.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(a.value),this.order.splice(this.order.indexOf(r),1),this},F.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},F.prototype.filter=function(e){var t=[];for(var r in this.data)for(var n=0,a=this.data[r];n<a.length;n+=1){var i=a[n];e(i.value)||t.push(i)}for(var o=0,s=t;o<s.length;o+=1){var l=s[o];this.remove(l.value.tileID,l)}};var B=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var a=e.gl;this.buffer=a.createBuffer(),e.bindVertexBuffer.set(this.buffer),a.bufferData(a.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},V.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],a=t.attributes[n.name];void 0!==a&&e.enableVertexAttribArray(a)}},V.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var a=this.attributes[n],i=t.attributes[a.name];void 0!==i&&e.vertexAttribPointer(i,a.components,e[U[a.type]],!1,this.itemSize,a.offset+this.itemSize*(r||0))}},V.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var q=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(e){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var W=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(q),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(q),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(q),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(q),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(q),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(q),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(q),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(q),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(q),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(q),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(q),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(q),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(q),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(q),ae=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(q),ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(q),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(q),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(q),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(q),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(q),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(q),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(q),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(q),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(q),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(q),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(q),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(q),me=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(q),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(q),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(q),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(q),be=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(q),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(be),Me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(be),Ee=function(e,t,r){this.context=e,this.width=t,this.height=r;var n=e.gl,a=this.framebuffer=n.createFramebuffer();this.colorAttachment=new we(e,a),this.depthAttachment=new Me(e,a)};Ee.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r),e.deleteFramebuffer(this.framebuffer)};var Se=function(e,t,r){this.func=e,this.mask=t,this.range=r};Se.ReadOnly=!1,Se.ReadWrite=!0,Se.disabled=new Se(519,Se.ReadOnly,[0,1]);var Te=function(e,t,r,n,a,i){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=a,this.pass=i};Te.disabled=new Te({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ie=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};Ie.disabled=new Ie(!1,1029,2305),Ie.backCCW=new Ie(!0,1029,2305);var Ae=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new G(this),this.clearStencil=new Y(this),this.colorMask=new Z(this),this.depthMask=new H(this),this.stencilMask=new Q(this),this.stencilFunc=new X(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new $(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ae(this),this.blendEquation=new ie(this),this.cullFace=new oe(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ue(this),this.activeTexture=new ce(this),this.viewport=new pe(this),this.bindFramebuffer=new he(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new de(this),this.bindVertexBuffer=new ye(this),this.bindElementBuffer=new ve(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new me(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new _e(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query")};Ae.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ae.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ae.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Ae.prototype.createVertexBuffer=function(e,t,r){return new V(this,e,t,r)},Ae.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,a=n.createRenderbuffer();return this.bindRenderbuffer.set(a),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),a},Ae.prototype.createFramebuffer=function(e,t){return new Ee(this,e,t)},Ae.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,a=0;t&&(a|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(a|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(a)},Ae.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ae.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ae.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ae.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ae.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ke=function(t){function r(r,n,a){var i=this;t.call(this),this.id=r,this.dispatcher=a,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))})),this.on("error",(function(){i._sourceErrored=!0})),this._source=O(r,n,a,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}},r.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Le)},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var a in this._tiles)this._isIdRenderable(+a,t)&&n.push(+a);return t?n.sort((function(t,n){var a=r._tiles[t].tileID,i=r._tiles[n].tileID,o=new e.Point(a.canonical.x,a.canonical.y)._rotate(r.transform.angle),s=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle);return a.overscaledZ-i.overscaledZ||s.y-o.y||s.x-o.x})):n.sort(Le)},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,a){if(a)return t.state="errored",void(404!==a.status?this._source.fire(new e.ErrorEvent(a,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var a=this.getTileByID(n);i(e,a),i(a,e)}}function i(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,a=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+a)?r+=a:1===Math.abs(r-a)&&(r-=a)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var a in this._tiles){var i=this._tiles[a];if(!(n[a]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>r)){for(var o=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[o.key]=o;break}}}},r.prototype.findLoadedParent=function(e,t){for(var r=e.overscaledZ-1;r>=t;r--){var n=e.scaledTo(r);if(!n)return;var a=String(n.key),i=this._tiles[a];if(i&&i.hasData())return i;if(this._cache.has(n))return this._cache.get(n)}},r.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),r=Math.floor(5*t),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},r.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,r=Math.round(t);if(this._prevLng=e,r){var n={};for(var a in this._tiles){var i=this._tiles[a];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var a;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?a=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(a=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(a=a.filter((function(e){return n._source.hasTile(e)})))):a=[];var i=t.coveringZoomLevel(this._source),o=Math.max(i-r.maxOverzooming,this._source.minzoom),s=Math.max(i+r.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(a,i);if(De(this._source.type)){for(var u={},c={},p=0,h=Object.keys(l);p<h.length;p+=1){var f=h[p],d=l[f],y=this._tiles[f];if(y&&!(y.fadeEndTime&&y.fadeEndTime<=e.browser.now())){var v=this.findLoadedParent(d,o);v&&(this._addTile(v.tileID),u[v.tileID.key]=v.tileID),c[f]=d}}for(var m in this._retainLoadedChildren(c,i,s,l),u)l[m]||(this._coveredTiles[m]=!0,l[m]=u[m])}for(var g in l)this._tiles[g].clearFadeHold();for(var _=0,x=e.keysDifference(this._tiles,l);_<x.length;_+=1){var b=x[_],w=this._tiles[b];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(b)}}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},a={},i=Math.max(t-r.maxOverzooming,this._source.minzoom),o=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],p=this._addTile(c);n[c.key]=c,p.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,o,n);for(var h=0,f=e;h<f.length;h+=1){var d=f[h],y=this._tiles[d.key];if(!y.hasData()){if(t+1>this._source.maxzoom){var v=d.children(this._source.maxzoom)[0],m=this.getTile(v);if(m&&m.hasData()){n[v.key]=v;continue}}else{var g=d.children(this._source.maxzoom);if(n[g[0].key]&&n[g[1].key]&&n[g[2].key]&&n[g[3].key])continue}for(var _=y.wasRequested(),x=d.overscaledZ-1;x>=i;--x){var b=d.scaledTo(x);if(a[b.key])break;if(a[b.key]=!0,!(y=this.getTile(b))&&_&&(y=this._addTile(b)),y&&(n[b.key]=b,_=y.wasRequested(),y.hasData()))break}}}return n},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){r._reloadTile(e,"expired"),delete r._timers[e]}),n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var a=this,i=[],o=this.transform;if(!o)return i;for(var s=n?o.getCameraQueryGeometry(t):t,l=t.map((function(e){return o.pointCoordinate(e)})),u=s.map((function(e){return o.pointCoordinate(e)})),c=this.getIds(),p=1/0,h=1/0,f=-1/0,d=-1/0,y=0,v=u;y<v.length;y+=1){var m=v[y];p=Math.min(p,m.x),h=Math.min(h,m.y),f=Math.max(f,m.x),d=Math.max(d,m.y)}for(var g=function(t){var n=a._tiles[c[t]];if(!n.holdingForFade()){var s=n.tileID,y=Math.pow(2,o.zoom-n.tileID.overscaledZ),v=r*n.queryPadding*e.EXTENT/n.tileSize/y,m=[s.getTilePoint(new e.MercatorCoordinate(p,h)),s.getTilePoint(new e.MercatorCoordinate(f,d))];if(m[0].x-v<e.EXTENT&&m[0].y-v<e.EXTENT&&m[1].x+v>=0&&m[1].y+v>=0){var g=l.map((function(e){return s.getTilePoint(e)})),_=u.map((function(e){return s.getTilePoint(e)}));i.push({tile:n,tileID:s,queryGeometry:g,cameraQueryGeometry:_,scale:y})}}},_=0;_<c.length;_++)g(_);return i},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),n=0,a=r;n<a.length;n+=1){var i=a[n];i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(De(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.updateState(e,t,r)},r.prototype.removeFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.removeFeatureState(e,t,r)},r.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},r.prototype.setDependencies=function(e,t,r){var n=this._tiles[e];n&&n.setDependencies(t,r)},r.prototype.reloadTilesForDependencies=function(e,t){for(var r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(r,"reloading");this._cache.filter((function(r){return!r.hasDependency(e,t)}))},r}(e.Evented);function Le(e,t){return e%32-t%32||t-e}function De(e){return"raster"===e||"image"===e||"video"===e}function Pe(){return new e.window.Worker(sa.workerUrl)}ke.maxOverzooming=10,ke.maxUnderzooming=3;var ze=function(){this.active={}};ze.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<ze.workerCount;)this.workers.push(new Pe);return this.active[e]=!0,this.workers.slice()},ze.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)};var Oe,Ne=Math.floor(e.browser.hardwareConcurrency/2);function je(t,r){var n={};for(var a in t)"ref"!==a&&(n[a]=t[a]);return e.refProperties.forEach((function(e){e in r&&(n[e]=r[e])})),n}function Re(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=je(e[n],t[e[n].ref]));return e}ze.workerCount=Math.max(Math.min(Ne,6),1);var Fe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Be(e,t,r){r.push({command:Fe.addSource,args:[e,t[e]]})}function Ue(e,t,r){t.push({command:Fe.removeSource,args:[e]}),r[e]=!0}function Ve(e,t,r,n){Ue(e,r,n),Be(e,t,r)}function qe(t,r,n){var a;for(a in t[n])if(t[n].hasOwnProperty(a)&&"data"!==a&&!e.deepEqual(t[n][a],r[n][a]))return!1;for(a in r[n])if(r[n].hasOwnProperty(a)&&"data"!==a&&!e.deepEqual(t[n][a],r[n][a]))return!1;return!0}function We(t,r,n,a,i,o){var s;for(s in r=r||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:o,args:[a,s,r[s],i]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],r[s])||n.push({command:o,args:[a,s,r[s],i]}))}function Ge(e){return e.id}function Ye(e,t){return e[t.id]=t,e}var Ze=function(e,t,r){var n=this.boxCells=[],a=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)n.push([]),a.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function He(t,r,n,a,i){var o=e.create();return r?(e.scale(o,o,[1/i,1/i,1]),n||e.rotateZ(o,o,a.angle)):e.multiply(o,a.labelPlaneMatrix,t),o}function Qe(t,r,n,a,i){if(r){var o=e.clone(t);return e.scale(o,o,[i,i,1]),n||e.rotateZ(o,o,-a.angle),o}return a.glCoordMatrix}function Xe(t,r){var n=[t.x,t.y,0,1];ot(n,n,r);var a=n[3];return{point:new e.Point(n[0]/a,n[1]/a),signedDistanceFromCamera:a}}function Ke(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function Je(t,r,n,a,i,o,s,l){var u=a?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,n.transform.zoom),p=[256/n.width*2+1,256/n.height*2+1],h=a?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;h.clear();for(var f=t.lineVertexArray,d=a?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=n.transform.width/n.transform.height,v=!1,m=0;m<d.length;m++){var g=d.get(m);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!v)it(g.numGlyphs,h);else{v=!1;var _=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(_,_,r),Ke(_,p)){var x=.5+_[3]/n.transform.cameraToCenterDistance*.5,b=e.evaluateSizeForFeature(u,c,g),w=s?b*x:b/x,M=new e.Point(g.anchorX,g.anchorY),E=Xe(M,i).point,S={},T=tt(g,w,!1,l,r,i,o,t.glyphOffsetArray,f,h,E,M,S,y);v=T.useVertical,(T.notEnoughRoom||v||T.needsFlipping&&tt(g,w,!0,l,r,i,o,t.glyphOffsetArray,f,h,E,M,S,y).notEnoughRoom)&&it(g.numGlyphs,h)}else it(g.numGlyphs,h)}}a?t.text.dynamicLayoutVertexBuffer.updateData(h):t.icon.dynamicLayoutVertexBuffer.updateData(h)}function $e(e,t,r,n,a,i,o,s,l,u,c,p){var h=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,y=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(h-1),m=nt(e*y,r,n,a,i,o,s.segment,f,d,l,u,c,p);if(!m)return null;var g=nt(e*v,r,n,a,i,o,s.segment,f,d,l,u,c,p);return g?{first:m,last:g}:null}function et(t,r,n,a){return t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*a?{useVertical:!0}:(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function tt(t,r,n,a,i,o,s,l,u,c,p,h,f,d){var y,v=r/24,m=t.lineOffsetX*v,g=t.lineOffsetY*v;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,x=t.lineStartIndex,b=t.lineStartIndex+t.lineLength,w=$e(v,l,m,g,n,p,h,t,u,o,f,!1);if(!w)return{notEnoughRoom:!0};var M=Xe(w.first.point,s).point,E=Xe(w.last.point,s).point;if(a&&!n){var S=et(t.writingMode,M,E,d);if(S)return S}y=[w.first];for(var T=t.glyphStartIndex+1;T<_-1;T++)y.push(nt(v*l.getoffsetX(T),m,g,n,p,h,t.segment,x,b,u,o,f,!1));y.push(w.last)}else{if(a&&!n){var C=Xe(h,i).point,I=t.lineStartIndex+t.segment+1,A=new e.Point(u.getx(I),u.gety(I)),k=Xe(A,i),L=k.signedDistanceFromCamera>0?k.point:rt(h,A,C,1,i),D=et(t.writingMode,C,L,d);if(D)return D}var P=nt(v*l.getoffsetX(t.glyphStartIndex),m,g,n,p,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,o,f,!1);if(!P)return{notEnoughRoom:!0};y=[P]}for(var z=0,O=y;z<O.length;z+=1){var N=O[z];e.addDynamicAttributes(c,N.point,N.angle)}return{}}function rt(e,t,r,n,a){var i=Xe(e.add(e.sub(t)._unit()),a).point,o=r.sub(i);return r.add(o._mult(n/o.mag()))}function nt(t,r,n,a,i,o,s,l,u,c,p,h,f){var d=a?t-r:t+r,y=d>0?1:-1,v=0;a&&(y*=-1,v=Math.PI),y<0&&(v+=Math.PI);for(var m=y>0?l+s:l+s+1,g=m,_=i,x=i,b=0,w=0,M=Math.abs(d);b+w<=M;){if((m+=y)<l||m>=u)return null;if(x=_,void 0===(_=h[m])){var E=new e.Point(c.getx(m),c.gety(m)),S=Xe(E,p);if(S.signedDistanceFromCamera>0)_=h[m]=S.point;else{var T=m-y;_=rt(0===b?o:new e.Point(c.getx(T),c.gety(T)),E,x,M-b+1,p)}}b+=w,w=x.dist(_)}var C=(M-b)/w,I=_.sub(x),A=I.mult(C)._add(x);return A._add(I._unit()._perp()._mult(n*y)),{point:A,angle:v+Math.atan2(_.y-x.y,_.x-x.x),tileDistance:f?{prevTileDistance:m-y===g?0:c.gettileUnitDistanceFromAnchor(m-y),lastSegmentViewportDistance:M-b}:null}}Ze.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ze.prototype.insert=function(e,t,r,n,a){this._forEachCell(t,r,n,a,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(a)},Ze.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},Ze.prototype._insertBoxCell=function(e,t,r,n,a,i){this.boxCells[a].push(i)},Ze.prototype._insertCircleCell=function(e,t,r,n,a,i){this.circleCells[a].push(i)},Ze.prototype._query=function(e,t,r,n,a,i){if(r<0||e>this.width||n<0||t>this.height)return!a&&[];var o=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(a)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return i?o.filter(i):o}var h={hitTest:a,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,r,n,this._queryCell,o,h,i),a?o.length>0:o},Ze.prototype._queryCircle=function(e,t,r,n,a){var i=e-r,o=e+r,s=t-r,l=t+r;if(o<0||i>this.width||l<0||s>this.height)return!n&&[];var u=[],c={hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(i,s,o,l,this._queryCellCircle,u,c,a),n?u.length>0:u},Ze.prototype.query=function(e,t,r,n,a){return this._query(e,t,r,n,!1,a)},Ze.prototype.hitTest=function(e,t,r,n,a){return this._query(e,t,r,n,!0,a)},Ze.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},Ze.prototype._queryCell=function(e,t,r,n,a,i,o,s){var l=o.seenUids,u=this.boxCells[a];if(null!==u)for(var c=this.bboxes,p=0,h=u;p<h.length;p+=1){var f=h[p];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(e<=c[d+2]&&t<=c[d+3]&&r>=c[d+0]&&n>=c[d+1]&&(!s||s(this.boxKeys[f]))){if(o.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[f],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var y=this.circleCells[a];if(null!==y)for(var v=this.circles,m=0,g=y;m<g.length;m+=1){var _=g[m];if(!l.circle[_]){l.circle[_]=!0;var x=3*_;if(this._circleAndRectCollide(v[x],v[x+1],v[x+2],e,t,r,n)&&(!s||s(this.circleKeys[_]))){if(o.hitTest)return i.push(!0),!0;var b=v[x],w=v[x+1],M=v[x+2];i.push({key:this.circleKeys[_],x1:b-M,y1:w-M,x2:b+M,y2:w+M})}}}},Ze.prototype._queryCellCircle=function(e,t,r,n,a,i,o,s){var l=o.circle,u=o.seenUids,c=this.boxCells[a];if(null!==c)for(var p=this.bboxes,h=0,f=c;h<f.length;h+=1){var d=f[h];if(!u.box[d]){u.box[d]=!0;var y=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[y+0],p[y+1],p[y+2],p[y+3])&&(!s||s(this.boxKeys[d])))return i.push(!0),!0}}var v=this.circleCells[a];if(null!==v)for(var m=this.circles,g=0,_=v;g<_.length;g+=1){var x=_[g];if(!u.circle[x]){u.circle[x]=!0;var b=3*x;if(this._circlesCollide(m[b],m[b+1],m[b+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return i.push(!0),!0}}},Ze.prototype._forEachCell=function(e,t,r,n,a,i,o,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),p=this._convertToYCellCoord(n),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.xCellCount*f+h;if(a.call(this,e,t,r,n,d,i,o,s))return}},Ze.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ze.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ze.prototype._circlesCollide=function(e,t,r,n,a,i){var o=n-e,s=a-t,l=r+i;return l*l>o*o+s*s},Ze.prototype._circleAndRectCollide=function(e,t,r,n,a,i,o){var s=(i-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;var u=(o-a)/2,c=Math.abs(t-(a+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;var p=l-s,h=c-u;return p*p+h*h<=r*r};var at=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function it(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(at,3*n)}}function ot(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e[3]=r[3]*n+r[7]*a+r[15],e}var st=function(e,t,r){void 0===t&&(t=new Ze(e.width+200,e.height+200,25)),void 0===r&&(r=new Ze(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function lt(e,t,r){e[t+4]=r?1:0}function ut(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}st.prototype.placeCollisionBox=function(e,t,r,n,a){var i=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),o=r*i.perspectiveRatio,s=e.x1*o+i.point.x,l=e.y1*o+i.point.y,u=e.x2*o+i.point.x,c=e.y2*o+i.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,a)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},st.prototype.approximateTileDistance=function(e,t,r,n,a){var i=a?1:n/this.pitchfactor,o=e.lastSegmentViewportDistance*r;return e.prevTileDistance+o+(i-1)*o*Math.abs(Math.sin(t))},st.prototype.placeCollisionCircles=function(t,r,n,a,i,o,s,l,u,c,p,h,f){var d=[],y=this.projectAnchor(u,i.anchorX,i.anchorY),v=l/24,m=i.lineOffsetX*l,g=i.lineOffsetY*l,_=new e.Point(i.anchorX,i.anchorY),x=$e(v,s,m,g,!1,Xe(_,c).point,_,i,o,c,{},!0),b=!1,w=!1,M=!0,E=y.perspectiveRatio*a,S=1/(a*n),T=0,C=0;x&&(T=this.approximateTileDistance(x.first.tileDistance,x.first.angle,S,y.cameraDistance,h),C=this.approximateTileDistance(x.last.tileDistance,x.last.angle,S,y.cameraDistance,h));for(var I=0;I<t.length;I+=5){var A=t[I],k=t[I+1],L=t[I+2],D=t[I+3];if(!x||D<-T||D>C)lt(t,I,!1);else{var P=this.projectPoint(u,A,k),z=L*E;if(d.length>0){var O=P.x-d[d.length-4],N=P.y-d[d.length-3];if(z*z*2>O*O+N*N&&I+8<t.length){var j=t[I+8];if(j>-T&&j<C){lt(t,I,!1);continue}}}var R=I/5;d.push(P.x,P.y,z,R),lt(t,I,!0);var F=P.x-z,B=P.y-z,U=P.x+z,V=P.y+z;if(M=M&&this.isOffscreen(F,B,U,V),w=w||this.isInsideGrid(F,B,U,V),!r&&this.grid.hitTestCircle(P.x,P.y,z,f)){if(!p)return{circles:[],offscreen:!1};b=!0}}}return{circles:b||!w?[]:d,offscreen:M}},st.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,a=1/0,i=-1/0,o=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);n=Math.min(n,c.x),a=Math.min(a,c.y),i=Math.max(i,c.x),o=Math.max(o,c.y),r.push(c)}for(var p={},h={},f=0,d=this.grid.query(n,a,i,o).concat(this.ignoredGrid.query(n,a,i,o));f<d.length;f+=1){var y=d[f],v=y.key;if(void 0===p[v.bucketInstanceId]&&(p[v.bucketInstanceId]={}),!p[v.bucketInstanceId][v.featureIndex]){var m=[new e.Point(y.x1,y.y1),new e.Point(y.x2,y.y1),new e.Point(y.x2,y.y2),new e.Point(y.x1,y.y2)];e.polygonIntersectsPolygon(r,m)&&(p[v.bucketInstanceId][v.featureIndex]=!0,void 0===h[v.bucketInstanceId]&&(h[v.bucketInstanceId]=[]),h[v.bucketInstanceId].push(v.featureIndex))}}return h},st.prototype.insertCollisionBox=function(e,t,r,n,a){var i={bucketInstanceId:r,featureIndex:n,collisionGroupID:a};(t?this.ignoredGrid:this.grid).insert(i,e[0],e[1],e[2],e[3])},st.prototype.insertCollisionCircles=function(e,t,r,n,a){for(var i=t?this.ignoredGrid:this.grid,o={bucketInstanceId:r,featureIndex:n,collisionGroupID:a},s=0;s<e.length;s+=4)i.insertCircle(o,e[s],e[s+1],e[s+2])},st.prototype.projectAnchor=function(e,t,r){var n=[t,r,0,1];return ot(n,n,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},st.prototype.projectPoint=function(t,r,n){var a=[r,n,0,1];return ot(a,a,t),new e.Point((a[0]/a[3]+1)/2*this.transform.width+100,(-a[1]/a[3]+1)/2*this.transform.height+100)},st.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var a=[r,n,0,1];return ot(a,a,t),{point:new e.Point((a[0]/a[3]+1)/2*this.transform.width+100,(-a[1]/a[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/a[3]*.5}},st.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},st.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary};var ct=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};ct.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pt=function(e,t,r,n,a){this.text=new ct(e?e.text:null,t,r,a),this.icon=new ct(e?e.icon:null,t,n,a)};pt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ht=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},ft=function(e,t,r,n,a){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=a},dt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function yt(t,r,n,a,i){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*r,l=-(o.verticalAlign-.5)*n,u=e.evaluateVariableOffset(t,a);return new e.Point(s+u[0]*i,l+u[1]*i)}function vt(t,r,n,a,i,o){var s=t.x1,l=t.x2,u=t.y1,c=t.y2,p=t.anchorPointX,h=t.anchorPointY,f=new e.Point(r,n);return a&&f._rotate(i?o:-o),{x1:s+f.x,y1:u+f.y,x2:l+f.x,y2:c+f.y,anchorPointX:p,anchorPointY:h}}dt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var mt=function(e,t,r,n){this.transform=e.clone(),this.collisionIndex=new st(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new dt(r),this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function gt(e,t,r,n,a){e.emplaceBack(t?1:0,r?1:0,n||0,a||0),e.emplaceBack(t?1:0,r?1:0,n||0,a||0),e.emplaceBack(t?1:0,r?1:0,n||0,a||0),e.emplaceBack(t?1:0,r?1:0,n||0,a||0)}mt.prototype.placeLayerTile=function(t,r,n,a){var i=r.getBucket(t),o=r.latestFeatureIndex;if(i&&o&&t.id===i.layerIds[0]){var s=r.collisionBoxArray,l=i.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h=He(p,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,ut(r,1,this.transform.zoom)),f=He(p,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,ut(r,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new ft(i.bucketInstanceId,o,i.sourceLayerIndex,i.index,r.tileID),this.placeLayerBucket(i,p,h,f,u,c,n,r.holdingForFade(),a,s)}},mt.prototype.attemptAnchorPlacement=function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d){var y,v=[p.textOffset0,p.textOffset1],m=yt(e,r,n,v,a),g=this.collisionIndex.placeCollisionBox(vt(t,m.x,m.y,i,o,this.transform.angle),c,s,l,u.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(vt(d,m.x,m.y,i,o,this.transform.angle),c,s,l,u.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(y=this.prevPlacement.variableOffsets[p.crossTileID].anchor),this.variableOffsets[p.crossTileID]={textOffset:v,width:r,height:n,anchor:e,textBoxScale:a,prevAnchor:y},this.markUsedJustification(h,e,p,f),h.allowVerticalPlacement&&(this.markUsedOrientation(h,f,p),this.placedOrientations[p.crossTileID]=f),{shift:m,placedGlyphBoxes:g}):void 0},mt.prototype.placeLayerBucket=function(t,r,n,a,i,o,s,l,u,c){var p=this,h=t.layers[0].layout,f=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom),d=h.get("text-optional"),y=h.get("icon-optional"),v=h.get("text-allow-overlap"),m=h.get("icon-allow-overlap"),g=v&&(m||!t.hasIconData()||y),_=m&&(v||!t.hasTextData()||d),x=this.collisionGroups.get(t.sourceID),b="map"===h.get("text-rotation-alignment"),w="map"===h.get("text-pitch-alignment"),M="none"!==h.get("icon-text-fit"),E="viewport-y"===h.get("symbol-z-order");!t.collisionArrays&&c&&t.deserializeCollisionBoxes(c);var S=function(a,c){if(!u[a.crossTileID])if(l)p.placements[a.crossTileID]=new ht(!1,!1,!1);else{var E,S=!1,T=!1,C=!0,I=null,A={box:null,offscreen:null},k={box:null,offscreen:null},L=null,D=null,P=0,z=0,O=0;c.textFeatureIndex&&(P=c.textFeatureIndex),c.verticalTextFeatureIndex&&(z=c.verticalTextFeatureIndex);var N=c.textBox;if(N){var j=function(r){var n=e.WritingMode.horizontal;if(t.allowVerticalPlacement&&!r&&p.prevPlacement){var i=p.prevPlacement.placedOrientations[a.crossTileID];i&&(p.placedOrientations[a.crossTileID]=i,n=i,p.markUsedOrientation(t,n,a))}return n},R=function(r,n){if(t.allowVerticalPlacement&&a.numVerticalGlyphVertices>0&&c.verticalTextBox)for(var i=0,o=t.writingModes;i<o.length&&(o[i]===e.WritingMode.vertical?(A=n(),k=A):A=r(),!(A&&A.box&&A.box.length));i+=1);else A=r()};if(h.get("text-variable-anchor")){var F=h.get("text-variable-anchor");if(p.prevPlacement&&p.prevPlacement.variableOffsets[a.crossTileID]){var B=p.prevPlacement.variableOffsets[a.crossTileID];F.indexOf(B.anchor)>0&&(F=F.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var U=function(e,n,i){for(var s=e.x2-e.x1,l=e.y2-e.y1,u=a.textBoxScale,c=M&&!m?n:null,h={box:[],offscreen:!1},f=v?2*F.length:F.length,d=0;d<f;++d){var y=F[d%F.length],g=d>=F.length,_=p.attemptAnchorPlacement(y,e,s,l,u,b,w,o,r,x,g,a,t,i,c);if(_&&(h=_.placedGlyphBoxes)&&h.box&&h.box.length){S=!0,I=_.shift;break}}return h};R((function(){return U(N,c.iconBox,e.WritingMode.horizontal)}),(function(){var r=c.verticalTextBox,n=A&&A.box&&A.box.length;return t.allowVerticalPlacement&&!n&&a.numVerticalGlyphVertices>0&&r?U(r,c.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),A&&(S=A.box,C=A.offscreen);var V=j(A&&A.box);if(!S&&p.prevPlacement){var q=p.prevPlacement.variableOffsets[a.crossTileID];q&&(p.variableOffsets[a.crossTileID]=q,p.markUsedJustification(t,q.anchor,a,V))}}else{var W=function(e,n){var i=p.collisionIndex.placeCollisionBox(e,h.get("text-allow-overlap"),o,r,x.predicate);return i&&i.box&&i.box.length&&(p.markUsedOrientation(t,n,a),p.placedOrientations[a.crossTileID]=n),i};R((function(){return W(N,e.WritingMode.horizontal)}),(function(){var r=c.verticalTextBox;return t.allowVerticalPlacement&&a.numVerticalGlyphVertices>0&&r?W(r,e.WritingMode.vertical):{box:null,offscreen:null}})),j(A&&A.box&&A.box.length)}}S=(E=A)&&E.box&&E.box.length>0,C=E&&E.offscreen;var G=c.textCircles;if(G){var Y=t.text.placedSymbolArray.get(a.centerJustifiedTextSymbolIndex),Z=e.evaluateSizeForFeature(t.textSizeData,f,Y);L=p.collisionIndex.placeCollisionCircles(G,h.get("text-allow-overlap"),i,o,Y,t.lineVertexArray,t.glyphOffsetArray,Z,r,n,s,w,x.predicate),S=h.get("text-allow-overlap")||L.circles.length>0,C=C&&L.offscreen}if(c.iconFeatureIndex&&(O=c.iconFeatureIndex),c.iconBox){var H=function(e){var t=M&&I?vt(e,I.x,I.y,b,w,p.transform.angle):e;return p.collisionIndex.placeCollisionBox(t,h.get("icon-allow-overlap"),o,r,x.predicate)};T=k&&k.box&&k.box.length&&c.verticalIconBox?(D=H(c.verticalIconBox)).box.length>0:(D=H(c.iconBox)).box.length>0,C=C&&D.offscreen}var Q=d||0===a.numHorizontalGlyphVertices&&0===a.numVerticalGlyphVertices,X=y||0===a.numIconVertices;Q||X?X?Q||(T=T&&S):S=T&&S:T=S=T&&S,S&&E&&E.box&&(k&&k.box&&z?p.collisionIndex.insertCollisionBox(E.box,h.get("text-ignore-placement"),t.bucketInstanceId,z,x.ID):p.collisionIndex.insertCollisionBox(E.box,h.get("text-ignore-placement"),t.bucketInstanceId,P,x.ID)),T&&D&&p.collisionIndex.insertCollisionBox(D.box,h.get("icon-ignore-placement"),t.bucketInstanceId,O,x.ID),S&&L&&p.collisionIndex.insertCollisionCircles(L.circles,h.get("text-ignore-placement"),t.bucketInstanceId,P,x.ID),p.placements[a.crossTileID]=new ht(S||g,T||_,C||t.justReloaded),u[a.crossTileID]=!0}};if(E)for(var T=t.getSortedSymbolIndexes(this.transform.angle),C=T.length-1;C>=0;--C){var I=T[C];S(t.symbolInstances.get(I),t.collisionArrays[I])}else for(var A=0;A<t.symbolInstances.length;++A)S(t.symbolInstances.get(A),t.collisionArrays[A]);t.justReloaded=!1},mt.prototype.markUsedJustification=function(t,r,n,a){var i,o={left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex};i=a===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:o[e.getAnchorJustification(r)];for(var s=0,l=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];s<l.length;s+=1){var u=l[s];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=i>=0&&u!==i?0:n.crossTileID)}},mt.prototype.markUsedOrientation=function(t,r,n){for(var a=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,i=r===e.WritingMode.vertical?r:0,o=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];o<s.length;o+=1){var l=s[o];t.text.placedSymbolArray.get(l).placedOrientation=a}n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=i)},mt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,a=t?t.opacities:{},i=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=a[s];u?(this.opacities[s]=new pt(u,n,l.text,l.icon),r=r||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new pt(null,n,l.text,l.icon,l.skipFade),r=r||l.text||l.icon)}for(var c in a){var p=a[c];if(!this.opacities[c]){var h=new pt(p,n,!1,!1);h.isHidden()||(this.opacities[c]=h,r=r||p.text.placed||p.icon.placed)}}for(var f in i)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=i[f]);for(var d in o)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=o[d]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},mt.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,a=t;n<a.length;n+=1){var i=a[n],o=i.getBucket(e);o&&i.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,i.collisionBoxArray)}},mt.prototype.updateBucketOpacities=function(t,r,n){var a=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear(),t.hasIconCollisionCircleData()&&t.iconCollisionCircle.collisionVertexArray.clear(),t.hasTextCollisionCircleData()&&t.textCollisionCircle.collisionVertexArray.clear();var i=t.layers[0].layout,o=new pt(null,0,!1,!1,!0),s=i.get("text-allow-overlap"),l=i.get("icon-allow-overlap"),u=i.get("text-variable-anchor"),c="map"===i.get("text-rotation-alignment"),p="map"===i.get("text-pitch-alignment"),h="none"!==i.get("icon-text-fit"),f=new pt(null,0,s&&(l||!t.hasIconData()||i.get("icon-optional")),l&&(s||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasIconCollisionCircleData()||t.hasTextCollisionBoxData()||t.hasTextCollisionCircleData())&&t.deserializeCollisionBoxes(n);for(var d=function(e,t,r){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)},y=function(n){var i=t.symbolInstances.get(n),s=i.numHorizontalGlyphVertices,l=i.numVerticalGlyphVertices,y=i.crossTileID,v=r[y],m=a.opacities[y];v?m=o:m||(m=f,a.opacities[y]=m),r[y]=!0;var g=s>0||l>0,_=i.numIconVertices>0,x=a.placedOrientations[i.crossTileID],b=x===e.WritingMode.vertical,w=x===e.WritingMode.horizontal||x===e.WritingMode.horizontalOnly;if(g){var M=Tt(m.text),E=b?Ct:M;d(t.text,s,E);var S=w?Ct:M;d(t.text,l,S);var T=m.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=T||b?1:0)})),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=T||w?1:0);var C=a.variableOffsets[i.crossTileID];C&&a.markUsedJustification(t,C.anchor,i,x);var I=a.placedOrientations[i.crossTileID];I&&(a.markUsedJustification(t,"left",i,I),a.markUsedOrientation(t,I,i))}if(_){var A=Tt(m.icon),k=!(h&&i.verticalPlacedIconSymbolIndex&&b);if(i.placedIconSymbolIndex>=0){var L=k?A:Ct;d(t.icon,i.numIconVertices,L),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=m.icon.isHidden()}if(i.verticalPlacedIconSymbolIndex>=0){var D=k?Ct:A;d(t.icon,i.numVerticalIconVertices,D),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden()}}if(t.hasIconCollisionBoxData()||t.hasIconCollisionCircleData()||t.hasTextCollisionBoxData()||t.hasTextCollisionCircleData()){var P=t.collisionArrays[n];if(P){var z=new e.Point(0,0);if(P.textBox||P.verticalTextBox){var O=!0;if(u){var N=a.variableOffsets[y];N?(z=yt(N.anchor,N.width,N.height,N.textOffset,N.textBoxScale),c&&z._rotate(p?a.transform.angle:-a.transform.angle)):O=!1}P.textBox&&gt(t.textCollisionBox.collisionVertexArray,m.text.placed,!O||b,z.x,z.y),P.verticalTextBox&&gt(t.textCollisionBox.collisionVertexArray,m.text.placed,!O||w,z.x,z.y)}var j=Boolean(!w&&P.verticalIconBox);P.iconBox&&gt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,j,h?z.x:0,h?z.y:0),P.verticalIconBox&&gt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!j,h?z.x:0,h?z.y:0);var R=P.textCircles;if(R&&t.hasTextCollisionCircleData())for(var F=0;F<R.length;F+=5){var B=v||0===R[F+4];gt(t.textCollisionCircle.collisionVertexArray,m.text.placed,B)}}}},v=0;v<t.symbolInstances.length;v++)y(v);t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.hasIconCollisionCircleData()&&t.iconCollisionCircle.collisionVertexBuffer&&t.iconCollisionCircle.collisionVertexBuffer.updateData(t.iconCollisionCircle.collisionVertexArray),t.hasTextCollisionCircleData()&&t.textCollisionCircle.collisionVertexBuffer&&t.textCollisionCircle.collisionVertexBuffer.updateData(t.textCollisionCircle.collisionVertexArray)},mt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},mt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},mt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},mt.prototype.stillRecent=function(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e},mt.prototype.setStale=function(){this.stale=!0};var _t=Math.pow(2,25),xt=Math.pow(2,24),bt=Math.pow(2,17),wt=Math.pow(2,16),Mt=Math.pow(2,9),Et=Math.pow(2,8),St=Math.pow(2,1);function Tt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*_t+t*xt+r*bt+t*wt+r*Mt+t*Et+r*St+t}var Ct=0,It=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};It.prototype.continuePlacement=function(e,t,r,n,a){for(;this._currentTileIndex<e.length;){var i=e[this._currentTileIndex];if(t.placeLayerTile(n,i,r,this._seenCrossTileIDs),this._currentTileIndex++,a())return!0}};var At=function(e,t,r,n,a,i,o){this.placement=new mt(e,a,i,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};At.prototype.isDone=function(){return this._done},At.prototype.continuePlacement=function(t,r,n){for(var a=this,i=e.browser.now(),o=function(){var t=e.browser.now()-i;return!a._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new It),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},At.prototype.commit=function(e){return this.placement.commit(e),this.placement};var kt=512/e.EXTENT/2,Lt=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var a=t.get(n),i=a.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:a.crossTileID,coord:this.getScaledCoordinates(a,e)})}};Lt.prototype.getScaledCoordinates=function(t,r){var n=r.canonical.z-this.tileID.canonical.z,a=kt/Math.pow(2,n);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*a),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*a)}},Lt.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),a=0;a<e.length;a++){var i=e.get(a);if(!i.crossTileID){var o=this.indexedSymbolInstances[i.key];if(o)for(var s=this.getScaledCoordinates(i,t),l=0,u=o;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=n&&Math.abs(c.coord.y-s.y)<=n&&!r[c.crossTileID]){r[c.crossTileID]=!0,i.crossTileID=c.crossTileID;break}}}}};var Dt=function(){this.maxCrossTileID=0};Dt.prototype.generate=function(){return++this.maxCrossTileID};var Pt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Pt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],a={};for(var i in n){var o=n[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),a[o.tileID.key]=o}this.indexes[r]=a}this.lng=e},Pt.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var a=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var o=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,a)}else{var u=o[e.scaledTo(Number(i)).key];u&&u.findMatches(t.symbolInstances,e,a)}}for(var c=0;c<t.symbolInstances.length;c++){var p=t.symbolInstances.get(c);p.crossTileID||(p.crossTileID=r.generate(),a[p.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Lt(e,t.symbolInstances,t.bucketInstanceId),!0},Pt.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,a=t.indexedSymbolInstances[r];n<a.length;n+=1){var i=a[n];delete this.usedCrossTileIDs[e][i.crossTileID]}},Pt.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var a in n)e[n[a].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[a]),delete n[a],t=!0)}return t};var zt=function(){this.layerIndexes={},this.crossTileIDs=new Dt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};zt.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Pt);var a=!1,i={};n.handleWrapJump(r);for(var o=0,s=t;o<s.length;o+=1){var l=s[o],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,u,this.crossTileIDs)&&(a=!0),i[u.bucketInstanceId]=!0)}return n.removeStaleBuckets(i)&&(a=!0),a},zt.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var Ot=function(t,r){return e.emitValidationErrors(t,r&&r.filter((function(e){return"source.canvas"!==e.identifier})))},Nt=e.pick(Fe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),jt=e.pick(Fe,["setCenter","setZoom","setBearing","setPitch"]),Rt=function(t){function r(n,a){var i=this;void 0===a&&(a={}),t.call(this),this.map=n,this.dispatcher=new E((Oe||(Oe=new ze),Oe),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new _(n._requestManager,a.localIdeographFontFamily),this.lineAtlas=new M(256,512),this.crossTileSymbolIndex=new zt,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var o=this;this._rtlTextPluginCallback=r.registerForPluginStateChange((function(t){var r={pluginStatus:t.pluginStatus,pluginURL:t.pluginURL,pluginBlobURL:t.pluginBlobURL};o.dispatcher.broadcast("syncRTLPluginState",r,(function(t,r){if(e.triggerPluginCompletionEvent(t),r&&r.every((function(e){return e})))for(var n in o.sourceCaches)o.sourceCaches[n].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in i._layers){var a=i._layers[n];a.source===r.id&&i._validateLayer(a)}}}}))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var a="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,a)}))},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))},r.prototype._load=function(t,r){var n=this;if(!r||!Ot(this,e.validateStyle(t))){for(var a in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(a,t.sources[a],{validate:!1});t.sprite?this._spriteRequest=function(t,r,n){var a,i,o,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,o||(o=e,a=t,c())})),u=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,o||(o=e,i=t,c())}));function c(){if(o)n(o);else if(a&&i){var t=e.browser.getImageData(i),r={};for(var s in a){var l=a[s],u=l.width,c=l.height,p=l.x,h=l.y,f=l.sdf,d=l.pixelRatio,y=l.stretchX,v=l.stretchY,m=l.content,g=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,g,{x:p,y:h},{x:0,y:0},{width:u,height:c}),r[s]={data:g,pixelRatio:d,sdf:f,stretchX:y,stretchY:v,content:m}}n(null,r)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t.sprite,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var a in r)n.imageManager.addImage(a,r[a]);n.imageManager.setLoaded(!0),n.dispatcher.broadcast("setImages",n.imageManager.listImages()),n.fire(new e.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Re(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={};for(var o=0,s=i;o<s.length;o+=1){var l=s[o];(l=e.createStyleLayer(l)).setEventedParent(this,{layer:{id:l.id}}),this._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var a=r.getSource();("geojson"===a.type||a.vectorLayerIds&&-1===a.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+a.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var a=n[r],i=this._layers[a];"custom"!==i.type&&t.push(i.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),a=Object.keys(this._removedLayers);for(var i in(n.length||a.length)&&this._updateWorkerLayers(n,a),this._updatedSources){var o=this._updatedSources[i];"reload"===o?this._reloadSource(i):"clear"===o&&this._clearSource(i)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var u=0,c=this._order;u<c.length;u+=1){var p=c[u],h=this._layers[p];h.recalculate(t,this.imageManager.listImages()),!h.isHidden(t.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),Ot(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Re(t.layers);var n=function(t,r){if(!t)return[{command:Fe.setStyle,args:[r]}];var n=[];try{if(!e.deepEqual(t.version,r.version))return[{command:Fe.setStyle,args:[r]}];e.deepEqual(t.center,r.center)||n.push({command:Fe.setCenter,args:[r.center]}),e.deepEqual(t.zoom,r.zoom)||n.push({command:Fe.setZoom,args:[r.zoom]}),e.deepEqual(t.bearing,r.bearing)||n.push({command:Fe.setBearing,args:[r.bearing]}),e.deepEqual(t.pitch,r.pitch)||n.push({command:Fe.setPitch,args:[r.pitch]}),e.deepEqual(t.sprite,r.sprite)||n.push({command:Fe.setSprite,args:[r.sprite]}),e.deepEqual(t.glyphs,r.glyphs)||n.push({command:Fe.setGlyphs,args:[r.glyphs]}),e.deepEqual(t.transition,r.transition)||n.push({command:Fe.setTransition,args:[r.transition]}),e.deepEqual(t.light,r.light)||n.push({command:Fe.setLight,args:[r.light]});var a={},i=[];!function(t,r,n,a){var i;for(i in r=r||{},t=t||{})t.hasOwnProperty(i)&&(r.hasOwnProperty(i)||Ue(i,n,a));for(i in r)r.hasOwnProperty(i)&&(t.hasOwnProperty(i)?e.deepEqual(t[i],r[i])||("geojson"===t[i].type&&"geojson"===r[i].type&&qe(t,r,i)?n.push({command:Fe.setGeoJSONSourceData,args:[i,r[i].data]}):Ve(i,r,n,a)):Be(i,r,n))}(t.sources,r.sources,i,a);var o=[];t.layers&&t.layers.forEach((function(e){a[e.source]?n.push({command:Fe.removeLayer,args:[e.id]}):o.push(e)})),n=n.concat(i),function(t,r,n){r=r||[];var a,i,o,s,l,u,c,p=(t=t||[]).map(Ge),h=r.map(Ge),f=t.reduce(Ye,{}),d=r.reduce(Ye,{}),y=p.slice(),v=Object.create(null);for(a=0,i=0;a<p.length;a++)o=p[a],d.hasOwnProperty(o)?i++:(n.push({command:Fe.removeLayer,args:[o]}),y.splice(y.indexOf(o,i),1));for(a=0,i=0;a<h.length;a++)o=h[h.length-1-a],y[y.length-1-a]!==o&&(f.hasOwnProperty(o)?(n.push({command:Fe.removeLayer,args:[o]}),y.splice(y.lastIndexOf(o,y.length-i),1)):i++,u=y[y.length-a],n.push({command:Fe.addLayer,args:[d[o],u]}),y.splice(y.length-a,0,o),v[o]=!0);for(a=0;a<h.length;a++)if(s=f[o=h[a]],l=d[o],!v[o]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(c in We(s.layout,l.layout,n,o,null,Fe.setLayoutProperty),We(s.paint,l.paint,n,o,null,Fe.setPaintProperty),e.deepEqual(s.filter,l.filter)||n.push({command:Fe.setFilter,args:[o,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:Fe.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?We(s[c],l[c],n,o,c.slice(6),Fe.setPaintProperty):e.deepEqual(s[c],l[c])||n.push({command:Fe.setLayerProperty,args:[o,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?We(s[c],l[c],n,o,c.slice(6),Fe.setPaintProperty):e.deepEqual(s[c],l[c])||n.push({command:Fe.setLayerProperty,args:[o,c,l[c]]}))}else n.push({command:Fe.removeLayer,args:[o]}),u=y[y.lastIndexOf(o)+1],n.push({command:Fe.addLayer,args:[l,u]})}(o,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Fe.setStyle,args:[r]}]}return n}(this.serialize(),t).filter((function(e){return!(e.command in jt)}));if(0===n.length)return!1;var a=n.filter((function(e){return!(e.command in Nt)}));if(a.length>0)throw new Error("Unimplemented: "+a.map((function(e){return e.command})).join(", ")+".");return n.forEach((function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this._changedImages[t]=!0,this._changed=!0,this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._changedImages[t]=!0,this._changed=!0,this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var a=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,r,null,n))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[t]=new ke(t,r,this.dispatcher);i.style=this,i.setEventedParent(this,(function(){return{isSourceLoaded:a.loaded(),source:i.serialize(),sourceId:t}})),i.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var a=t.id;if(this.getLayer(a))this.fire(new e.ErrorEvent(new Error('Layer with id "'+a+'" already exists on this map')));else{var i;if("custom"===t.type){if(Ot(this,e.validateCustomStyleLayer(t)))return;i=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(a,t.source),t=e.clone$1(t),t=e.extend(t,{source:a})),this._validate(e.validateStyle.layer,"layers."+a,t,{arrayIndex:-1},n))return;i=e.createStyleLayer(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:a}})}var o=r?this._order.indexOf(r):this._order.length;if(r&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(o,0,a),this._layerOrderChanged=!0,this._layers[a]=i,this._removedLayers[a]&&i.source&&"custom"!==i.type){var s=this._removedLayers[a];delete this._removedLayers[a],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var a=r?this._order.indexOf(r):this._order.length;r&&-1===a?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(a,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var a=this.getLayer(t);a?a.minzoom===r&&a.maxzoom===n||(null!=r&&(a.minzoom=r),null!=n&&(a.maxzoom=n),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var a=this.getLayer(t);if(a){if(!e.deepEqual(a.filter,r))return null==r?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateStyle.filter,"layers."+a.id+".filter",r,null,n)||(a.filter=e.clone$1(r),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,a){void 0===a&&(a={}),this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.getLayoutProperty(r),n)||(i.setLayoutProperty(r,n,a),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,a){void 0===a&&(a={}),this._checkLoaded();var i=this.getLayer(t);i?e.deepEqual(i.getPaintProperty(r),n)||(i.setPaintProperty(r,n,a)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,a=t.sourceLayer,i=this.sourceCaches[n],o=parseInt(t.id,10);if(void 0!==i){var s=i.getSource().type;"geojson"===s&&a?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||a?isNaN(o)||o<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(a,o,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,a=this.sourceCaches[n];if(void 0!==a){var i=a.getSource().type,o="vector"===i?t.sourceLayer:void 0,s=parseInt(t.id,10);"vector"!==i||o?void 0!==t.id&&isNaN(s)||s<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be non-negative."))):r&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):a.removeFeatureState(o,s,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,a=this.sourceCaches[r],i=parseInt(t.id,10);if(void 0!==a)if("vector"!==a.getSource().type||n){if(!(isNaN(i)||i<0))return a.getFeatureState(n,i);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},a=[],i=this._order.length-1;i>=0;i--){var o=this._order[i];if(r(o)){n[o]=i;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][o];if(u)for(var c=0,p=u;c<p.length;c+=1){var h=p[c];a.push(h)}}}}a.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var f=[],d=this._order.length-1;d>=0;d--){var y=this._order[d];if(r(y))for(var v=a.length-1;v>=0;v--){var m=a[v].feature;if(n[m.layer.id]<d)break;f.push(m),a.pop()}else for(var g=0,_=e;g<_.length;g+=1){var x=_[g][y];if(x)for(var b=0,w=x;b<w.length;b+=1){var M=w[b];f.push(M.feature)}}}return f},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter,null,r);var a={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,o=r.layers;i<o.length;i+=1){var s=o[i],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];a[l.source]=!0}}var u=[];for(var c in this.sourceCaches)r.layers&&!a[c]||u.push(j(this.sourceCaches[c],this._layers,t,r,n));return this.placement&&u.push(function(e,t,r,n,a,i){for(var o={},s=a.queryRenderedSymbols(r),l=[],u=0,c=Object.keys(s).map(Number);u<c.length;u+=1){var p=c[u];l.push(i[p])}l.sort(R);for(var h=function(){var t=d[f],r=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,n.filter,n.layers,e);for(var a in r){var i=o[a]=o[a]||[],l=r[a];l.sort((function(e,r){var n=t.featureSortOrder;if(n){var a=n.indexOf(e.featureIndex);return n.indexOf(r.featureIndex)-a}return r.featureIndex-e.featureIndex}));for(var u=0,c=l;u<c.length;u+=1){var p=c[u];i.push(p)}}},f=0,d=l;f<d.length;f+=1)h();var y=function(r){o[r].forEach((function(n){var a=n.feature,i=e[r],o=t[i.source].getFeatureState(a.layer["source-layer"],a.id);a.source=a.layer.source,a.layer["source-layer"]&&(a.sourceLayer=a.layer["source-layer"]),a.state=o}))};for(var v in o)y(v);return o}(this._layers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter,null,r);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],a={},i=0;i<r.length;i++){var o=r[i],s=o.tileID.canonical.key;a[s]||(a[s]=!0,o.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),a=!1;for(var i in t)if(!e.deepEqual(t[i],n[i])){a=!0;break}if(a){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(o)}},r.prototype._validate=function(t,r,n,a,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Ot(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},a)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var r in this.sourceCaches)this.sourceCaches[r].clearTiles(),this.sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,a){for(var i=!1,o=!1,s={},l=0,u=this._order;l<u.length;l+=1){var c=u[l],p=this._layers[c];if("symbol"===p.type){if(!s[p.source]){var h=this.sourceCaches[p.source];s[p.source]=h.getRenderableIds(!0).map((function(e){return h.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(p,s[p.source],t.center.lng);i=i||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged||0===n;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new At(t,this._order,d,r,n,a,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),o=!0),i&&this.pauseablePlacement.placement.setStale()),o||i)for(var y=0,v=this._order;y<v.length;y+=1){var m=v[y],g=this._layers[m];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();var n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);Rt.getSourceType=function(e){return z[e]},Rt.setSourceType=function(e,t){z[e]=t},Rt.registerForPluginStateChange=e.registerForPluginStateChange;var Ft=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Bt=hr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ut=hr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Vt=hr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),qt=hr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Wt=hr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Gt=hr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Yt=hr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Zt=hr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ht=hr("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Qt=hr("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xt=hr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=hr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Jt=hr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),$t=hr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),er=hr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),tr=hr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),rr=hr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),nr=hr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ar=hr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ir=hr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),or=hr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),sr=hr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),lr=hr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ur=hr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),cr=hr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),pr=hr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function hr(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n={};return{fragmentSource:e=e.replace(r,(function(e,t,r,a,i){return n[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+a+" "+i+";\n#else\nuniform "+r+" "+a+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+a+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(r,(function(e,t,r,a,i){var o="float"===a?"vec2":"vec4",s=i.match(/color/)?"color":o;return n[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+o+" a_"+i+";\nvarying "+r+" "+a+" "+i+";\n#else\nuniform "+r+" "+a+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+a+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+s+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+a+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+r+" "+o+" a_"+i+";\n#else\nuniform "+r+" "+a+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+a+" "+i+" = a_"+i+";\n#else\n    "+r+" "+a+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+a+" "+i+" = unpack_mix_"+s+"(a_"+i+", u_"+i+"_t);\n#else\n    "+r+" "+a+" "+i+" = u_"+i+";\n#endif\n"}))}}var fr=Object.freeze({__proto__:null,prelude:Bt,background:Ut,backgroundPattern:Vt,circle:qt,clippingMask:Wt,heatmap:Gt,heatmapTexture:Yt,collisionBox:Zt,collisionCircle:Ht,debug:Qt,fill:Xt,fillOutline:Kt,fillOutlinePattern:Jt,fillPattern:$t,fillExtrusion:er,fillExtrusionPattern:tr,hillshadePrepare:rr,hillshade:nr,line:ar,lineGradient:ir,linePattern:or,lineSDF:sr,raster:lr,symbolIcon:ur,symbolSDF:cr,symbolTextAndIcon:pr}),dr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};dr.prototype.bind=function(e,t,r,n,a,i,o,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,u=0;!l&&u<n.length;u++)this.boundPaintVertexBuffers[u]!==n[u]&&(l=!0);var c=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||l||this.boundIndexBuffer!==a||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||c?this.freshBind(t,r,n,a,i,o,s):(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),a&&a.dynamicDraw&&a.bind(),s&&s.bind())},dr.prototype.freshBind=function(e,t,r,n,a,i,o){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=a,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=o;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}t.enableAttributes(c,e);for(var h=0,f=r;h<f.length;h+=1)f[h].enableAttributes(c,e);i&&i.enableAttributes(c,e),o&&o.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,a);for(var d=0,y=r;d<y.length;d+=1){var v=y[d];v.bind(),v.setVertexAttribPointers(c,e,a)}i&&(i.bind(),i.setVertexAttribPointers(c,e,a)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(c,e,a)),u.currentNumAttributes=l},dr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var yr=function(e,t,r,n,a){var i=e.gl;this.program=i.createProgram();var o=r.defines();a&&o.push("#define OVERDRAW_INSPECTOR;");var s=o.concat(Bt.fragmentSource,t.fragmentSource).join("\n"),l=o.concat(Bt.vertexSource,t.vertexSource).join("\n"),u=i.createShader(i.FRAGMENT_SHADER);if(i.isContextLost())this.failedToCreate=!0;else{i.shaderSource(u,s),i.compileShader(u),i.attachShader(this.program,u);var c=i.createShader(i.VERTEX_SHADER);if(i.isContextLost())this.failedToCreate=!0;else{i.shaderSource(c,l),i.compileShader(c),i.attachShader(this.program,c);for(var p=r.layoutAttributes||[],h=0;h<p.length;h++)i.bindAttribLocation(this.program,h,p[h].name);i.linkProgram(this.program),this.numAttributes=i.getProgramParameter(this.program,i.ACTIVE_ATTRIBUTES),this.attributes={};for(var f={},d=0;d<this.numAttributes;d++){var y=i.getActiveAttrib(this.program,d);y&&(this.attributes[y.name]=i.getAttribLocation(this.program,y.name))}for(var v=i.getProgramParameter(this.program,i.ACTIVE_UNIFORMS),m=0;m<v;m++){var g=i.getActiveUniform(this.program,m);g&&(f[g.name]=i.getUniformLocation(this.program,g.name))}this.fixedUniforms=n(e,f),this.binderUniforms=r.getUniforms(e,f)}}};function vr(t,r,n){var a=1/ut(n,1,r.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,r.transform.tileZoom)/i,s=o*(n.tileID.canonical.x+n.tileID.wrap*i),l=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,a,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}yr.prototype.draw=function(e,t,r,n,a,i,o,s,l,u,c,p,h,f,d,y){var v,m=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(a),e.setCullFace(i),this.fixedUniforms)this.fixedUniforms[g].set(o[g]);f&&f.setUniforms(e,this.binderUniforms,p,{zoom:h});for(var _=(v={},v[m.LINES]=2,v[m.TRIANGLES]=3,v[m.LINE_STRIP]=1,v)[t],x=0,b=c.get();x<b.length;x+=1){var w=b[x],M=w.vaos||(w.vaos={});(M[s]||(M[s]=new dr)).bind(e,this,l,f?f.getPaintVertexBuffers():[],u,w.vertexOffset,d,y),m.drawElements(t,w.primitiveLength*_,m.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var mr=function(t,r,n,a){var i=r.style.light,o=i.properties.get("position"),s=[o.x,o.y,o.z],l=e.create$1();"viewport"===i.properties.get("anchor")&&e.fromRotation(l,-r.transform.angle),e.transformMat3(s,s,l);var u=i.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+n,u_opacity:a}},gr=function(t,r,n,a,i,o,s){return e.extend(mr(t,r,n,a),vr(o,r,s),{u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8})},_r=function(e){return{u_matrix:e}},xr=function(t,r,n,a){return e.extend(_r(t),vr(n,r,a))},br=function(e,t){return{u_matrix:e,u_world:t}},wr=function(t,r,n,a,i){return e.extend(xr(t,r,n,a),{u_world:i})},Mr=function(t,r,n,a){var i,o,s=t.transform;if("map"===a.paint.get("circle-pitch-alignment")){var l=ut(n,1,s.zoom);i=!0,o=[l,l]}else i=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===a.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(r.posMatrix,n,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:o}},Er=function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},Sr=function(e,t,r){var n=ut(r,1,t.zoom),a=Math.pow(2,t.zoom-r.tileID.overscaledZ),i=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*a),t.pixelsToGLUnits[1]/(n*a)],u_overscale_factor:i}},Tr=function(e,t){return{u_matrix:e,u_color:t}},Cr=function(e){return{u_matrix:e}},Ir=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:ut(t,1,r),u_intensity:n}},Ar=function(e,t,r){var n=r.paint.get("hillshade-shadow-color"),a=r.paint.get("hillshade-highlight-color"),i=r.paint.get("hillshade-accent-color"),o=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(o-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:Lr(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),o],u_shadow:n,u_highlight:a,u_accent:i}},kr=function(t,r,n){var a=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[a,a],u_zoom:t.overscaledZ,u_maxzoom:n,u_unpack:r.getUnpackVector()}};function Lr(t,r){var n=Math.pow(2,r.canonical.z),a=r.canonical.y;return[new e.MercatorCoordinate(0,a/n).toLngLat().lat,new e.MercatorCoordinate(0,(a+1)/n).toLngLat().lat]}var Dr=function(t,r,n){var a=t.transform;return{u_matrix:jr(t,r,n),u_ratio:1/ut(r,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Pr=function(t,r,n){return e.extend(Dr(t,r,n),{u_image:0})},zr=function(t,r,n,a){var i=t.transform,o=Nr(r,i);return{u_matrix:jr(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/ut(r,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[e.browser.devicePixelRatio,o,a.fromScale,a.toScale],u_fade:a.t,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Or=function(t,r,n,a,i){var o=t.transform,s=t.lineAtlas,l=Nr(r,o),u="round"===n.layout.get("line-cap"),c=s.getDash(a.from,u),p=s.getDash(a.to,u),h=c.width*i.fromScale,f=p.width*i.toScale;return e.extend(Dr(t,r,n),{u_patternscale_a:[l/h,-c.height/2],u_patternscale_b:[l/f,-p.height/2],u_sdfgamma:s.width/(256*Math.min(h,f)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:p.y,u_mix:i.t})};function Nr(e,t){return 1/ut(e,1,t.tileZoom)}function jr(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var Rr=function(e,t,r,n,a){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*a.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:a.paint.get("raster-brightness-min"),u_brightness_high:a.paint.get("raster-brightness-max"),u_saturation_factor:(o=a.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(i=a.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:Fr(a.paint.get("raster-hue-rotate"))};var i,o};function Fr(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var Br=function(e,t,r,n,a,i,o,s,l,u){var c=a.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:c.width/c.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:u,u_texture:0}},Ur=function(t,r,n,a,i,o,s,l,u,c,p){var h=i.transform;return e.extend(Br(t,r,n,a,i,o,s,l,u,c),{u_gamma_scale:a?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+p})},Vr=function(t,r,n,a,i,o,s,l,u,c){return e.extend(Ur(t,r,n,a,i,o,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},qr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},Wr=function(t,r,n,a,i,o){return e.extend(function(e,t,r,n){var a=r.imageManager.getPattern(e.from.toString()),i=r.imageManager.getPattern(e.to.toString()),o=r.imageManager.getPixelSize(),s=o.width,l=o.height,u=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/u,p=c*(n.tileID.canonical.x+n.tileID.wrap*u),h=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:a.tl,u_pattern_br_a:a.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:a.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ut(n,1,r.transform.tileZoom),u_pixel_coord_upper:[p>>16,h>>16],u_pixel_coord_lower:[65535&p,65535&h]}}(a,o,n,i),{u_matrix:t,u_opacity:r})},Gr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:Er,collisionCircle:Er,debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_maxzoom:new e.Uniform1f(t,r.u_maxzoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},symbolTextAndIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function Yr(t,r){for(var n=t.sort((function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0})),a=0;a<n.length;a++){var i={},o=n[a],s=n.slice(a+1);Zr(o.tileID.wrapped(),o.tileID,s,new e.OverscaledTileID(0,o.tileID.wrap+1,0,0,0),i),o.setMask(i,r)}}function Zr(t,r,n,a,i){for(var o=0;o<n.length;o++){var s=n[o];if(a.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var l=r.children(1/0),u=0;u<l.length;u++)Zr(t,l[u],n.slice(o),a,i);return}}var c=r.overscaledZ-t.overscaledZ,p=new e.CanonicalTileID(c,r.canonical.x-(t.canonical.x<<c),r.canonical.y-(t.canonical.y<<c));i[p.key]=i[p.key]||p}function Hr(e,t,r,n,a,i,o,s){for(var l=e.context,u=l.gl,c=a?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),p=0;p<n.length;p++){var h=n[p],f=t.getTile(h),d=f.getBucket(r);if(d){var y=a?s?d.textCollisionCircle:d.iconCollisionCircle:s?d.textCollisionBox:d.iconCollisionBox;if(y){var v=h.posMatrix;0===i[0]&&0===i[1]||(v=e.translatePosMatrix(h.posMatrix,f,i,o)),c.draw(l,a?u.TRIANGLES:u.LINES,Se.disabled,Te.disabled,e.colorModeForRenderPass(),Ie.disabled,Sr(v,e.transform,f),r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,e.transform.zoom,null,null,y.collisionVertexBuffer)}}}}function Qr(e,t,r,n,a,i,o){Hr(e,t,r,n,!1,a,i,o),Hr(e,t,r,n,!0,a,i,o)}var Xr=e.identity(new Float32Array(16));function Kr(t,r,n,a,i,o){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*r,u=-(s.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,a);return new e.Point((l/i+c[0])*o,(u/i+c[1])*o)}function Jr(t,r,n,a,i,o,s,l,u,c,p){var h=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,y={};f.clear();for(var v=0;v<h.length;v++){var m=h.get(v),g=t.allowVerticalPlacement&&!m.placedOrientation,_=m.hidden||!m.crossTileID||g?null:a[m.crossTileID];if(_){var x=new e.Point(m.anchorX,m.anchorY),b=Xe(x,n?l:s),w=.5+o.cameraToCenterDistance/b.signedDistanceFromCamera*.5,M=i.evaluateSizeForFeature(t.textSizeData,c,m)*w/e.ONE_EM;n&&(M*=t.tilePixelRatio/u);for(var E=_.width,S=_.height,T=Kr(_.anchor,E,S,_.textOffset,_.textBoxScale,M),C=n?Xe(x.add(T),s).point:b.point.add(r?T.rotate(-o.angle):T),I=t.allowVerticalPlacement&&m.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,A=0;A<m.numGlyphs;A++)e.addDynamicAttributes(f,C,I);p&&m.associatedIconIndex>=0&&(y[m.associatedIconIndex]={shiftedAnchor:C,angle:I})}else it(m.numGlyphs,f)}if(p){d.clear();for(var k=t.icon.placedSymbolArray,L=0;L<k.length;L++){var D=k.get(L);if(D.hidden)it(D.numGlyphs,d);else{var P=y[L];if(P)for(var z=0;z<D.numGlyphs;z++)e.addDynamicAttributes(d,P.shiftedAnchor,P.angle);else it(D.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function $r(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function en(t,r,n,a,i,o,s,l,u,c,p,h){for(var f,d,y=t.context,v=y.gl,m=t.transform,g="map"===l,_="map"===u,x=g&&"point"!==n.layout.get("symbol-placement"),b=g&&!_&&!x,w=void 0!==n.layout.get("symbol-sort-key").constantOr(1),M=t.depthModeForSublayer(0,Se.ReadOnly),E=n.layout.get("text-variable-anchor"),S=[],T=0,C=a;T<C.length;T+=1){var I=C[T],A=r.getTile(I),k=A.getBucket(n);if(k){var L=i?k.text:k.icon;if(L&&L.segments.get().length){var D=L.programConfigurations.get(n.id),P=i||k.sdfIcons,z=i?k.textSizeData:k.iconSizeData,O=_||0!==m.pitch;f||(f=t.useProgram($r(P,i,k),D),d=e.evaluateSizeForZoom(z,m.zoom));var N=void 0,j=[0,0],R=void 0,F=void 0,B=null,U=void 0;if(i){if(R=A.glyphAtlasTexture,F=v.LINEAR,N=A.glyphAtlasTexture.size,k.iconsInText){j=A.imageAtlasTexture.size,B=A.imageAtlasTexture;var V="composite"===z.kind||"camera"===z.kind;U=O||t.options.rotating||t.options.zooming||V?v.LINEAR:v.NEAREST}}else{var q=1!==n.layout.get("icon-size").constantOr(0)||k.iconsNeedLinear;R=A.imageAtlasTexture,F=P||t.options.rotating||t.options.zooming||q||O?v.LINEAR:v.NEAREST,N=A.imageAtlasTexture.size}var W=ut(A,1,t.transform.zoom),G=He(I.posMatrix,_,g,t.transform,W),Y=Qe(I.posMatrix,_,g,t.transform,W),Z=E&&k.hasTextData(),H="none"!==n.layout.get("icon-text-fit")&&Z&&k.hasIconData();x&&Je(k,I.posMatrix,t,i,G,Y,_,c);var Q=t.translatePosMatrix(I.posMatrix,A,o,s),X=x||i&&E||H?Xr:G,K=t.translatePosMatrix(Y,A,o,s,!0),J=P&&0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),$={program:f,buffers:L,uniformValues:P?k.iconsInText?Vr(z.kind,d,b,_,t,Q,X,K,N,j):Ur(z.kind,d,b,_,t,Q,X,K,i,N,!0):Br(z.kind,d,b,_,t,Q,X,K,i,N),atlasTexture:R,atlasTextureIcon:B,atlasInterpolation:F,atlasInterpolationIcon:U,isSDF:P,hasHalo:J};if(w)for(var ee=0,te=L.segments.get();ee<te.length;ee+=1){var re=te[ee];S.push({segments:new e.SegmentVector([re]),sortKey:re.sortKey,state:$})}else S.push({segments:L.segments,sortKey:0,state:$})}}}w&&S.sort((function(e,t){return e.sortKey-t.sortKey}));for(var ne=0,ae=S;ne<ae.length;ne+=1){var ie=ae[ne],oe=ie.state;if(y.activeTexture.set(v.TEXTURE0),oe.atlasTexture.bind(oe.atlasInterpolation,v.CLAMP_TO_EDGE),oe.atlasTextureIcon&&(y.activeTexture.set(v.TEXTURE1),oe.atlasTextureIcon&&oe.atlasTextureIcon.bind(oe.atlasInterpolationIcon,v.CLAMP_TO_EDGE)),oe.isSDF){var se=oe.uniformValues;oe.hasHalo&&(se.u_is_halo=1,tn(oe.buffers,ie.segments,n,t,oe.program,M,p,h,se)),se.u_is_halo=0}tn(oe.buffers,ie.segments,n,t,oe.program,M,p,h,oe.uniformValues)}}function tn(e,t,r,n,a,i,o,s,l){var u=n.context,c=u.gl;a.draw(u,c.TRIANGLES,i,o,s,Ie.disabled,l,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function rn(e,t,r,n,a,i,o){var s,l,u,c,p,h=e.context.gl,f=r.paint.get("fill-pattern"),d=f&&f.constantOr(1),y=r.getCrossfadeParameters();o?(l=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(l=d?"fillPattern":"fill",s=h.TRIANGLES);for(var v=0,m=n;v<m.length;v+=1){var g=m[v],_=t.getTile(g);if(!d||_.patternsLoaded()){var x=_.getBucket(r);if(x){var b=x.programConfigurations.get(r.id),w=e.useProgram(l,b);d&&(e.context.activeTexture.set(h.TEXTURE0),_.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),b.updatePatternPaintBuffers(y));var M=f.constantOr(null);if(M&&_.imageAtlas){var E=_.imageAtlas,S=E.patternPositions[M.to.toString()],T=E.patternPositions[M.from.toString()];S&&T&&b.setConstantPatternPositions(S,T)}var C=e.translatePosMatrix(g.posMatrix,_,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(o){c=x.indexBuffer2,p=x.segments2;var I=[h.drawingBufferWidth,h.drawingBufferHeight];u="fillOutlinePattern"===l&&d?wr(C,e,y,_,I):br(C,I)}else c=x.indexBuffer,p=x.segments,u=d?xr(C,e,y,_):_r(C);w.draw(e.context,s,a,e.stencilModeForClipping(g),i,Ie.disabled,u,r.id,x.layoutVertexBuffer,c,p,r.paint,e.transform.zoom,b)}}}}function nn(e,t,r,n,a,i,o){for(var s=e.context,l=s.gl,u=r.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=r.getCrossfadeParameters(),h=r.paint.get("fill-extrusion-opacity"),f=0,d=n;f<d.length;f+=1){var y=d[f],v=t.getTile(y),m=v.getBucket(r);if(m){var g=m.programConfigurations.get(r.id),_=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",g);c&&(e.context.activeTexture.set(l.TEXTURE0),v.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePatternPaintBuffers(p));var x=u.constantOr(null);if(x&&v.imageAtlas){var b=v.imageAtlas,w=b.patternPositions[x.to.toString()],M=b.patternPositions[x.from.toString()];w&&M&&g.setConstantPatternPositions(w,M)}var E=e.translatePosMatrix(y.posMatrix,v,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),S=r.paint.get("fill-extrusion-vertical-gradient"),T=c?gr(E,e,S,h,y,p,v):mr(E,e,S,h);_.draw(s,s.gl.TRIANGLES,a,i,o,Ie.backCCW,T,r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,r.paint,e.transform.zoom,g)}}}function an(e,t,r,n,a,i){var o=e.context,s=o.gl,l=t.fbo;if(l){var u=e.useProgram("hillshade");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=Ar(e,t,r);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?u.draw(o,s.TRIANGLES,n,a,i,Ie.disabled,c,r.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):u.draw(o,s.TRIANGLES,n,a,i,Ie.disabled,c,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function on(t,r,n,a,i,o,s){var l=t.context,u=l.gl,c=r.dem;if(c&&c.data){var p=c.dim,h=c.stride,f=c.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(h),r.demTexture){var d=r.demTexture;d.update(f,{premultiply:!1}),d.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(l,f,u.RGBA,{premultiply:!1}),r.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);var y=r.fbo;if(!y){var v=new e.Texture(l,{width:p,height:p,data:null},u.RGBA);v.bind(u.LINEAR,u.CLAMP_TO_EDGE),(y=r.fbo=l.createFramebuffer(p,p)).colorAttachment.set(v.texture)}l.bindFramebuffer.set(y.framebuffer),l.viewport.set([0,0,p,p]),t.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,i,o,s,Ie.disabled,kr(r.tileID,c,a),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function sn(t,r,n,a,i){var o=a.paint.get("raster-fade-duration");if(o>0){var s=e.browser.now(),l=(s-t.timeAdded)/o,u=r?(s-r.timeAdded)/o:-1,c=n.getSource(),p=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),f=h&&t.refreshedUponExpiration?1:e.clamp(h?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function ln(t,r,n){var a=t.context,i=a.gl,o=n.posMatrix,s=t.useProgram("debug"),l=Se.disabled,u=Te.disabled,c=t.colorModeForRenderPass(),p="$debug";s.draw(a,i.LINE_STRIP,l,u,c,Ie.disabled,Tr(o,e.Color.red),p,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var h=r.getTileByID(n.key).latestRawTileData,f=h&&h.byteLength||0,d=Math.floor(f/1024),y=r.getTile(n).tileSize,v=512/Math.min(y,512),m=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(m+=" => "+n.overscaledZ);for(var g=function(e,t,r,n){n=n||1;var a,i,o,s,l,u,c,p,h=[];for(a=0,i=e.length;a<i;a++)if(l=un[e[a]]){for(p=null,o=0,s=l[1].length;o<s;o+=2)-1===l[1][o]&&-1===l[1][o+1]?p=null:(u=t+l[1][o]*n,c=r-l[1][o+1]*n,p&&h.push(p.x,p.y,u,c),p={x:u,y:c});t+=l[0]*n}return h}(m+" "+d+"kb",50,200*v,5*v),_=new e.StructArrayLayout2i4,x=new e.StructArrayLayout2ui4,b=0;b<g.length;b+=2)_.emplaceBack(g[b],g[b+1]),x.emplaceBack(b,b+1);for(var w=a.createVertexBuffer(_,Ft.members),M=a.createIndexBuffer(x),E=e.SegmentVector.simpleSegment(0,0,_.length/2,_.length/2),S=e.EXTENT/(Math.pow(2,t.transform.zoom-n.overscaledZ)*y*v),T=[],C=-1;C<=1;C++)for(var I=-1;I<=1&&(0!==C||0!==I);I++)T.push([C,I]);for(var A=0;A<T.length;A++){var k=T[A];s.draw(a,i.LINES,l,u,c,Ie.disabled,Tr(e.translate([],o,[S*k[0],S*k[1],0]),e.Color.white),p,w,M,E)}s.draw(a,i.LINES,l,u,c,Ie.disabled,Tr(o,e.Color.black),p,w,M,E),w.destroy(),M.destroy(),E.destroy()}var un={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},cn={symbol:function(t,r,n,a,i){if("translucent"===t.renderPass){var o=Te.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,a,i,o,s){for(var l=r.transform,u="map"===i,c="map"===o,p=0,h=t;p<h.length;p+=1){var f=h[p],d=a.getTile(f),y=d.getBucket(n);if(y&&y.text&&y.text.segments.get().length){var v=y.textSizeData,m=e.evaluateSizeForZoom(v,l.zoom),g=ut(d,1,r.transform.zoom),_=He(f.posMatrix,c,u,r.transform,g),x="none"!==n.layout.get("icon-text-fit")&&y.hasIconData();if(m){var b=Math.pow(2,l.zoom-d.tileID.overscaledZ);Jr(y,u,c,s,e.symbolSize,l,_,f.posMatrix,b,m,x)}}}}(a,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),i),0!==n.paint.get("icon-opacity").constantOr(1)&&en(t,r,n,a,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,s),0!==n.paint.get("text-opacity").constantOr(1)&&en(t,r,n,a,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,s),r.map.showCollisionBoxes&&(Qr(t,r,n,a,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Qr(t,r,n,a,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,r,n,a){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,p=t.depthModeForSublayer(0,Se.ReadOnly),h=Te.disabled,f=t.colorModeForRenderPass(),d=[],y=0;y<a.length;y++){var v=a[y],m=r.getTile(v),g=m.getBucket(n);if(g){var _=g.programConfigurations.get(n.id),x={programConfiguration:_,program:t.useProgram("circle",_),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:Mr(t,v,m,n)};if(l)for(var b=0,w=g.segments.get();b<w.length;b+=1){var M=w[b];d.push({segments:new e.SegmentVector([M]),sortKey:M.sortKey,state:x})}else d.push({segments:g.segments,sortKey:0,state:x})}}l&&d.sort((function(e,t){return e.sortKey-t.sortKey}));for(var E=0,S=d;E<S.length;E+=1){var T=S[E],C=T.state,I=C.programConfiguration,A=C.program,k=C.layoutVertexBuffer,L=C.indexBuffer,D=C.uniformValues,P=T.segments;A.draw(u,c.TRIANGLES,p,h,f,Ie.disabled,D,n.id,k,L,P,n.paint,t.transform.zoom,I)}}}},heatmap:function(t,r,n,a){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,o=i.gl,s=t.depthModeForSublayer(0,Se.ReadOnly),l=Te.disabled,u=new Ce([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var a=r.heatmapFbo;if(a)n.bindTexture(n.TEXTURE_2D,a.colorAttachment.get()),e.bindFramebuffer.set(a.framebuffer);else{var i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),a=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,r,n,a){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width/4,r.height/4,0,i.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),a.colorAttachment.set(n),t.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,a.colorAttachment.setDirty(),e(t,r,n,a))}(e,t,i,a)}}(i,t,n),i.clear({color:e.Color.transparent});for(var c=0;c<a.length;c++){var p=a[c];if(!r.hasRenderableParent(p)){var h=r.getTile(p),f=h.getBucket(n);if(f){var d=f.programConfigurations.get(n.id),y=t.useProgram("heatmap",d),v=t.transform.zoom;y.draw(i,o.TRIANGLES,s,l,u,Ie.disabled,Ir(p.posMatrix,h,v,n.paint.get("heatmap-intensity")),n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,n.paint,t.transform.zoom,d)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,a=n.gl,i=r.heatmapFbo;if(i){n.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(a.TEXTURE1);var o=r.colorRampTexture;o||(o=r.colorRampTexture=new e.Texture(n,r.colorRamp,a.RGBA)),o.bind(a.LINEAR,a.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,a.TRIANGLES,Se.disabled,Te.disabled,t.colorModeForRenderPass(),Ie.disabled,function(t,r,n,a){var i=e.create();e.ortho(i,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:i,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:n,u_color_ramp:a,u_opacity:r.paint.get("heatmap-opacity")}}(t,r,0,1),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,a){if("translucent"===t.renderPass){var i=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==o.constantOr(1)){var s=t.depthModeForSublayer(0,Se.ReadOnly),l=t.colorModeForRenderPass(),u=n.paint.get("line-dasharray"),c=n.paint.get("line-pattern"),p=c.constantOr(1),h=n.paint.get("line-gradient"),f=n.getCrossfadeParameters(),d=u?"lineSDF":p?"linePattern":h?"lineGradient":"line",y=t.context,v=y.gl,m=!0;if(h){y.activeTexture.set(v.TEXTURE0);var g=n.gradientTexture;if(!n.gradient)return;g||(g=n.gradientTexture=new e.Texture(y,n.gradient,v.RGBA)),g.bind(v.LINEAR,v.CLAMP_TO_EDGE)}for(var _=0,x=a;_<x.length;_+=1){var b=x[_],w=r.getTile(b);if(!p||w.patternsLoaded()){var M=w.getBucket(n);if(M){var E=M.programConfigurations.get(n.id),S=t.context.program.get(),T=t.useProgram(d,E),C=m||T.program!==S,I=c.constantOr(null);if(I&&w.imageAtlas){var A=w.imageAtlas,k=A.patternPositions[I.to.toString()],L=A.patternPositions[I.from.toString()];k&&L&&E.setConstantPatternPositions(k,L)}var D=u?Or(t,w,n,u,f):p?zr(t,w,n,f):h?Pr(t,w,n):Dr(t,w,n);u&&(C||t.lineAtlas.dirty)?(y.activeTexture.set(v.TEXTURE0),t.lineAtlas.bind(y)):p&&(y.activeTexture.set(v.TEXTURE0),w.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),E.updatePatternPaintBuffers(f)),T.draw(y,v.TRIANGLES,s,t.stencilModeForClipping(b),l,Ie.disabled,D,n.id,M.layoutVertexBuffer,M.indexBuffer,M.segments,n.paint,t.transform.zoom,E),m=!1}}}}}},fill:function(t,r,n,a){var i=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===i.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?Se.ReadWrite:Se.ReadOnly);rn(t,r,n,a,c,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var p=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Se.ReadOnly);rn(t,r,n,a,p,s,!0)}}},"fill-extrusion":function(e,t,r,n){var a=r.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===e.renderPass){var i=new Se(e.context.gl.LEQUAL,Se.ReadWrite,e.depthRangeFor3D);if(1!==a||r.paint.get("fill-extrusion-pattern").constantOr(1))nn(e,t,r,n,i,Te.disabled,Ce.disabled),nn(e,t,r,n,i,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();nn(e,t,r,n,i,Te.disabled,o)}}},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var a=e.context,i=t.getSource().maxzoom,o=e.depthModeForSublayer(0,Se.ReadOnly),s=Te.disabled,l=e.colorModeForRenderPass(),u=0,c=n;u<c.length;u+=1){var p=c[u],h=t.getTile(p);h.needsHillshadePrepare&&"offscreen"===e.renderPass?on(e,h,r,i,o,s,l):"translucent"===e.renderPass&&an(e,h,r,o,s,l)}a.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity"))for(var a=e.context,i=a.gl,o=t.getSource(),s=e.useProgram("raster"),l=Te.disabled,u=e.colorModeForRenderPass(),c=n.length&&n[0].overscaledZ,p=!e.options.moving,h=0,f=n;h<f.length;h+=1){var d=f[h],y=e.depthModeForSublayer(d.overscaledZ-c,1===r.paint.get("raster-opacity")?Se.ReadWrite:Se.ReadOnly,i.LESS),v=t.getTile(d),m=e.transform.calculatePosMatrix(d.toUnwrapped(),p);v.registerFadeDuration(r.paint.get("raster-fade-duration"));var g=t.findLoadedParent(d,0),_=sn(v,g,t,r,e.transform),x=void 0,b=void 0,w="nearest"===r.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;a.activeTexture.set(i.TEXTURE0),v.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(i.TEXTURE1),g?(g.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,g.tileID.overscaledZ-v.tileID.overscaledZ),b=[v.tileID.canonical.x*x%1,v.tileID.canonical.y*x%1]):v.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);var M=Rr(m,b||[0,0],x||1,_,r);o instanceof L?s.draw(a,i.TRIANGLES,y,l,u,Ie.disabled,M,r.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):v.maskedBoundsBuffer&&v.maskedIndexBuffer&&v.segments?s.draw(a,i.TRIANGLES,y,l,u,Ie.disabled,M,r.id,v.maskedBoundsBuffer,v.maskedIndexBuffer,v.segments,r.paint,e.transform.zoom):s.draw(a,i.TRIANGLES,y,l,u,Ie.disabled,M,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),a=r.paint.get("background-opacity");if(0!==a){var i=e.context,o=i.gl,s=e.transform,l=s.tileSize,u=r.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=!u&&1===n.a&&1===a&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var p=Te.disabled,h=e.depthModeForSublayer(0,"opaque"===c?Se.ReadWrite:Se.ReadOnly),f=e.colorModeForRenderPass(),d=e.useProgram(u?"backgroundPattern":"background"),y=s.coveringTiles({tileSize:l});u&&(i.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var v=r.getCrossfadeParameters(),m=0,g=y;m<g.length;m+=1){var _=g[m],x=e.transform.calculatePosMatrix(_.toUnwrapped()),b=u?Wr(x,a,e,u,{tileID:_,tileSize:l},v):qr(x,a,n);d.draw(i,o.TRIANGLES,h,p,f,Ie.disabled,b,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)ln(e,t,r[n])},custom:function(e,t,r){var n=e.context,a=r.implementation;if("offscreen"===e.renderPass){var i=a.prerender;i&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),i.call(a,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Te.disabled);var o="3d"===a.renderingMode?new Se(e.context.gl.LEQUAL,Se.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Se.ReadOnly);n.setDepthMode(o),a.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},pn=function(t,r){this.context=new Ae(t),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=ke.maxUnderzooming+ke.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new zt,this.gpuTimers={}};function hn(e,t){if(e.y>t.y){var r=e;e=t,t=r}return{x0:e.x,y0:e.y,x1:t.x,y1:t.y,dx:t.x-e.x,dy:t.y-e.y}}function fn(e,t,r,n,a){var i=Math.max(r,Math.floor(t.y0)),o=Math.min(n,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var l=e.dx/e.dy,u=t.dx/t.dy,c=e.dx>0,p=t.dx<0,h=i;h<o;h++){var f=l*Math.max(0,Math.min(e.dy,h+c-e.y0))+e.x0,d=u*Math.max(0,Math.min(t.dy,h+p-t.y0))+t.x0;a(Math.floor(d),Math.ceil(f),h)}}function dn(e,t,r,n,a,i){var o,s=hn(e,t),l=hn(t,r),u=hn(r,e);s.dy>l.dy&&(o=s,s=l,l=o),s.dy>u.dy&&(o=s,s=u,u=o),l.dy>u.dy&&(o=l,l=u,u=o),s.dy&&fn(u,s,n,a,i),l.dy&&fn(u,l,n,a,i)}pn.prototype.resize=function(t,r){var n=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var a=0,i=this.style._order;a<i.length;a+=1){var o=i[a];this.style._layers[o].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},pn.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Ft.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Ft.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var a=new e.StructArrayLayout4i8;a.emplaceBack(0,0,0,0),a.emplaceBack(e.EXTENT,0,e.EXTENT,0),a.emplaceBack(0,e.EXTENT,0,e.EXTENT),a.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(a,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,Ft.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new Te({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},pn.prototype.clearStencil=function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,Se.disabled,this.stencilClearMode,Ce.disabled,Ie.disabled,Cr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},pn.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var r=this.context,n=r.gl;this.nextStencilID+t.length>256&&this.clearStencil(),r.setColorMode(Ce.disabled),r.setDepthMode(Se.disabled);var a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var i=0,o=t;i<o.length;i+=1){var s=o[i],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;a.draw(r,n.TRIANGLES,Se.disabled,new Te({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Ce.disabled,Ie.disabled,Cr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},pn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Te({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},pn.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Te({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},pn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},pn.prototype.depthModeForSublayer=function(e,t,r){if(!this.opaquePassEnabledForLayer())return Se.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Se(r||this.context.gl.LEQUAL,t,[n,n])},pn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},pn.prototype.render=function(t,r){var n=this;this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var a=this.style._order,i=this.style.sourceCaches;for(var o in i){var s=i[o];s.used&&s.prepare(this.context)}var l,u,c={},p={},h={};for(var f in i){var d=i[f];c[f]=d.getVisibleCoordinates(),p[f]=c[f].slice().reverse(),h[f]=d.getVisibleCoordinates(!0).reverse()}for(var y in i){var v=i[y],m=v.getSource();if("raster"===m.type||"raster-dem"===m.type){for(var g=[],_=0,x=c[y];_<x.length;_+=1){var b=x[_];g.push(v.getTile(b))}Yr(g,this.context)}}this.opaquePassCutoff=1/0;for(var w=0;w<a.length;w++){var M=a[w];if(this.style._layers[M].is3D()){this.opaquePassCutoff=w;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var E=0,S=a;E<S.length;E+=1){var T=S[E],C=this.style._layers[T];if(C.hasOffscreenPass()&&!C.isHidden(this.transform.zoom)){var I=p[C.source];("custom"===C.type||I.length)&&this.renderLayer(this,i[C.source],C,I)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=a.length-1;this.currentLayer>=0;this.currentLayer--){var A=this.style._layers[a[this.currentLayer]],k=i[A.source],L=c[A.source];this._renderTileClippingMasks(A,L),this.renderLayer(this,k,A,L)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<a.length;this.currentLayer++){var D=this.style._layers[a[this.currentLayer]],P=i[D.source],z=("symbol"===D.type?h:p)[D.source];this._renderTileClippingMasks(D,c[D.source]),this.renderLayer(this,P,D,z)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(n.transform.zoom)&&(e.source!==(u&&u.id)&&(u=n.style.sourceCaches[e.source]),(!l||l.getSource().maxzoom<u.getSource().maxzoom)&&(l=u))})),l&&cn.debug(this,l,l.getVisibleCoordinates())),this.context.setDefault()},pn.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},pn.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,this.gpuTimingStart(r),cn[r.type](e,t,r,n,this.style.placement.variableOffsets),this.gpuTimingEnd())},pn.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}},pn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},pn.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},pn.prototype.queryGpuTimers=function(e){var t={};for(var r in e){var n=e[r],a=this.context.extTimerQuery,i=a.getQueryObjectEXT(n.query,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(n.query),t[r]=i}return t},pn.prototype.translatePosMatrix=function(t,r,n,a,i){if(!n[0]&&!n[1])return t;var o=i?"map"===a?this.transform.angle:0:"viewport"===a?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[i?n[0]:ut(r,n[0],this.transform.zoom),i?n[1]:ut(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},pn.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},pn.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},pn.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r},pn.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var r=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new yr(this.context,fr[e],t,Gr[e],this._showOverdrawInspector)),this.cache[r]},pn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},pn.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)};var yn=function(t,r,n,a,i){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==a?60:a,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},vn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};yn.prototype.clone=function(){var e=new yn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},vn.minZoom.get=function(){return this._minZoom},vn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},vn.maxZoom.get=function(){return this._maxZoom},vn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},vn.minPitch.get=function(){return this._minPitch},vn.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},vn.maxPitch.get=function(){return this._maxPitch},vn.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},vn.renderWorldCopies.get=function(){return this._renderWorldCopies},vn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},vn.worldSize.get=function(){return this.tileSize*this.scale},vn.centerPoint.get=function(){return this.size._div(2)},vn.size.get=function(){return new e.Point(this.width,this.height)},vn.bearing.get=function(){return-this.angle/Math.PI*180},vn.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},vn.pitch.get=function(){return this._pitch/Math.PI*180},vn.pitch.set=function(t){var r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},vn.fov.get=function(){return this._fov/Math.PI*180},vn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},vn.zoom.get=function(){return this._zoom},vn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},vn.center.get=function(){return this._center},vn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},yn.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},yn.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),a=this.pointCoordinate(new e.Point(this.width,0)),i=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,a.x,i.x,o.x)),l=Math.floor(Math.max(n.x,a.x,i.x,o.x)),u=s-1;u<=l+1;u++)0!==u&&r.push(new e.UnwrappedTileID(u,t));return r},yn.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var a=e.MercatorCoordinate.fromLngLat(this.center),i=Math.pow(2,r),o=new e.Point(i*a.x-.5,i*a.y-.5);return function(t,r,n,a){void 0===a&&(a=!0);var i=1<<t,o={};function s(r,s,l){var u,c,p,h;if(l>=0&&l<=i)for(u=r;u<s;u++)c=Math.floor(u/i),p=(u%i+i)%i,0!==c&&!0!==a||(h=new e.OverscaledTileID(n,c,t,p,l),o[h.key]=h)}var l=r.map((function(t){return new e.Point(t.x,t.y)._mult(i)}));return dn(l[0],l[1],l[2],0,i,s),dn(l[2],l[3],l[0],0,i,s),Object.keys(o).map((function(e){return o[e]}))}(r,[this.pointCoordinate(new e.Point(0,0)),this.pointCoordinate(new e.Point(this.width,0)),this.pointCoordinate(new e.Point(this.width,this.height)),this.pointCoordinate(new e.Point(0,this.height))],t.reparseOverscaled?n:r,this._renderWorldCopies).sort((function(e,t){return o.dist(e.canonical)-o.dist(t.canonical)}))},yn.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},vn.unmodified.get=function(){return this._unmodified},yn.prototype.zoomScale=function(e){return Math.pow(2,e)},yn.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},yn.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},yn.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},vn.point.get=function(){return this.project(this.center)},yn.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),a=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),o=new e.MercatorCoordinate(i.x-(n.x-a.x),i.y-(n.y-a.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},yn.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},yn.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},yn.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},yn.prototype.coordinateLocation=function(e){return e.toLngLat()},yn.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var a=r[3],i=n[3],o=r[0]/a,s=n[0]/i,l=r[1]/a,u=n[1]/i,c=r[2]/a,p=n[2]/i,h=c===p?0:(0-c)/(p-c);return new e.MercatorCoordinate(e.number(o,s,h)/this.worldSize,e.number(l,u,h)/this.worldSize)},yn.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},yn.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},yn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},yn.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},yn.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,a=r?this._alignedPosMatrixCache:this._posMatrixCache;if(a[n])return a[n];var i=t.canonical,o=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*o,i.y*o,0]),e.scale(l,l,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(l,r?this.alignedProjMatrix:this.projMatrix,l),a[n]=new Float32Array(l),a[n]},yn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},yn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,a,i=-90,o=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;i=e.mercatorYfromLat(p[1])*this.worldSize,t=(o=e.mercatorYfromLat(p[0])*this.worldSize)-i<u.y?u.y/(o-i):0}if(this.lngRange){var h=this.lngRange;s=e.mercatorXfromLng(h[0])*this.worldSize,r=(l=e.mercatorXfromLng(h[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var f=this.point,d=Math.max(r||0,t||0);if(d)return this.center=this.unproject(new e.Point(r?(l+s)/2:f.x,t?(o+i)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var y=f.y,v=u.y/2;y-v<i&&(a=i+v),y+v>o&&(a=o-v)}if(this.lngRange){var m=f.x,g=u.x/2;m-g<s&&(n=s+g),m+g>l&&(n=l-g)}void 0===n&&void 0===a||(this.center=this.unproject(new e.Point(void 0!==n?n:f.x,void 0!==a?a:f.y))),this._unmodified=c,this._constraining=!1}},yn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,r=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-r-t),a=this.point,i=a.x,o=a.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),l=this.height/50,u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,l,s),e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-i,-o,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=u;var c=this.width%2/2,p=this.height%2/2,h=Math.cos(this.angle),f=Math.sin(this.angle),d=i-Math.round(i)+h*c+f*p,y=o-Math.round(o)+h*p+f*c,v=new Float64Array(u);if(e.translate(v,v,[d>.5?d-1:d,y>.5?y-1:y,0]),this.alignedProjMatrix=v,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(u=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}},yn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},yn.prototype.getCameraPoint=function(){var t=this._pitch,r=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,r))},yn.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,a=r.y,i=r.x,o=r.y,s=0,l=t;s<l.length;s+=1){var u=l[s];n=Math.min(n,u.x),a=Math.min(a,u.y),i=Math.max(i,u.x),o=Math.max(o,u.y)}return[new e.Point(n,a),new e.Point(i,a),new e.Point(i,o),new e.Point(n,o),new e.Point(n,a)]},Object.defineProperties(yn.prototype,vn);var mn=function(t){var r,n,a,i;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(r=this._updateHashUnthrottled.bind(this),n=!1,a=null,i=function(){a=null,n&&(r(),a=setTimeout(i,300),n=!1)},function(){return n=!0,a||i(),a})};mn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},mn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},mn.prototype.getHashString=function(t){var r=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,a=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,a),o=Math.round(r.lng*i)/i,s=Math.round(r.lat*i)/i,l=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=t?"/"+o+"/"+s+"/"+n:n+"/"+s+"/"+o,(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/"+Math.round(u)),this._hashName){var p=this._hashName,h=!1,f=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===p?(h=!0,t+"="+c):e})).filter((function(e){return e}));return h||f.push(p+"="+c),"#"+f.join("&")}return"#"+c},mn.prototype._getCurrentHash=function(){var t,r=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===r._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")},mn.prototype._onHashChange=function(){var e=this._getCurrentHash();return e.length>=3&&!e.some((function(e){return isNaN(e)}))&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},mn.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var gn=function(t){function n(n,a,i,o){void 0===o&&(o={});var s=r.mousePos(a.getCanvasContainer(),i),l=a.unproject(s);t.call(this,n,e.extend({point:s,lngLat:l,originalEvent:i},o)),this._defaultPrevented=!1,this.target=a}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var a={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},a.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,a),n}(e.Event),_n=function(t){function n(n,a,i){var o=r.touchPos(a.getCanvasContainer(),i),s=o.map((function(e){return a.unproject(e)})),l=o.reduce((function(e,t,r,n){return e.add(t.div(n.length))}),new e.Point(0,0)),u=a.unproject(l);t.call(this,n,{points:o,point:l,lngLats:s,lngLat:u,originalEvent:i}),this._defaultPrevented=!1}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var a={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},a.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,a),n}(e.Event),xn=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),bn=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};bn.prototype.setZoomRate=function(e){this._defaultZoomRate=e},bn.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},bn.prototype.isEnabled=function(){return!!this._enabled},bn.prototype.isActive=function(){return!!this._active},bn.prototype.isZooming=function(){return!!this._zooming},bn.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},bn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},bn.prototype.onWheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),a=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":a>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(a*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this.isActive()||this._start(t)),t.preventDefault()}},bn.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},bn.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},bn.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,a=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==a&&(a=1/a);var i="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(i*a))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o="number"==typeof this._targetZoom?this._targetZoom:r.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){var c=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=l(c);r.zoom=e.number(s,o,p),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else r.zoom=o,u=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom}),200))}},bn.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,a=(e.browser.now()-n.start)/n.duration,i=n.easing(a+.01)-n.easing(a),o=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-o*o);r=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r};var wn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};wn.prototype.isEnabled=function(){return!!this._enabled},wn.prototype.isActive=function(){return!!this._active},wn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},wn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},wn.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=this._lastPos=r.mousePos(this._el,t),this._active=!0)},wn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=t,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(n.x,t.x),i=Math.max(n.x,t.x),o=Math.min(n.y,t.y),s=Math.max(n.y,t.y);r.setTransform(this._box,"translate("+a+"px,"+o+"px)"),this._box.style.width=i-a+"px",this._box.style.height=s-o+"px"}},wn.prototype._onMouseUp=function(t){if(0===t.button){var n=this._startPos,a=r.mousePos(this._el,t);this._finish(),r.suppressClick(),n.x===a.x&&n.y===a.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(n,a,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},wn.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},wn.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},wn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var Mn=e.bezier(0,0,.25,1),En=function(t,r){this._map=t,this._el=r.element||t.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};En.prototype.isEnabled=function(){return"disabled"!==this._state},En.prototype.isActive=function(){return"active"===this._state},En.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},En.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},En.prototype.onMouseDown=function(t){if("enabled"===this._state){var n="touchstart"===t.type;if(n)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=r.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==r.mouseButton(t))return;this._eventButton=0}r.disableDrag(),n?(e.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("touchend",this._onMouseUp)):(e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp)),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},En.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},En.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var r=this._map.transform,n=this._prevPos,a=this._lastPos,i=.8*(n.x-a.x),o=-.5*(n.y-a.y),s=r.bearing-i,l=r.pitch-o,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([e.browser.now(),this._map._normalizeBearing(s,c[1])]);var p=r.bearing;if(r.bearing=s,this._pitchWithRotate){var h=r.pitch;r.pitch=l,r.pitch!==h&&this._fireEvent("pitch",t)}r.bearing!==p&&this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._prevPos=this._lastPos}},En.prototype._onMouseUp=function(e){if("touchend"===e.type&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),r.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},En.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},En.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("touchend",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),r.enableDrag()},En.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},En.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var r=this._map,n=r.getBearing(),a=this._inertia,i=function(){Math.abs(n)<t._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(a.length<2)i();else{var o=a[0],s=a[a.length-1],l=a[a.length-2],u=r._normalizeBearing(n,l[1]),c=s[1]-o[1],p=c<0?-1:1,h=(s[0]-o[0])/1e3;if(0!==c&&0!==h){var f=Math.abs(c*(.25/h));f>180&&(f=180);var d=f/180;u+=p*f*(d/2),Math.abs(r._normalizeBearing(u,0))<this._bearingSnap&&(u=r._normalizeBearing(0,u)),r.rotateTo(u,{duration:1e3*d,easing:Mn,noMoveStart:!0},{originalEvent:e})}else i()}},En.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},En.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var Sn={linearity:.3,easing:e.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500},Tn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=r.clickTolerance||1,this._inertiaOptions=Sn,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Tn.prototype.isEnabled=function(){return"disabled"!==this._state},Tn.prototype.isActive=function(){return"active"===this._state},Tn.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=e.extend(Sn,t))},Tn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Tn.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==r.mouseButton(t)||(r.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},Tn.prototype.onTouchStart=function(t){this.isEnabled()&&(t.touches&&t.touches.length>1&&("pending"===this._state||"active"===this._state)||(r.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},Tn.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=r.mousePos(this._el,t),this._startTouch=this._lastTouch=e.window.TouchEvent&&t instanceof e.window.TouchEvent?r.touchPos(this._el,t):null,this._inertia=[[e.browser.now(),this._startPos]]},Tn.prototype._touchesMatch=function(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,r){return t[r]===e}))},Tn.prototype._onMove=function(t){t.preventDefault();var n=e.window.TouchEvent&&t instanceof e.window.TouchEvent?r.touchPos(this._el,t):null,a=r.mousePos(this._el,t);(n?this._touchesMatch(this._lastTouch,n):this._lastPos.equals(a))||"pending"===this._state&&a.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=a,this._lastTouch=n,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Tn.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e)if(this._map.touchZoomRotate.isActive())this._abort(e);else if(this._shouldStart&&(this._fireEvent("dragstart",e),this._fireEvent("movestart",e),this._shouldStart=!1),this.isActive()){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._prevPos=this._lastPos,delete this._lastMoveEvent}},Tn.prototype._onMouseUp=function(e){if(0===r.mouseButton(e))switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},Tn.prototype._onTouchEnd=function(e){if(e.touches&&0!==e.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(e)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Tn.prototype._abort=function(t){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",t),this._fireEvent("moveend",t)),this._unbind(),this._deactivate(),e.window.TouchEvent&&t instanceof e.window.TouchEvent&&t.touches.length>1&&r.addEventListener(e.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Tn.prototype._onBlur=function(e){this._abort(e)},Tn.prototype._unbind=function(){r.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onTouchEnd),r.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.removeEventListener(e.window.document,"mouseup",this._onMouseUp),r.removeEventListener(e.window,"blur",this._onBlur)},Tn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},Tn.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var r=t[t.length-1],n=t[0],a=r[1].sub(n[1]),i=(r[0]-n[0])/1e3;if(0===i||r[1].equals(n[1]))this._fireEvent("moveend",e);else{var o=this._inertiaOptions,s=o.linearity,l=o.easing,u=o.maxSpeed,c=o.deceleration,p=a.mult(s/i),h=p.mag();h>u&&(h=u,p._unit()._mult(h));var f=h/(c*s),d=p.mult(-f/2);this._map.panBy(d,{duration:1e3*f,easing:l,noMoveStart:!0},{originalEvent:e})}}},Tn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},Tn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var Cn=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};function In(e){return e*(2-e)}Cn.prototype.isEnabled=function(){return!!this._enabled},Cn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Cn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Cn.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,r=0,n=0,a=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?n=-1:(i=1,e.preventDefault());break;default:return}var o=this._map,s=o.getZoom(),l={duration:300,delayEndEvents:500,easing:In,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:o.getBearing()+15*r,pitch:o.getPitch()+10*n,offset:[100*-a,100*-i],center:o.getCenter()};o.easeTo(l,{originalEvent:e})}};var An=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};An.prototype.isEnabled=function(){return!!this._enabled},An.prototype.isActive=function(){return!!this._active},An.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},An.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},An.prototype.onTouchStart=function(e){var t=this;if(this.isEnabled()&&!(e.points.length>1))if(this._tapped){var r=e.points[0],n=this._tappedPoint;if(n&&n.dist(r)<=30){e.originalEvent.preventDefault();var a=function(){t._tapped&&t._zoom(e),t._map.off("touchcancel",i),t._resetTapped()},i=function(){t._map.off("touchend",a),t._resetTapped()};this._map.once("touchend",a),this._map.once("touchcancel",i)}else this._resetTapped()}else this._tappedPoint=e.points[0],this._tapped=setTimeout((function(){t._tapped=null,t._tappedPoint=null}),300)},An.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},An.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},An.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},An.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var kn=e.bezier(0,0,.15,1),Ln=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Ln.prototype.isEnabled=function(){return!!this._enabled},Ln.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},Ln.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Ln.prototype.disableRotation=function(){this._rotationDisabled=!0},Ln.prototype.enableRotation=function(){this._rotationDisabled=!1},Ln.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},Ln.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var n=r.mousePos(this._el,t.touches[0]),a=r.mousePos(this._el,t.touches[1]),i=n.add(a).div(2);this._startVec=n.sub(a),this._startAround=this._map.transform.pointLocation(i),this._gestureIntent=void 0,this._inertia=[],r.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.addEventListener(e.window.document,"touchend",this._onEnd)}},Ln.prototype._getTouchEventData=function(e){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),a=t.sub(n);return{vec:a,center:t.add(n).div(2),scale:a.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*a.angleWith(this._startVec)/Math.PI}},Ln.prototype._onMove=function(t){if(2===t.touches.length){var r=this._getTouchEventData(t),n=r.vec,a=r.scale,i=r.bearing;if(!this._gestureIntent){var o=this._rotationDisabled&&1!==a||Math.abs(1-a)>.15;Math.abs(i)>10?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=n)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},Ln.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var n=this._getTouchEventData(this._lastTouchEvent),a=n.center,i=n.bearing,o=n.scale,s=r.pointLocation(a),l=r.locationPoint(s);"rotate"===t&&(r.bearing=this._startBearing+i),r.zoom=r.scaleZoom(this._startScale*o),r.setLocationAtPoint(this._startAround,l),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),o,a])}},Ln.prototype._onEnd=function(t){r.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onEnd);var n=this._gestureIntent,a=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new e.Event(n+"end",{originalEvent:t})),this._drainInertiaBuffer();var i=this._inertia,o=this._map;if(i.length<2)o.snapToNorth({},{originalEvent:t});else{var s=i[i.length-1],l=i[0],u=o.transform.scaleZoom(a*s[1]),c=o.transform.scaleZoom(a*l[1]),p=u-c,h=(s[0]-l[0])/1e3,f=s[2];if(0!==h&&u!==c){var d=.15*p/h;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var y=1e3*Math.abs(d/(12*.15)),v=u+d*y/2e3;o.easeTo({zoom:v,duration:y,easing:kn,around:this._aroundCenter?o.getCenter():o.unproject(f),noMoveStart:!0},{originalEvent:t})}else o.snapToNorth({},{originalEvent:t})}}},Ln.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>2&&r-t[0][0]>160;)t.shift()};var Dn={scrollZoom:bn,boxZoom:wn,dragRotate:En,dragPan:Tn,keyboard:Cn,doubleClickZoom:An,touchZoomRotate:Ln},Pn=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.resetNorthPitch=function(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,a){if("number"==typeof(a=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},a)).padding){var i=a.padding;a.padding={top:i,bottom:i,right:i,left:i}}if(e.deepEqual(Object.keys(a.padding).sort((function(e,t){return e<t?-1:e>t?1:0})),["bottom","left","right","top"])){var o=this.transform,s=o.project(e.LngLat.convert(t)),l=o.project(e.LngLat.convert(r)),u=s.rotate(-n*Math.PI/180),c=l.rotate(-n*Math.PI/180),p=new e.Point(Math.max(u.x,c.x),Math.max(u.y,c.y)),h=new e.Point(Math.min(u.x,c.x),Math.min(u.y,c.y)),f=p.sub(h),d=(o.width-a.padding.left-a.padding.right)/f.x,y=(o.height-a.padding.top-a.padding.bottom)/f.y;if(!(y<0||d<0)){var v=Math.min(o.scaleZoom(o.scale*Math.min(d,y)),a.maxZoom),m=e.Point.convert(a.offset),g=(a.padding.left-a.padding.right)/2,_=(a.padding.top-a.padding.bottom)/2,x=new e.Point(m.x+g,m.y+_).mult(o.scale/o.zoomScale(v));return{center:o.unproject(s.add(l).div(2).sub(x)),zoom:v,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,a,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,a),a,i)},r.prototype._fitInternal=function(t,r,n){return t?(r=e.extend(t,r)).linear?this.easeTo(r,n):this.flyTo(r,n):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,a=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(a=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),a&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),i&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),o&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this.stop(),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var a=this.transform,i=this.getZoom(),o=this.getBearing(),s=this.getPitch(),l="zoom"in t?+t.zoom:i,u="bearing"in t?this._normalizeBearing(t.bearing,o):o,c="pitch"in t?+t.pitch:s,p=a.centerPoint.add(e.Point.convert(t.offset)),h=a.pointLocation(p),f=e.LngLat.convert(t.center||h);this._normalizeCenter(f);var d,y,v=a.project(h),m=a.project(f).sub(v),g=a.zoomScale(l-i);return t.around&&(d=e.LngLat.convert(t.around),y=a.locationPoint(d)),this._zooming=l!==i,this._rotating=o!==u,this._pitching=c!==s,this._prepareEase(r,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(t){if(n._zooming&&(a.zoom=e.number(i,l,t)),n._rotating&&(a.bearing=e.number(o,u,t)),n._pitching&&(a.pitch=e.number(s,c,t)),d)a.setLocationAtPoint(d,y);else{var h=a.zoomScale(a.zoom-i),f=l>i?Math.min(2,g):Math.max(.5,g),_=Math.pow(f,1-t),x=a.unproject(v.add(m.mult(t*_)).mult(h));a.setLocationAtPoint(a.renderWorldCopies?x.wrap():x,p)}n._fireMoveEvents(r)}),(function(){t.delayEndEvents?n._easeEndTimeoutID=setTimeout((function(){return n._afterEase(r)}),t.delayEndEvents):n._afterEase(r)}),t),this},r.prototype._prepareEase=function(t,r){this._moving=!0,r||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t){var r=this._zooming,n=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new e.Event("zoomend",t)),n&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},r.prototype.flyTo=function(t,r){var n=this;if(!t.essential&&e.browser.prefersReducedMotion){var a=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(a,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var i=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u="zoom"in t?e.clamp(+t.zoom,i.minZoom,i.maxZoom):o,c="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:l,h=i.zoomScale(u-o),f=i.centerPoint.add(e.Point.convert(t.offset)),d=i.pointLocation(f),y=e.LngLat.convert(t.center||d);this._normalizeCenter(y);var v=i.project(d),m=i.project(y).sub(v),g=t.curve,_=Math.max(i.width,i.height),x=_/h,b=m.mag();if("minZoom"in t){var w=e.clamp(Math.min(t.minZoom,o,u),i.minZoom,i.maxZoom),M=_/i.zoomScale(w-o);g=Math.sqrt(M/b*2)}var E=g*g;function S(e){var t=(x*x-_*_+(e?-1:1)*E*E*b*b)/(2*(e?x:_)*E*b);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function C(e){return(Math.exp(e)+Math.exp(-e))/2}var I=S(0),A=function(e){return C(I)/C(I+g*e)},k=function(e){return _*((C(I)*(T(t=I+g*e)/C(t))-T(I))/E)/b;var t},L=(S(1)-I)/g;if(Math.abs(b)<1e-6||!isFinite(L)){if(Math.abs(_-x)<1e-6)return this.easeTo(t,r);var D=x<_?-1:1;L=Math.abs(Math.log(x/_))/g,k=function(){return 0},A=function(e){return Math.exp(D*g*e)}}if("duration"in t)t.duration=+t.duration;else{var P="screenSpeed"in t?+t.screenSpeed/g:+t.speed;t.duration=1e3*L/P}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=p!==l,this._prepareEase(r,!1),this._ease((function(t){var a=t*L,h=1/A(a);i.zoom=1===t?u:o+i.scaleZoom(h),n._rotating&&(i.bearing=e.number(s,c,t)),n._pitching&&(i.pitch=e.number(l,p,t));var d=1===t?y:i.unproject(v.add(m.mult(k(a))).mult(h));i.setLocationAtPoint(i.renderWorldCopies?d.wrap():d,f),n._fireMoveEvents(r)}),(function(){return n._afterEase(r)}),t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),zn=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};zn.prototype.getDefaultPosition=function(){return"bottom-right"},zn.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},zn.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},zn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=r.reduce((function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow"}},zn.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},zn.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var a=r[n];if(a.used){var i=a.getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}}e.sort((function(e,t){return e.length-t.length}));var o=(e=e.filter((function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},zn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var On=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};On.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},On.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},On.prototype.getDefaultPosition=function(){return"bottom-left"},On.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},On.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},On.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var Nn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Nn.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},Nn.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var a=n[r];if(a.id===e)return void(a.cancelled=!0)}},Nn.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Nn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var jn={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Rn=e.window.HTMLImageElement,Fn=e.window.HTMLElement,Bn=0,Un=60,Vn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:Bn,maxPitch:Un,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},qn=function(n){function a(t){var a=this;if(null!=(t=e.extend({},Vn,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<Bn)throw new Error("minPitch must be greater than or equal to "+Bn);if(null!=t.maxPitch&&t.maxPitch>Un)throw new Error("maxPitch must be less than or equal to "+Un);var i=new yn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(n.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new Nn,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},jn,t.locale),this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Fn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return a._update(!1)})),this.on("moveend",(function(){return a._update(!1)})),this.on("zoom",(function(){return a._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var n=e.getCanvasContainer(),a=null,i=!1,o=null;for(var s in Dn)e[s]=new Dn[s](e,t),t.interactive&&t[s]&&e[s].enable(t[s]);r.addEventListener(n,"mouseout",(function(t){e.fire(new gn("mouseout",e,t))})),r.addEventListener(n,"mousedown",(function(a){i=!0,o=r.mousePos(n,a);var s=new gn("mousedown",e,a);e.fire(s),s.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(a),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(a),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(a))})),r.addEventListener(n,"mouseup",(function(t){var r=e.dragRotate.isActive();a&&!r&&e.fire(new gn("contextmenu",e,a)),a=null,i=!1,e.fire(new gn("mouseup",e,t))})),r.addEventListener(n,"mousemove",(function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new gn("mousemove",e,t))}})),r.addEventListener(n,"mouseover",(function(t){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new gn("mouseover",e,t))})),r.addEventListener(n,"touchstart",(function(r){var n=new _n("touchstart",e,r);e.fire(n),n.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(r),e.touchZoomRotate.onStart(r),e.doubleClickZoom.onTouchStart(n))}),{passive:!1}),r.addEventListener(n,"touchmove",(function(t){e.fire(new _n("touchmove",e,t))}),{passive:!1}),r.addEventListener(n,"touchend",(function(t){e.fire(new _n("touchend",e,t))})),r.addEventListener(n,"touchcancel",(function(t){e.fire(new _n("touchcancel",e,t))})),r.addEventListener(n,"click",(function(a){var i=r.mousePos(n,a);(!o||i.equals(o)||i.dist(o)<t.clickTolerance)&&e.fire(new gn("click",e,a))})),r.addEventListener(n,"dblclick",(function(t){var r=new gn("dblclick",e,t);e.fire(r),r.defaultPrevented||e.doubleClickZoom.onDblClick(r)})),r.addEventListener(n,"contextmenu",(function(t){var r=e.dragRotate.isActive();i||r?i&&(a=t):e.fire(new gn("contextmenu",e,t)),(e.dragRotate.isEnabled()||e.listens("contextmenu"))&&t.preventDefault()})),r.addEventListener(n,"wheel",(function(r){t.interactive&&e.stop();var n=new xn("wheel",e,r);e.fire(n),n.defaultPrevented||e.scrollZoom.onWheel(r)}),{passive:!1})}(this,t);var o="string"==typeof t.hash&&t.hash||void 0;this._hash=t.hash&&new mn(o).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new zn({customAttribution:t.customAttribution})),this.addControl(new On,t.logoPosition),this.on("style.load",(function(){a.transform.unmodified&&a.jumpTo(a.style.stylesheet)})),this.on("data",(function(t){a._update("style"===t.dataType),a.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){a.fire(new e.Event(t.dataType+"dataloading",t))}))}n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a;var i={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return a.prototype._getMapId=function(){return this._mapId},a.prototype.addControl=function(t,r){if(void 0===r&&t.getDefaultPosition&&(r=t.getDefaultPosition()),void 0===r&&(r="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var a=this._controlPositions[r];return-1!==r.indexOf("bottom")?a.insertBefore(n,a.firstChild):a.appendChild(n),this},a.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},a.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],a=r[1];return this._resizeCanvas(n,a),this.transform.resize(n,a),this.painter.resize(n,a),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},a.prototype.getBounds=function(){return this.transform.getBounds()},a.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},a.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},a.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},a.prototype.getMinZoom=function(){return this.transform.minZoom},a.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},a.prototype.getMaxZoom=function(){return this.transform.maxZoom},a.prototype.setMinPitch=function(e){if((e=null==e?Bn:e)<Bn)throw new Error("minPitch must be greater than or equal to "+Bn);if(e>=Bn&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between "+Bn+" and the current maxPitch, inclusive")},a.prototype.getMinPitch=function(){return this.transform.minPitch},a.prototype.setMaxPitch=function(e){if((e=null==e?Un:e)>Un)throw new Error("maxPitch must be less than or equal to "+Un);if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},a.prototype.getMaxPitch=function(){return this.transform.maxPitch},a.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},a.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},a.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},a.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},a.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},a.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},a.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},a.prototype.on=function(e,t,r){var a=this;if(void 0===r)return n.prototype.on.call(this,e,t);var i=function(){var n;if("mouseenter"===e||"mouseover"===e){var i=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var o=a.getLayer(t)?a.queryRenderedFeatures(n.point,{layers:[t]}):[];o.length?i||(i=!0,r.call(a,new gn(e,a,n.originalEvent,{features:o}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===e||"mouseout"===e){var o=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(a.getLayer(t)?a.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,r.call(a,new gn(e,a,n.originalEvent)))},mouseout:function(t){o&&(o=!1,r.call(a,new gn(e,a,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=a.getLayer(t)?a.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(a,e),delete e.features)},n)}}();for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(o,i.delegates[o]);return this},a.prototype.off=function(e,t,r){if(void 0===r)return n.prototype.off.call(this,e,t);if(this._delegatedListeners&&this._delegatedListeners[e])for(var a=this._delegatedListeners[e],i=0;i<a.length;i++){var o=a[i];if(o.layer===t&&o.listener===r){for(var s in o.delegates)this.off(s,o.delegates[s]);return a.splice(i,1),this}}return this},a.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var a=e.Point.convert(t[0]),i=e.Point.convert(t[1]);n=[a,new e.Point(i.x,a.y),i,new e.Point(a.x,i.y),a]}return this.style.queryRenderedFeatures(n,r,this.transform)},a.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},a.prototype.setStyle=function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._updateStyle(t,r))},a.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},a.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Rt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},a.prototype._diffStyle=function(t,r){var n=this;if("string"==typeof t){var a=this._requestManager.normalizeStyleURL(t),i=this._requestManager.transformRequest(a,e.ResourceType.Style);e.getJSON(i,(function(t,a){t?n.fire(new e.ErrorEvent(t)):a&&n._updateDiff(a,r)}))}else"object"==typeof t&&this._updateDiff(t,r)},a.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},a.prototype.getStyle=function(){if(this.style)return this.style.serialize()},a.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},a.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},a.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},a.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var a=r[n];if("loaded"!==a.state&&"errored"!==a.state)return!1}}return!0},a.prototype.addSourceType=function(e,t,r){return this.style.addSourceType(e,t,r)},a.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},a.prototype.getSource=function(e){return this.style.getSource(e)},a.prototype.addImage=function(t,r,n){void 0===n&&(n={});var a=n.pixelRatio;void 0===a&&(a=1);var i=n.sdf;void 0===i&&(i=!1);var o=n.stretchX,s=n.stretchY,l=n.content;if(r instanceof Rn){var u=e.browser.getImageData(r),c=u.width,p=u.height,h=u.data;this.style.addImage(t,{data:new e.RGBAImage({width:c,height:p},h),pixelRatio:a,stretchX:o,stretchY:s,content:l,sdf:i,version:0})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var f=r.width,d=r.height,y=r.data,v=r;this.style.addImage(t,{data:new e.RGBAImage({width:f,height:d},new Uint8Array(y)),pixelRatio:a,stretchX:o,stretchY:s,content:l,sdf:i,version:0,userImage:v}),v.onAdd&&v.onAdd(this,t)}},a.prototype.updateImage=function(t,r){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var a=r instanceof Rn?e.browser.getImageData(r):r,i=a.width,o=a.height,s=a.data;if(void 0===i||void 0===o)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==n.data.width||o!==n.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var l=!(r instanceof Rn);n.data.replace(s,l),this.style.updateImage(t,n)},a.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},a.prototype.removeImage=function(e){this.style.removeImage(e)},a.prototype.loadImage=function(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),r)},a.prototype.listImages=function(){return this.style.listImages()},a.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},a.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},a.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},a.prototype.getLayer=function(e){return this.style.getLayer(e)},a.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},a.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},a.prototype.getFilter=function(e){return this.style.getFilter(e)},a.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},a.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},a.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},a.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},a.prototype.setLight=function(e,t){return void 0===t&&(t={}),this.style.setLight(e,t),this._update(!0)},a.prototype.getLight=function(){return this.style.getLight()},a.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},a.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},a.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},a.prototype.getContainer=function(){return this._container},a.prototype.getCanvasContainer=function(){return this._canvasContainer},a.prototype.getCanvas=function(){return this._canvas},a.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},a.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},a.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var a=this._controlContainer=r.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){i[e]=r.create("div","mapboxgl-ctrl-"+e,a)}))},a.prototype._resizeCanvas=function(t,r){var n=e.window.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},a.prototype._setupPainter=function(){var r=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new pn(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},a.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},a.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},a.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},a.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},a.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},a.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},a.prototype._render=function(){var t,r=this,n=0,a=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(t=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,t),n=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var i=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var o=this.transform.zoom,s=e.browser.now();this.style.zoomHistory.update(o,s);var l=new e.EvaluationParameters(o,{now:s,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),u=l.crossFadingFactor();1===u&&u===this._crossFadingFactor||(i=!0,this._crossFadingFactor=u),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||i)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var c=e.browser.now()-n;a.endQueryEXT(a.TIME_ELAPSED_EXT,t),setTimeout((function(){var n=a.getQueryObjectEXT(t,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(t),r.fire(new e.Event("gpu-timing-frame",{cpuTime:c,gpuTime:n}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(p);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}return this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),this},a.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1)r[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Wn(this._canvasContainer),Wn(this._controlContainer),Wn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},a.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(){t._frame=null,t._render()})))},a.prototype._onWindowOnline=function(){this._update()},a.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(e){this._vertices=e,this._update()},a.prototype._setCacheLimits=function(t,r){e.setCacheLimits(t,r)},i.version.get=function(){return e.version},Object.defineProperties(a.prototype,i),a}(Pn);function Wn(e){e.parentNode&&e.parentNode.removeChild(e)}var Gn={showCompass:!0,showZoom:!0,visualizePitch:!1},Yn=function(t){var n=this;this.options=e.extend({},Gn,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),r.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=r.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};function Zn(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var a=new e.LngLat(t.lng-360,t.lat),i=new e.LngLat(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(r);n.locationPoint(a).distSqr(r)<o?t=a:n.locationPoint(i).distSqr(r)<o&&(t=i)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Yn.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.disabled=e===this._map.getMaxZoom(),this._zoomOutButton.disabled=e===this._map.getMinZoom()},Yn.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Yn.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new En(e,{button:"left",element:this._compass}),r.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),r.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},Yn.prototype.onRemove=function(){r.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),r.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),r.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},Yn.prototype._createButton=function(e,t){var n=r.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n},Yn.prototype._setButtonTitle=function(e,t){var r=this._map._getUIString("NavigationControl."+t);e.title=r,e.setAttribute("aria-label",r)};var Hn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Qn(e,t,r){var n=e.classList;for(var a in Hn)n.remove("mapboxgl-"+r+"-anchor-"+a);n.add("mapboxgl-"+r+"-anchor-"+t)}var Xn,Kn=function(t){function n(n,a){var i=this;if(t.call(this),(n instanceof e.window.HTMLElement||a)&&(n=e.extend({element:n},a)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div"),this._element.setAttribute("aria-label","Map marker");var o=r.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");var l=r.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"fill-rule","nonzero");var u=r.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var c=0,p=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];c<p.length;c+=1){var h=p[c],f=r.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",h.rx),f.setAttributeNS(null,"ry",h.ry),u.appendChild(f)}var d=r.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var y=r.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(y);var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"fill","#000000");var m=r.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),v.appendChild(m);var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var _=r.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(8.0, 8.0)");var x=r.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#000000"),x.setAttributeNS(null,"opacity","0.25"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),_.appendChild(x),_.appendChild(b),l.appendChild(u),l.appendChild(d),l.appendChild(v),l.appendChild(g),l.appendChild(_),o.appendChild(l),this._element.appendChild(o),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),this._element.addEventListener("focus",(function(){var e=i._map.getContainer();e.scrollTop=0,e.scrollLeft=0})),Qn(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(e){var t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Zn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,Hn[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+n+" "+t)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(e.Evented),Jn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},$n=function(t){function n(r){t.call(this),this.options=e.extend({},Jn,r),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Xn?n(Xn):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){Xn="denied"!==e.state,n(Xn)})):(Xn=!!e.window.navigator.geolocation,n(Xn)),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),r.remove(this._container),this._map=void 0},n.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),r=e.coords;return t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(t){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,a=this._map.getBearing(),i=e.extend({bearing:a},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),i,{geolocateSource:!0})},n.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},n.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else this._setErrorState();"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=r.create("button","mapboxgl-ctrl-geolocate",this._container),r.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var a=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Kn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){var r=t.originalEvent&&"resize"===t.originalEvent.type;t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||r||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),ea={maxWidth:100,unit:"metric"},ta=function(t){this.options=e.extend({},ea,t),e.bindAll(["_onMove","setUnit"],this)};function ra(e,t,r){var n,a,i,o,s,l,u=r&&r.maxWidth||100,c=e._container.clientHeight/2,p=(n=e.unproject([0,c]),a=e.unproject([u,c]),i=Math.PI/180,o=n.lat*i,s=a.lat*i,l=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos((a.lng-n.lng)*i),6371e3*Math.acos(Math.min(l,1)));if(r&&"imperial"===r.unit){var h=3.2808*p;h>5280?na(t,u,h/5280,e._getUIString("ScaleControl.Miles")):na(t,u,h,e._getUIString("ScaleControl.Feet"))}else r&&"nautical"===r.unit?na(t,u,p/1852,e._getUIString("ScaleControl.NauticalMiles")):p>=1e3?na(t,u,p/1e3,e._getUIString("ScaleControl.Kilometers")):na(t,u,p,e._getUIString("ScaleControl.Meters"))}function na(e,t,r,n){var a,i,o,s=(a=r,(i=Math.pow(10,(""+Math.floor(a)).length-1))*(o=(o=a/i)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o))),l=s/r;e.style.width=t*l+"px",e.innerHTML=s+n}ta.prototype.getDefaultPosition=function(){return"bottom-left"},ta.prototype._onMove=function(){ra(this._map,this._container,this.options)},ta.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},ta.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},ta.prototype.setUnit=function(e){this.options.unit=e,ra(this._map,this._container,this.options)};var aa=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};aa.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},aa.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},aa.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},aa.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);r.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},aa.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},aa.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},aa.prototype._isFullscreen=function(){return this._fullscreen},aa.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},aa.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ia={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},oa=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(ia),r),e.bindAll(["_update","_onClickClose","remove"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(t){var r=this;return this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(e){r._update(e.point)})),this._map.on("mouseup",(function(e){r._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){var e=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(t){e._update(t.point)})),this._map.on("drag",(function(t){e._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),a=e.window.document.createElement("body");for(a.innerHTML=t;r=a.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},n.prototype.addClassName=function(e){this._container.classList.add(e)},n.prototype.removeClassName=function(e){this._container.classList.remove(e)},n.prototype.toggleClassName=function(e){return this._container.classList.toggle(e)},n.prototype._createContent=function(){this._content&&r.remove(this._content),this._content=r.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},n.prototype._update=function(t){var n=this,a=this._lngLat||this._trackPointer;if(this._map&&a&&this._content&&(this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return n._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Zn(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),o=this.options.anchor,s=function t(r){if(r){if("number"==typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var a=e.Point.convert(r);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var l,u=this._container.offsetWidth,c=this._container.offsetHeight;l=i.y+s.bottom.y<c?["top"]:i.y>this._map.transform.height-c?["bottom"]:[],i.x<u/2?l.push("left"):i.x>this._map.transform.width-u/2&&l.push("right"),o=0===l.length?"bottom":l.join("-")}var p=i.add(s[o]).round();r.setTransform(this._container,Hn[o]+" translate("+p.x+"px,"+p.y+"px)"),Qn(this._container,o,"popup")}},n.prototype._onClickClose=function(){this.remove()},n}(e.Evented),sa={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:qn,NavigationControl:Yn,GeolocateControl:$n,AttributionControl:zn,ScaleControl:ta,FullscreenControl:aa,Popup:oa,Marker:Kn,Style:Rt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return ze.workerCount},set workerCount(e){ze.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return sa})),r}()},function(e,t){function r(){}r.prototype.init=function(){if(!arguments.length)throw new Error("no arguments");if(arguments[0].lat&&arguments[0].lng)this.lat=arguments[0].lat,this.lon=arguments[0].lng;else if("string"==typeof arguments[0]){var e=arguments[0].split(",");this.lat=parseFloat(e[0].trim()),this.lon=parseFloat(e[1].trim())}else if("[object Array]"===Object.prototype.toString.call(arguments[0])){var t=arguments[0];!0===arguments[1]?(this.lat=t[1],this.lon=t[0]):(this.lat=t[0],this.lon=t[1])}else!0===arguments[2]?(this.lat=arguments[1],this.lon=arguments[0]):(this.lat=arguments[0],this.lon=arguments[1]);this.compute()},r.prototype.compute=function(){function e(e){var t={};return t.initValue=e,t.degrees=Math.abs(e),t.degreesInt=Math.floor(t.degrees),t.degreesFrac=t.degrees-t.degreesInt,t.secondsTotal=3600*t.degreesFrac,t.minutes=t.secondsTotal/60,t.minutesInt=Math.floor(t.minutes),t.seconds=t.secondsTotal-60*t.minutesInt,t}this.north=this.lat>0,this.east=this.lon>0,this.latValues=e(this.lat),this.lonValues=e(this.lon)};var n={FFf:"DD MM ss X",Ff:"DD mm X",f:"dd X"},a={degrees:"°",minutes:"′",seconds:"″"};r.prototype.format=function(e,t){if("object"==typeof e){t=e,e="FFf"}(void 0===e&&(e="FFf"),void 0===t&&(t={}),"string"==typeof t)&&(t={latLonSeparator:t});void 0===t.latLonSeparator&&(t.latLonSeparator=" "),void 0===t.decimalPlaces?t.decimalPlaces=5:t.decimalPlaces=parseInt(t.decimalPlaces),Object.keys(n).indexOf(e)>-1&&(e=n[e]);var r=o(this.latValues,this.north?"N":"S"),i=o(this.lonValues,this.east?"E":"W");function o(r,n){var i=e;return i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/DD/g,r.degreesInt+a.degrees)).replace(/dd/g,r.degrees.toFixed(t.decimalPlaces)+a.degrees)).replace(/D/g,r.degreesInt)).replace(/d/g,r.degrees.toFixed(t.decimalPlaces))).replace(/MM/g,r.minutesInt+a.minutes)).replace(/mm/g,r.minutes.toFixed(t.decimalPlaces)+a.minutes)).replace(/M/g,r.minutesInt)).replace(/m/g,r.minutes.toFixed(t.decimalPlaces))).replace(/ss/g,r.seconds.toFixed(t.decimalPlaces)+a.seconds)).replace(/s/g,r.seconds.toFixed(t.decimalPlaces))).replace(/-/g,r.initValue<0?"-":"")).replace(/X/g,n)}return r+t.latLonSeparator+i},e.exports=function(){var e=new r;return e.init.apply(e,arguments),e}},function(e,t,r){e.exports={Main:"_93L9 undefined _1Qma",Ribbon:"_2pLH _93L9 undefined _1Qma",MainDecorator:"_2ROJ",RibbonDecorator:"_2ldK"}},function(e){e.exports=JSON.parse('{"a":"/api/static"}')},function(e,t,r){var n=r(271),a=r(521),i=r(92),o=r(185),s=r(546),l=r(547);function u(t){var r="function"==typeof a?new a:void 0;return e.exports=u=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return l(e,arguments,i(this).constructor)}return t.prototype=n(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},u(t)}e.exports=u},function(e,t,r){e.exports={top:"FV-T",right:"_1_vk",bottom:"sh9e",left:"_1Cof",vertical:"_4LRe FV-T sh9e",horizontal:"Auw9 _1_vk _1Cof",all:"_2bBd _4LRe FV-T sh9e Auw9 _1_vk _1Cof"}},function(e,t,r){e.exports={LocaleSwitcher:"_2i2z"}},function(e,t,r){e.exports=r(581)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=p(r(0)),o=r(586),s=p(r(151)),l=p(r(244)),u=p(r(587)),c=p(r(6));function p(e){return e&&e.__esModule?e:{default:e}}var h=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.slideToIndex=function(e,t){var n=r.state,a=n.currentIndex;if(!n.isTransitioning){t&&r._intervalId&&(r.pause(!1),r.play(!1));var i=r.props.items.length-1,o=e;e<0?o=i:e>i&&(o=0),r.setState({previousIndex:a,currentIndex:o,isTransitioning:o!==a,offsetPercentage:0,style:{transition:"all "+r.props.slideDuration+"ms ease-out"}},r._onSliding)}},r._onSliding=function(){var e=r.state.isTransitioning;r._transitionTimer=window.setTimeout((function(){e&&(r.setState({isTransitioning:!e}),r.props.onSlide&&r.props.onSlide(r.state.currentIndex))}),r.props.slideDuration+50)},r._handleScreenChange=function(){var e=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;r.props.onScreenChange&&r.props.onScreenChange(e),r.setState({isFullscreen:!!e})},r._toggleFullScreen=function(){r.state.isFullscreen?r.exitFullScreen():r.fullScreen()},r._togglePlay=function(){r._intervalId?r.pause():r.play()},r._initGalleryResizing=function(e){e&&(r._imageGallerySlideWrapper=e,r.resizeObserver=new u.default(r._createResizeObserver),r.resizeObserver.observe(e))},r._createResizeObserver=(0,l.default)((function(e){e&&e.forEach((function(){r._handleResize()}))}),300),r._handleResize=function(){var e=r.state.currentIndex;r._imageGallery&&r.setState({galleryWidth:r._imageGallery.offsetWidth}),r._imageGallerySlideWrapper&&r.setState({gallerySlideWrapperHeight:r._imageGallerySlideWrapper.offsetHeight}),r._thumbnailsWrapper&&(r._isThumbnailVertical()?r.setState({thumbnailsWrapperHeight:r._thumbnailsWrapper.offsetHeight}):r.setState({thumbnailsWrapperWidth:r._thumbnailsWrapper.offsetWidth})),r._setThumbsTranslate(-r._getThumbsTranslate(e))},r._handleKeyDown=function(e){if(!r.props.disableArrowKeys){switch(parseInt(e.keyCode||e.which||0)){case 37:r._canSlideLeft()&&!r._intervalId&&r._slideLeft();break;case 39:r._canSlideRight()&&!r._intervalId&&r._slideRight();break;case 27:r.state.isFullscreen&&!r.props.useBrowserFullscreen&&r.exitFullScreen()}}},r._handleImageError=function(e){r.props.defaultImage&&-1===e.target.src.indexOf(r.props.defaultImage)&&(e.target.src=r.props.defaultImage)},r._handleOnSwiped=function(e){var t=e.event,n=e.dir,a=e.velocity;if(!r.props.disableSwipe){var i=r.state,s=i.scrollingUpDown,l=i.scrollingLeftRight,u=r.props.isRTL;if(r.props.stopPropagation&&t.stopPropagation(),s&&r.setState({scrollingUpDown:!1}),l&&r.setState({scrollingLeftRight:!1}),!s){var c=(n===o.LEFT?1:-1)*(u?-1:1),p=a>r.props.flickThreshold;r._handleOnSwipedTo(c,p)}}},r._handleSwiping=function(e){var t=e.event,n=e.absX,a=e.dir;if(!r.props.disableSwipe){var i=r.state,s=i.galleryWidth,l=i.isTransitioning,u=i.scrollingUpDown,c=i.scrollingLeftRight,p=r.props.swipingTransitionDuration;if(r._setScrollDirection(a),r.props.stopPropagation&&t.stopPropagation(),(r.props.preventDefaultTouchmoveEvent||c)&&t.cancelable&&t.preventDefault(),l||u)r.setState({offsetPercentage:0});else{var h=a===o.RIGHT?1:-1,f=n/s*100;Math.abs(f)>=100&&(f=100);var d={transition:"transform "+p+"ms ease-out"};r.setState({offsetPercentage:h*f,style:d})}}},r._slideLeft=function(){r.props.isRTL?r._slideNext():r._slidePrevious()},r._slideRight=function(){r.props.isRTL?r._slidePrevious():r._slideNext()},r._slidePrevious=function(e){r.slideToIndex(r.state.currentIndex-1,e)},r._slideNext=function(e){r.slideToIndex(r.state.currentIndex+1,e)},r._renderItem=function(e){var t=r.props.onImageError||r._handleImageError;return i.default.createElement("div",{className:"image-gallery-image"},e.imageSet?i.default.createElement("picture",{onLoad:r.props.onImageLoad,onError:t},e.imageSet.map((function(e,t){return i.default.createElement("source",{key:t,media:e.media,srcSet:e.srcSet,type:e.type})})),i.default.createElement("img",{alt:e.originalAlt,src:e.original})):i.default.createElement("img",{src:e.original,alt:e.originalAlt,srcSet:e.srcSet,sizes:e.sizes,title:e.originalTitle,onLoad:r.props.onImageLoad,onError:t}),e.description&&i.default.createElement("span",{className:"image-gallery-description"},e.description))},r._renderThumbInner=function(e){var t=r.props.onThumbnailError||r._handleImageError;return i.default.createElement("div",{className:"image-gallery-thumbnail-inner"},i.default.createElement("img",{src:e.thumbnail,alt:e.thumbnailAlt,title:e.thumbnailTitle,onError:t}),e.thumbnailLabel&&i.default.createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))},r._onThumbnailClick=function(e,t){r.slideToIndex(t,e),r.props.onThumbnailClick&&r.props.onThumbnailClick(e,t)},r._onThumbnailMouseOver=function(e,t){r._thumbnailMouseOverTimer&&(window.clearTimeout(r._thumbnailMouseOverTimer),r._thumbnailMouseOverTimer=null),r._thumbnailMouseOverTimer=window.setTimeout((function(){r.slideToIndex(t),r.pause()}),300)},r._onThumbnailMouseLeave=function(){r._thumbnailMouseOverTimer&&(window.clearTimeout(r._thumbnailMouseOverTimer),r._thumbnailMouseOverTimer=null,r.props.autoPlay&&r.play())},r.state={currentIndex:e.startIndex,thumbsTranslate:0,offsetPercentage:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,isFullscreen:!1,isPlaying:!1},r._unthrottledSlideToIndex=r.slideToIndex,r.slideToIndex=(0,s.default)(r._unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(r._lazyLoaded=[]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidUpdate",value:function(e,t){var r=e.items.length!==this.props.items.length,n=e.items!==this.props.items,a=e.startIndex!==this.props.startIndex;r&&this._handleResize(),t.currentIndex!==this.state.currentIndex&&this._slideThumbnailBar(t.currentIndex),e.slideDuration!==this.props.slideDuration&&(this.slideToIndex=(0,s.default)(this._unthrottledSlideToIndex,this.props.slideDuration,{trailing:!1})),!this.props.lazyLoad||e.lazyLoad&&!n||(this._lazyLoaded=[]),(a||n)&&this.setState({currentIndex:this.props.startIndex})}},{key:"componentDidMount",value:function(){this.props.autoPlay&&this.play(),window.addEventListener("keydown",this._handleKeyDown),this._onScreenChangeEvent()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handleKeyDown),this._offScreenChangeEvent(),this._intervalId&&(window.clearInterval(this._intervalId),this._intervalId=null),this.resizeObserver&&this._imageGallerySlideWrapper&&this.resizeObserver.unobserve(this._imageGallerySlideWrapper),this._transitionTimer&&window.clearTimeout(this._transitionTimer),this._createResizeObserver&&this._createResizeObserver()}},{key:"play",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this._intervalId){var r=this.props,n=r.slideInterval,a=r.slideDuration;this.setState({isPlaying:!0}),this._intervalId=window.setInterval((function(){e.props.infinite||e._canSlideRight()?e.slideToIndex(e.state.currentIndex+1):e.pause()}),Math.max(n,a)),this.props.onPlay&&t&&this.props.onPlay(this.state.currentIndex)}}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._intervalId&&(window.clearInterval(this._intervalId),this._intervalId=null,this.setState({isPlaying:!1}),this.props.onPause&&e&&this.props.onPause(this.state.currentIndex))}},{key:"setModalFullscreen",value:function(e){this.setState({modalFullscreen:e}),this.props.onScreenChange&&this.props.onScreenChange(e)}},{key:"fullScreen",value:function(){var e=this._imageGallery;this.props.useBrowserFullscreen?e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){this.state.isFullscreen&&(this.props.useBrowserFullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"_onScreenChangeEvent",value:function(){var e=this;h.map((function(t){document.addEventListener(t,e._handleScreenChange)}))}},{key:"_offScreenChangeEvent",value:function(){var e=this;h.map((function(t){document.removeEventListener(t,e._handleScreenChange)}))}},{key:"_isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return"left"===e||"right"===e}},{key:"_setScrollDirection",value:function(e){var t=this.state,r=t.scrollingUpDown,n=t.scrollingLeftRight;r||n||(e===o.LEFT||e===o.RIGHT?this.setState({scrollingLeftRight:!0}):this.setState({scrollingUpDown:!0}))}},{key:"_handleOnSwipedTo",value:function(e,t){var r=this.state,n=r.currentIndex,a=r.isTransitioning,i=n;!this._sufficientSwipeOffset()&&!t||a||(i+=e),e<0?this._canSlideLeft()||(i=n):this._canSlideRight()||(i=n),this._unthrottledSlideToIndex(i)}},{key:"_sufficientSwipeOffset",value:function(){return Math.abs(this.state.offsetPercentage)>this.props.swipeThreshold}},{key:"_canNavigate",value:function(){return this.props.items.length>=2}},{key:"_canSlideLeft",value:function(){return this.props.infinite||(this.props.isRTL?this._canSlideNext():this._canSlidePrevious())}},{key:"_canSlideRight",value:function(){return this.props.infinite||(this.props.isRTL?this._canSlidePrevious():this._canSlideNext())}},{key:"_canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"_canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"_slideThumbnailBar",value:function(e){var t=this.state,r=t.thumbsTranslate,n=t.currentIndex;if(0===this.state.currentIndex)this._setThumbsTranslate(0);else{var a=Math.abs(e-n),i=this._getThumbsTranslate(a);i>0&&(e<n?this._setThumbsTranslate(r-i):e>n&&this._setThumbsTranslate(r+i))}}},{key:"_setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"_getThumbsTranslate",value:function(e){if(this.props.disableThumbnailScroll)return 0;var t=this.state,r=t.thumbnailsWrapperWidth,n=t.thumbnailsWrapperHeight,a=void 0;if(this._thumbnails){if(this._isThumbnailVertical()){if(this._thumbnails.scrollHeight<=n)return 0;a=this._thumbnails.scrollHeight-n}else{if(this._thumbnails.scrollWidth<=r||r<=0)return 0;a=this._thumbnails.scrollWidth-r}return e*(a/(this._thumbnails.children.length-1))}}},{key:"_getAlignmentClassName",value:function(e){var t=this.state.currentIndex,r="";switch(e){case t-1:r=" left";break;case t:r=" center";break;case t+1:r=" right"}return this.props.items.length>=3&&this.props.infinite&&(0===e&&t===this.props.items.length-1?r=" right":e===this.props.items.length-1&&0===t&&(r=" left")),r}},{key:"_isGoingFromFirstToLast",value:function(){var e=this.state,t=e.currentIndex,r=e.previousIndex,n=this.props.items.length-1;return 0===r&&t===n}},{key:"_isGoingFromLastToFirst",value:function(){var e=this.state,t=e.currentIndex;return e.previousIndex===this.props.items.length-1&&0===t}},{key:"_getTranslateXForTwoSlide",value:function(e){var t=this.state,r=t.currentIndex,n=t.offsetPercentage,a=t.previousIndex,i=-100*r+100*e+n;return n>0?this.direction="left":n<0&&(this.direction="right"),0===r&&1===e&&n>0?i=-100+n:1===r&&0===e&&n<0&&(i=100+n),r!==a?0===a&&0===e&&0===n&&"left"===this.direction?i=100:1===a&&1===e&&0===n&&"right"===this.direction&&(i=-100):0===r&&1===e&&0===n&&"left"===this.direction?i=-100:1===r&&0===e&&0===n&&"right"===this.direction&&(i=100),i}},{key:"_getThumbnailBarHeight",value:function(){return this._isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"_shouldPushSlideOnInfiniteMode",value:function(e){return!this._slideIsTransitioning(e)||this._ignoreIsTransitioning()&&!this._isFirstOrLastSlide(e)}},{key:"_slideIsTransitioning",value:function(e){var t=this.state,r=t.isTransitioning,n=t.previousIndex,a=t.currentIndex;return r&&!(e===n||e===a)}},{key:"_isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||0===e}},{key:"_ignoreIsTransitioning",value:function(){var e=this.state,t=e.previousIndex,r=e.currentIndex,n=this.props.items.length-1;return Math.abs(t-r)>1&&!(0===t&&r===n)&&!(t===n&&0===r)}},{key:"_getSlideStyle",value:function(e){var t=this.state,r=t.currentIndex,n=t.offsetPercentage,a=this.props,i=a.infinite,o=a.items,s=a.useTranslate3D,l=a.isRTL,u=-100*r,c=o.length-1,p=(u+100*e)*(l?-1:1)+n;i&&o.length>2&&(0===r&&e===c?p=-100*(l?-1:1)+n:r===c&&0===e&&(p=100*(l?-1:1)+n)),i&&2===o.length&&(p=this._getTranslateXForTwoSlide(e));var h="translate("+p+"%, 0)";return s&&(h="translate3d("+p+"%, 0, 0)"),{WebkitTransform:h,MozTransform:h,msTransform:h,OTransform:h,transform:h}}},{key:"_getThumbnailStyle",value:function(){var e=void 0,t=this.props,r=t.useTranslate3D,n=t.isRTL,a=this.state.thumbsTranslate,i=n?-1*a:a;return this._isThumbnailVertical()?(e="translate(0, "+a+"px)",r&&(e="translate3d(0, "+a+"px, 0)")):(e="translate("+i+"px, 0)",r&&(e="translate3d("+i+"px, 0, 0)")),{WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e}}},{key:"render",value:function(){var e=this,t=this.state,r=t.currentIndex,a=t.isFullscreen,s=t.modalFullscreen,l=t.isPlaying,u=this.props,c=u.infinite,p=u.slideOnThumbnailOver,h=u.isRTL,f=u.lazyLoad,d=this._getThumbnailStyle(),y=this.props.thumbnailPosition,v=this._slideLeft,m=this._slideRight,g=[],_=[],x=[];this.props.items.forEach((function(t,a){var o=e._getAlignmentClassName(a),s=t.originalClass?" "+t.originalClass:"",l=t.thumbnailClass?" "+t.thumbnailClass:"",u=t.renderItem||e.props.renderItem||e._renderItem,h=t.renderThumbInner||e.props.renderThumbInner||e._renderThumbInner,d=!f||o||e._lazyLoaded[a];d&&f&&!e._lazyLoaded[a]&&(e._lazyLoaded[a]=!0);var y=e._getSlideStyle(a),v=i.default.createElement("div",{key:a,className:"image-gallery-slide"+o+s,style:n(y,e.state.style),onClick:e.props.onClick,onTouchMove:e.props.onTouchMove,onTouchEnd:e.props.onTouchEnd,onTouchStart:e.props.onTouchStart,onMouseOver:e.props.onMouseOver,onMouseLeave:e.props.onMouseLeave,role:e.props.onClick&&"button"},d?u(t):i.default.createElement("div",{style:{height:"100%"}}));if(c?e._shouldPushSlideOnInfiniteMode(a)&&g.push(v):g.push(v),e.props.showThumbnails&&_.push(i.default.createElement("a",{key:a,role:"button","aria-pressed":r===a?"true":"false","aria-label":"Go to Slide "+(a+1),className:"image-gallery-thumbnail"+(r===a?" active":"")+l,onMouseLeave:p?e._onThumbnailMouseLeave:void 0,onMouseOver:function(t){return p?e._onThumbnailMouseOver(t,a):void 0},onClick:function(t){return e._onThumbnailClick(t,a)}},h(t))),e.props.showBullets){x.push(i.default.createElement("button",{key:a,type:"button",className:["image-gallery-bullet",r===a?"active":"",t.bulletClass||""].join(" "),onClick:function(n){return t.bulletOnClick&&t.bulletOnClick({item:t,itemIndex:a,currentIndex:r}),e.slideToIndex.call(e,a,n)},"aria-pressed":r===a?"true":"false","aria-label":"Go to Slide "+(a+1)}))}}));var b=i.default.createElement("div",{ref:this._initGalleryResizing,className:"image-gallery-slide-wrapper "+y+" "+(h?"image-gallery-rtl":"")},this.props.renderCustomControls&&this.props.renderCustomControls(),this.props.showFullscreenButton&&this.props.renderFullscreenButton(this._toggleFullScreen,a),this.props.showPlayButton&&this.props.renderPlayPauseButton(this._togglePlay,l),this._canNavigate()?[this.props.showNav&&i.default.createElement("span",{key:"navigation"},this.props.renderLeftNav(v,!this._canSlideLeft()),this.props.renderRightNav(m,!this._canSlideRight())),i.default.createElement(o.Swipeable,{className:"image-gallery-swipe",key:"swipeable",delta:0,onSwiping:this._handleSwiping,onSwiped:this._handleOnSwiped},i.default.createElement("div",{className:"image-gallery-slides"},g))]:i.default.createElement("div",{className:"image-gallery-slides"},g),this.props.showBullets&&i.default.createElement("div",{className:"image-gallery-bullets"},i.default.createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},x)),this.props.showIndex&&i.default.createElement("div",{className:"image-gallery-index"},i.default.createElement("span",{className:"image-gallery-index-current"},this.state.currentIndex+1),i.default.createElement("span",{className:"image-gallery-index-separator"},this.props.indexSeparator),i.default.createElement("span",{className:"image-gallery-index-total"},this.props.items.length))),w=["image-gallery",this.props.additionalClass,s?"fullscreen-modal":""].filter((function(e){return"string"==typeof e})).join(" ");return i.default.createElement("div",{ref:function(t){return e._imageGallery=t},className:w,"aria-live":"polite"},i.default.createElement("div",{className:"image-gallery-content"+(a?" fullscreen":"")},("bottom"===y||"right"===y)&&b,this.props.showThumbnails&&i.default.createElement("div",{className:"image-gallery-thumbnails-wrapper "+y+" "+(!this._isThumbnailVertical()&&h?"thumbnails-wrapper-rtl":""),style:this._getThumbnailBarHeight()},i.default.createElement("div",{className:"image-gallery-thumbnails",ref:function(t){return e._thumbnailsWrapper=t}},i.default.createElement("div",{ref:function(t){return e._thumbnails=t},className:"image-gallery-thumbnails-container",style:d,"aria-label":"Thumbnail Navigation"},_))),("top"===y||"left"===y)&&b))}}]),t}(i.default.Component);f.propTypes={flickThreshold:c.default.number,items:c.default.array.isRequired,showNav:c.default.bool,autoPlay:c.default.bool,lazyLoad:c.default.bool,infinite:c.default.bool,showIndex:c.default.bool,showBullets:c.default.bool,showThumbnails:c.default.bool,showPlayButton:c.default.bool,showFullscreenButton:c.default.bool,disableThumbnailScroll:c.default.bool,disableArrowKeys:c.default.bool,disableSwipe:c.default.bool,useBrowserFullscreen:c.default.bool,preventDefaultTouchmoveEvent:c.default.bool,defaultImage:c.default.string,indexSeparator:c.default.string,thumbnailPosition:c.default.string,startIndex:c.default.number,slideDuration:c.default.number,slideInterval:c.default.number,slideOnThumbnailOver:c.default.bool,swipeThreshold:c.default.number,swipingTransitionDuration:c.default.number,onSlide:c.default.func,onScreenChange:c.default.func,onPause:c.default.func,onPlay:c.default.func,onClick:c.default.func,onImageLoad:c.default.func,onImageError:c.default.func,onTouchMove:c.default.func,onTouchEnd:c.default.func,onTouchStart:c.default.func,onMouseOver:c.default.func,onMouseLeave:c.default.func,onThumbnailError:c.default.func,onThumbnailClick:c.default.func,renderCustomControls:c.default.func,renderLeftNav:c.default.func,renderRightNav:c.default.func,renderPlayPauseButton:c.default.func,renderFullscreenButton:c.default.func,renderItem:c.default.func,stopPropagation:c.default.bool,additionalClass:c.default.string,useTranslate3D:c.default.bool,isRTL:c.default.bool},f.defaultProps={items:[],showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableArrowKeys:!1,disableSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,preventDefaultTouchmoveEvent:!1,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,slideInterval:3e3,swipeThreshold:30,renderLeftNav:function(e,t){return i.default.createElement("button",{type:"button",className:"image-gallery-left-nav",disabled:t,onClick:e,"aria-label":"Previous Slide"})},renderRightNav:function(e,t){return i.default.createElement("button",{type:"button",className:"image-gallery-right-nav",disabled:t,onClick:e,"aria-label":"Next Slide"})},renderPlayPauseButton:function(e,t){return i.default.createElement("button",{type:"button",className:"image-gallery-play-button"+(t?" active":""),onClick:e,"aria-label":"Play or Pause Slideshow"})},renderFullscreenButton:function(e,t){return i.default.createElement("button",{type:"button",className:"image-gallery-fullscreen-button"+(t?" active":""),onClick:e,"aria-label":"Open Fullscreen"})}},t.default=f},function(e,t,r){e.exports=r(596)},function(e,t,r){var n=r(599);e.exports=n},function(e,t,r){var n=r(614);e.exports=function(e,t){return n(Date.now(),e,t)}},function(e,t,r){e.exports=r(620)},function(e,t,r){e.exports={ColumnSet:"_2jcu"}},function(e,t,r){e.exports={Item:"asyg"}},function(e,t,r){e.exports=r(624)},function(e,t,r){e.exports={Tag:"_1X4J"}},function(e,t,r){var n=r(276),a=r(90),i=r(146),o=r(149),s=r(278),l=r(277),u=r(625);e.exports=n,e.exports.DateUtils=a,e.exports.LocaleUtils=i,e.exports.ModifiersUtils=o,e.exports.WeekdayPropTypes=s.propTypes,e.exports.NavbarPropTypes=l.propTypes,e.exports.PropTypes=u},function(e,t,r){var n=r(18),a=r(267),i=r(279);e.exports=function(e,t){var r=n(e),o=n(t),s=i(r,o),l=Math.abs(a(r,o));return r.setDate(r.getDate()-s*l),s*(l-(i(r,o)===-s))}},function(e,t,r){e.exports={alp:"_2Ua5",tln:"_22pE",btl:"_2zUS"}},function(e){e.exports=JSON.parse('{"a":"https://s3-us-west-2.amazonaws.com/ac-assets/"}')},function(e){e.exports=JSON.parse('{"+/kDI8":[{"type":0,"value":"No advisory available in "},{"type":1,"value":"name"},{"type":0,"value":" for "},{"type":1,"value":"date"},{"type":0,"value":"."}],"+2V9nb":[{"type":0,"value":"A new image is added to the loop every 60 minutes."}],"+9YFIt":[{"type":0,"value":"Analysis"}],"+ALzpC":[{"type":0,"value":"Click on a link below to see weather station data."}],"+EmH+m":[{"type":0,"value":"Decision Point"}],"+F+eyp":[{"type":0,"value":"Contributors"}],"+HSXlh":[{"type":0,"value":"External programs"}],"+OvFHB":[{"type":0,"value":"Mountain Information Network — Submission Guidelines"}],"+Q4vtp":[{"type":0,"value":"All categories"}],"+QNm85":[{"type":0,"value":"Parking"}],"+daSk/":[{"type":0,"value":"You can also "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":" to see them all."}],"+jNk3E":[{"type":0,"value":"Loading forecast..."}],"+vIwIZ":[{"type":0,"value":"entries per page."}],"+zUHgM":[{"type":0,"value":"Previous"}],"/3jGaX":[{"type":0,"value":"Prévisions d’avalanche dans votre boîte de courriel"}],"/AElfC":[{"type":0,"value":"Surface"}],"/F6OrO":[{"type":0,"value":"Water Vapour/Jet"}],"/NqjPa":[{"type":0,"value":"Date"}],"/Pksc9":[{"type":0,"value":"Envoyer un courriel à la section de la sécurité publique du pays de Kananaskis"}],"/PphbK":[{"type":0,"value":"Hi "},{"type":1,"value":"username"},{"type":0,"value":","}],"/Qpbuj":[{"type":0,"value":"From"}],"/cpFFk":[{"type":0,"value":"Critical factors influence avalanche hazard. The more critical factors, the greater the potential for avalanches."}],"/ebplO":[{"type":0,"value":"Persistent avalanche problem"}],"/lHrXG":[{"type":0,"value":"Owner"}],"/lz0Zy":[{"type":0,"value":"South Rockies"}],"06YBx2":[{"type":0,"value":"An error happened while loading forecast."}],"08vHHF":[{"type":0,"value":"No "},{"type":1,"value":"type"},{"type":0,"value":" match your criteria. You can "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":" to find more articles."}],"0IrREY":[{"type":0,"value":"Select a forecast region."}],"0J6il2":[{"type":0,"value":"Cutblocks"}],"0TjAGd":[{"type":0,"value":"Click on a link below to read an Avalanche Advisory."}],"0Ydt2k":[{"type":0,"value":"view"}],"0lzKZE":[{"type":0,"value":"Weather station #"},{"type":1,"value":"id"},{"type":0,"value":" does not exist."}],"1+R0DV":[{"type":0,"value":"Hut, cabin or shelter"}],"1+xqK4":[{"type":0,"value":"Probability of precipitation accumulation "},{"children":[],"type":8,"value":"children"},{"type":0,"value":" for the whole period"}],"1D6FM6":[{"type":0,"value":"Natural and human-triggered avalanches unlikely."}],"1WXUMT":[{"type":0,"value":"Évitez tous les terrains avalancheux"}],"1kY+r/":[{"type":0,"value":"Conditions d’utilisation"}],"1mmIsb":[{"type":0,"value":"If you need help or have questions, do not hesitate to send us an "},{"children":[{"type":0,"value":"email"}],"type":8,"value":"link"},{"type":0,"value":"."}],"1nJY2/":[{"type":0,"value":"Votre réponse"}],"1syIDU":[{"type":0,"value":"Good Terrain Choices"}],"1xUmX4":[{"type":0,"value":"Tags"}],"216rUN":[{"type":0,"value":"Tagged under"}],"26Gwz5":[{"type":0,"value":"Board of directors"}],"2BrINg":[{"type":0,"value":"Uh oh! We never thought that would happen..."}],"2DDvdI":[{"type":0,"value":"Forecasts and graphics produced by the Meteorological Service of Canada (MSC)"}],"2LRegK":[{"type":0,"value":"Visible imagery not available at night."}],"2SmYNl":[{"type":0,"value":"Date"}],"2UF3eI":[{"type":0,"value":"Select an area."}],"2Z7oDB":[{"type":0,"value":"More information"}],"2aV3aQ":[{"type":0,"value":"Aperçu météo alpine"}],"2cCG+C":[{"type":0,"value":"Username"}],"2d7Vp3":[{"type":0,"value":"Avalanche Advisory"}],"2gVYHB":[{"type":0,"value":"Email the Kananaskis Country Public Safety Section"}],"2qCVIs":[{"type":0,"value":"Go to home page"}],"2shqaL":[{"type":0,"value":"Problem submitting report: $"},{"type":1,"value":"title"}],"2y+Sqk":[{"type":0,"value":"Mountain Weather Forecast Feedback"}],"2yJisv":[{"type":0,"value":"Abonnez-vous aux bulletins"}],"36Tu55":[{"type":0,"value":"Changing your username will change all previously submitted reports as well as all reports you will submit in the future."}],"3GWnIa":[{"type":0,"value":"Forecasters’ blogs"}],"3M/Kkc":[{"type":0,"value":"Prévisions météorologiques"}],"3hIm21":[{"type":0,"value":"1000 – 500 hPa Thickness (N. American Ensemble)"}],"3jrid5":[{"type":0,"value":"Uh oh! We never thought that would happen..."}],"3ljngv":[{"type":0,"value":"Warnings"}],"3ofh0S":[{"type":0,"value":"Loading Mountain Conditions Report..."}],"3yPJzl":[{"type":0,"value":"Snow height: "},{"type":1,"value":"amount"}],"41g4WQ":[{"type":0,"value":"Sélectionnez une région"}],"42E5Ej":[{"type":0,"value":"Please note:"}],"46M0qD":[{"type":0,"value":"24hr Snow"}],"47FYwb":[{"type":0,"value":"Cancel"}],"49cz1r":[{"type":0,"value":"3 - Considérable"}],"4T+ECN":[{"type":0,"value":"over "},{"style":null,"type":2,"value":"temperature"},{"type":0,"value":"°C"}],"4U2ie6":[{"type":0,"value":"Managing Avalanche Terrain (MAT)"}],"4X1cAW":[{"type":0,"value":"Réglages"}],"4X9D7R":[{"type":0,"value":"Aucun problème identifié."}],"4bY8Ee":[{"children":[],"type":8,"value":"prefix"},{"type":0,"value":" between "},{"children":[],"type":8,"value":"sufix"}],"4rTaR5":[{"type":0,"value":"4 - Élevé"}],"4uCRas":[{"type":0,"value":"Search by username..."}],"4xmegO":[{"type":0,"value":"Email"}],"5AyUem":[{"type":0,"value":"IR - Canada West"}],"5DLY8m":[{"type":0,"value":"Actual Temperatures (12 hours)"}],"5FUoif":[{"type":0,"value":"Politique de confidentialité"}],"5H37zr":[{"type":0,"value":"SledComm"}],"5IZ5dl":[{"type":0,"value":"Sponsors & Collaborators"}],"5L/S5e":[{"type":0,"value":"Loading information..."}],"5OMfMf":[{"type":0,"value":"Observations date"}],"5QyluP":[{"type":0,"value":"Simple"}],"5WW37y":[{"type":0,"value":"Vous traversez quelques zones dangereuses. Faites attention!"}],"5jeq8P":[{"type":0,"value":"Unknown"}],"5mBM1r":[{"type":0,"value":"Avalanche Forecast"}],"5vzyAa":[{"type":0,"value":"Détails"}],"6+HK6s":[{"type":0,"value":"Loading Mountain Information Network reports..."}],"62LRPS":[{"type":0,"value":"Location"}],"668eFJ":[{"type":0,"value":"Loading forecast..."}],"68fkXH":[{"type":0,"value":"This is an avalanche size 404 error..."}],"6DF8Lr":[{"type":0,"value":"Mountain Information Network report with id "},{"type":1,"value":"id"},{"type":0,"value":" has not been found."}],"6LqYAS":[{"type":0,"value":"Weather forecasts are usually published at 4:00 PST, read yesterday\'s weather forecast "},{"children":[{"type":0,"value":"here"}],"type":8,"value":"link"},{"type":0,"value":"."}],"6MB16L":[{"type":0,"value":"Annual reports"}],"6jMXw4":[{"type":0,"value":"There is currently no Special Public Avalanche Warning in effect."}],"7+7JgL":[{"type":0,"value":"An error occurred while loading incident."}],"7/Ulf8":[{"type":0,"value":"Winds"}],"7754AK":[{"type":0,"value":"Forecaster blog"}],"77PH71":[{"type":0,"value":"A problem happened while loading Mountain Conditions Reports on the map."}],"7C1Zq6":[{"type":0,"value":"Conditions in the green area are appropriate for informed backcountry travel in avalanche terrain and accidents are generally infrequent. Use caution, including hazard recognition and safe travel skills as taught in introductory avalanche courses. Rescue skills are always essential when travelling in avalanche terrain."}],"7OHV6q":[{"type":0,"value":"Play the animation"}],"7QzE6V":[{"type":0,"value":"You can still use the map. However, some data might be missing and behaviour not working as expected. Click on the arrow for more details."}],"7dR24s":[{"type":0,"value":"Visitez notre blogue"}],"7hQ4Wl":[{"type":0,"value":"From the reel"}],"7jVymW":[{"type":0,"value":"Accident Date"}],"7offaS":[{"type":0,"value":"Limite forestière"}],"7qLvcS":[{"type":0,"value":"To"}],"7qOQpv":[{"type":0,"value":"Sélectionnez une date"}],"7so8ca":[{"type":0,"value":"No courses match your criteria, consider finding a provider on the "},{"children":[{"type":0,"value":"providers page"}],"type":8,"value":"link"},{"type":0,"value":" to contact directly."}],"7xMTaU":[{"type":0,"value":"Loading weather station data..."}],"82wRfY":[{"type":0,"value":"Problème d\'avalanche "},{"type":1,"value":"counter"},{"type":0,"value":" : "},{"type":1,"value":"name"}],"85N0tP":[{"type":0,"value":"Type the new username you would like..."}],"8Emi7W":[{"offset":0,"options":{"one":{"value":[{"type":0,"value":"One error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" occurred."}],"8HqzPv":[{"type":0,"value":"It seems that your browser does not support the technology required (WebGL for the geeks) to show forecasts, advisories and other avalanche-related information on our map."}],"8PAu18":[{"type":0,"value":"546 dam – 500 hPa Contour Line (Canadian Ensemble)"}],"8PfI21":[{"type":0,"value":"caution"}],"8SzjVN":[{"type":0,"value":"Radar Imagery"}],"8cRnvP":[{"type":0,"value":"Group the table by "},{"type":1,"value":"title"}],"8cbAw/":[{"type":0,"value":"Events"}],"8hB/aX":[{"type":0,"value":"Avalanche advisory archive"}],"8kFo5V":[{"type":0,"value":"Valide jusqu\'à"}],"8kLR2G":[{"type":0,"value":"Avalanche Skills Training 2"}],"8wv5uw":[{"type":0,"value":"Petites avalanches dans de nombreux secteurs, grosses avalanches localisées ou très grosses avalanches dans des secteurs isolés."}],"8yS+3H":[{"type":0,"value":"Click on a link below to see another forecast:"}],"9EpKuG":[{"type":0,"value":"Indices de danger"}],"9G7scK":[{"type":0,"value":"Location"}],"9PqwAx":[{"type":0,"value":"Relative humidity (%)"}],"9QTpR8":[{"type":0,"value":"A problem happened while showing the map"}],"9Z6Jm+":[{"type":0,"value":"Source"}],"9a9+ww":[{"type":0,"value":"Title"}],"9j3hXO":[{"type":0,"value":"To"}],"9s7GOe":[{"type":0,"value":"Help"}],"9xG/qT":[{"type":0,"value":"Ready?"}],"9xMUh7":[{"type":0,"value":"Loading avalanche forecast..."}],"AJkDyl":[{"type":0,"value":"Rescue at Cherry Bowl"}],"AOlBrj":[{"type":0,"value":"Avalanches variant de grosses à très grosses dans de nombreux secteurs."}],"AUQJym":[{"type":0,"value":"Relative humidity"}],"AVbrfN":[{"children":[{"type":0,"value":"911"}],"type":8,"value":"phone"},{"type":0,"value":" for backcountry rescues and tell them you are in Kananaskis Country"}],"AW4vJq":[{"type":0,"value":"Exposure to low angle or primarily forested terrain. Some forest openings may involve the runout zones of infrequent avalanches. Many options to reduce or eliminate exposure. No glacier travel."}],"AiTJQz":[{"type":0,"value":"Variable depth snowpack"}],"AlX3Ht":[{"type":0,"value":"Caution"}],"Aov7Td":[{"type":0,"value":"Throttle Decisions"}],"BGOmRh":[{"type":0,"value":"Loading tutorial..."}],"BJ77yt":[{"type":0,"value":"Déclenchements d\'avalanche"}],"BNaSG0":[{"type":0,"value":"This Avalanche Bulletin is produced by avalanche forecasters within the Government of Alberta, Kananaskis Country Public Safety Program."}],"BQVMOp":[{"type":0,"value":"Wind speed in kilometre per hour (km/h) and direction in degree (°) every hour from "},{"style":null,"type":3,"value":"min"},{"type":0,"value":" to "},{"style":null,"type":3,"value":"max"},{"type":0,"value":"."}],"BjomlV":[{"type":0,"value":"Hour"}],"BvR5MR":[{"type":0,"value":"Archived bulletins"}],"BzQPM+":[{"type":0,"value":"Destination"}],"C9K+TI":[{"type":0,"value":"Avalanche"}],"CFbqyU":[{"type":0,"value":"Loading avalanche forecast..."}],"CUQebg":[{"type":0,"value":"Loading latest "},{"type":1,"value":"type"},{"type":0,"value":"..."}],"Cb0zQT":[{"type":0,"value":"More details about this error..."}],"CbCYyB":[{"type":0,"value":"The Aspect newsletter"}],"Cf6TiZ":[{"type":0,"value":"A problem happened while loading Advisories on the map."}],"CiSQ0s":[{"type":0,"value":"Welcome to the Trip Planner"}],"CkFq5N":[{"type":0,"value":"MIN To Win"}],"Cmdoi3":[{"type":0,"value":"Advisory"}],"CpGrub":[{"type":0,"value":"Companion Rescue (CRS)"}],"CrgO5L":[{"type":0,"value":"Terrain Ratings Explained"}],"Crk8sd":[{"type":0,"value":"Slab Thickness"}],"CsmCN0":[{"type":0,"value":"Major avalanche path"}],"CugkBE":[{"type":0,"value":"Issued at"}],"Cv5PHD":[{"type":0,"value":"Vos prévisions météorologiques en montagne quotidiennes"}],"CwqvmD":[{"type":0,"value":"Shallow snowpack"}],"CxoLwZ":[{"type":0,"value":"Injury"}],"D3InHA":[{"type":0,"value":"500 mbar & Precipitable Water"}],"D4JBvM":[{"type":0,"value":"Bien jouer, c\'est la bonne réponse!"}],"D4qYT5":[{"type":0,"value":"Rapport d\'avalanche "}],"D5zf4H":[{"type":0,"value":"AST 1+"}],"DAXTto":[{"type":0,"value":"Forecast "},{"type":1,"value":"id"},{"type":0,"value":" not found"}],"DRm/Ps":[{"type":0,"value":"Report #"},{"type":1,"value":"id"},{"type":0,"value":" is not available anymore."}],"DdTMYY":[{"type":0,"value":"Alpin"}],"DxUvN0":[{"type":0,"value":"0 - Aucun indice"}],"E4BRRv":[{"type":0,"value":"Weather station #"},{"type":1,"value":"id"},{"type":0,"value":" not found"}],"E80WrK":[{"type":0,"value":"Information"}],"EA22jQ":[{"type":0,"value":"Préparé par"}],"EEoUHw":[{"type":0,"value":"This is eventually where you will be able to:"}],"EGB/bf":[{"type":0,"value":"Latest news"}],"EYGWzB":[{"type":0,"value":"Archive des prévisions"}],"EajE3m":[{"type":0,"value":"Learn"}],"EbuhsU":[{"type":0,"value":"Information to collect while travelling"}],"Eca5XB":[{"type":0,"value":"Limite forestière"}],"Ee5E3w":[{"type":0,"value":"Avalanches naturelles probables; déclenchements par intervention humaine; très probables."}],"EoNF9S":[{"type":0,"value":"An error happened while authenticating you in. You can try another "},{"children":[{"type":0,"value":"login"}],"type":8,"value":"link"},{"type":0,"value":"."}],"EoQTj0":[{"type":0,"value":"Fiabilité"}],"Ew50FU":[{"type":0,"value":"Quelle altitude ?"}],"EwRIOm":[{"type":0,"value":"User"}],"FCYuTW":[{"type":0,"value":"Map legend"}],"FFBBla":[{"type":0,"value":"Il n’existe aucun document pour "},{"type":1,"value":"title"},{"type":0,"value":"."}],"FLCIcU":[{"type":0,"value":"Trouver un cours"}],"FT+IWg":[{"type":0,"value":"Loading Mountain Information Network reports..."}],"Fb0Sd/":[{"type":0,"value":"ATES are:"}],"Fhmv0E":[{"type":0,"value":"Forecast regions"}],"Fq1tt3":[{"type":0,"value":"Tutorial"}],"Fwyx7W":[{"type":0,"value":"Speed (km/h)"}],"FzhVSF":[{"type":0,"value":"Lee slopes"}],"GFhajG":[{"type":0,"value":"Send feedback to Meteorological Service of Canada"}],"GIT7Z/":[{"type":0,"value":"Government partners"}],"GQ1GrS":[{"type":0,"value":"Special Public Avalanche Warning"}],"GUfQm1":[{"type":0,"value":"Archive des prévisions"}],"GXFJtl":[{"offset":0,"options":{"one":{"value":[{"type":0,"value":"One error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" occurred while loading Mountain Information Network reports."}],"Gacp29":[{"type":0,"value":"Consulter les prévisions d’avalanches du "},{"type":1,"value":"date"}],"GexYFB":[{"type":0,"value":"A problem happened while loading Weather Station on the map."}],"Ggk7AI":[{"type":0,"value":"Quick"}],"GjZDVR":[{"type":0,"value":"Companion Rescue Skills"}],"GtRtos":[{"type":0,"value":"News"}],"GzjTkI":[{"type":0,"value":"Contactez-nous"}],"H/wqZi":[{"type":0,"value":"Download ATES data for "},{"type":1,"value":"name"}],"HBELLZ":[{"type":0,"value":"Conditions avalancheuses très dangereuses. Déplacements en terrain avalancheux non recommandés."}],"HGGdGz":[{"type":0,"value":"Partagez cette page sur "},{"type":1,"value":"name"}],"HUZh6A":[{"type":0,"value":"Distance"}],"Hny4nb":[{"type":0,"value":"More questions?"}],"HtEmSg":[{"type":0,"value":"Désolé, ce n\'est pas la bonne réponse. Essayer de nouveau!"}],"HyJt/f":[{"type":0,"value":"Max"}],"I/WGzq":[{"type":0,"value":"Satellite"}],"I12OPN":[{"type":0,"value":"Avalanche incident database"}],"I3RuRu":[{"type":0,"value":"An error happened while loading weather stations."}],"I4kCsU":[{"type":0,"value":"Recent rainfall"}],"I80cZb":[{"type":0,"value":"Speed"}],"IAPH04":[{"type":0,"value":"Votre réponse est requise."}],"IAhDUz":[{"type":0,"value":"Add information on one, some, or all tabs."}],"IIUFEi":[{"type":0,"value":"Click on a link below to read the avalanche forecast:"}],"IV4BOT":[{"type":0,"value":"Snowshoe"}],"IZtayi":[{"type":0,"value":"Source"}],"Iu1HqA":[{"type":0,"value":"Fresh to the Backcountry? Start Here"}],"Iw97xA":[{"type":0,"value":"Terrain Advice"}],"J3oh4c":[{"type":0,"value":"Currently showing "},{"type":1,"value":"items"},{"type":0,"value":", "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":"."}],"J4Pdl+":[{"type":0,"value":"Loading Mountain Information Network report..."}],"J8jnsU":[{"type":0,"value":"Publié le"}],"JAKhvf":[{"type":0,"value":"Change your username"}],"JG6rPS":[{"type":0,"value":"Download ATES data as KMZ"}],"JHAVp7":[{"type":0,"value":"Trigger"}],"JHv3fg":[{"type":0,"value":"Elevation"}],"JIsU05":[{"type":0,"value":"Loading weather station data..."}],"JKU+nb":[{"type":0,"value":"In effect"}],"JMG6+l":[{"type":0,"value":"Height (cm)"}],"JMac37":[{"type":0,"value":"Show all"}],"JQsrhq":[{"type":0,"value":"Alpin"}],"JgLxsC":[{"type":0,"value":"Recommencer"}],"JjRe8S":[{"type":0,"value":"Chargement..."}],"Jjb/Xo":[{"type":0,"value":"Weather Glossary"}],"KB/9UQ":[{"type":0,"value":"There is no rating available to show the chart."}],"KCQO1c":[{"type":0,"value":"Glossary"}],"KF5ERp":[{"type":0,"value":"Conseils sur le terrain et les déplacements"}],"KHIdQ3":[{"type":0,"value":"No danger ratings are available to run the TripPlanner in that zone."}],"KJcQde":[{"type":0,"value":"Hi "},{"children":[],"type":8,"value":"link"},{"type":0,"value":","}],"KN3F+D":[{"type":0,"value":"Subscribe"}],"KNDIgK":[{"type":0,"value":"No information has been found for that decision point."}],"KVwrN8":[{"type":0,"value":"Online avalanche tutorial"}],"KZkA6O":[{"type":0,"value":"Hosted by"}],"Kb9puO":[{"type":0,"value":"Actual Temperatures"}],"KjhZA9":[{"type":0,"value":"Height"}],"KotpK6":[{"type":0,"value":"Prévisions archivées"}],"KrVTJE":[{"type":0,"value":"N/A"}],"KuQVY7":[{"type":0,"value":"Archived forecast bulletins for "},{"type":1,"value":"name"},{"type":0,"value":" region are available on the Parks Canada — Public Avalanche Information website"}],"KxbmQC":[{"type":0,"value":"Show"}],"L+sgZO":[{"type":0,"value":"Incident Summary"}],"L/68Mg":[{"type":0,"value":"Essential gear"}],"L0GLT1":[{"type":0,"value":"We have been notified about that error; we will try fix it as soon as possible."}],"L3tjFh":[{"type":0,"value":"Conditions avalancheuses généralement sécuritaires. Faire attention à la neige instable sur des reliefs de terrain isolés."}],"L7DcSH":[{"type":0,"value":"0-48 Hours"}],"LA543e":[{"type":0,"value":"Our programs"}],"LE0Wjb":[{"type":0,"value":"Province"}],"LIkDJZ":[{"type":0,"value":"Date Updated"}],"LMf+i1":[{"type":0,"value":"Snowpack"}],"LNArWr":[{"type":0,"value":"Program partners"}],"LQLo+C":[{"type":0,"value":"Loading weather station measurements..."}],"LQMRIg":[{"type":0,"value":"Avalanche forecast"}],"LaLZR3":[{"type":0,"value":"Day 3-4"}],"LbiRuN":[{"type":0,"value":"12hr Total Precipitation"}],"LcxXMg":[{"type":0,"value":"Involvement"}],"LeccD8":[{"type":0,"value":"Day 5-7"}],"LjfT9d":[{"type":0,"value":"Winds"}],"Llm2Wa":[{"type":0,"value":"Snowpack"}],"LzDAkq":[{"type":0,"value":"Pick a from date"}],"M/Tq3r":[{"type":0,"value":"Conditions printanières"}],"MFKutU":[{"type":0,"value":"Dangerator"}],"MPPCK+":[{"type":0,"value":"AST 1 + MAT"}],"MY4AwB":[{"type":0,"value":"Ambassadors"}],"MbKJy3":[{"type":0,"value":"Day 2"}],"MgqL0c":[{"type":0,"value":"Avalanche Advisory Archive"}],"Ml7yHV":[{"type":0,"value":"Supporters"}],"MnV9R0":[{"type":0,"value":"Valide jusqu\'à"}],"MoZLbF":[{"type":0,"value":"Unsupported"}],"Mp4ZFP":[{"type":0,"value":"Our blog"}],"N/SISd":[{"type":0,"value":"Chargement..."}],"N1cgil":[{"type":0,"value":"Mountain Information Network — FAQ"}],"N3I9BQ":[{"type":0,"value":"Abonnez-vous à notre flux RSS"}],"N5wkSH":[{"type":0,"value":"Weather Comment"}],"NCx3L5":[{"type":0,"value":"Avalanche Canada"}],"NDnzH9":[{"type":0,"value":"Warnings"}],"NGL434":[{"type":0,"value":"Backcountry Resources"}],"NO4LEv":[{"type":0,"value":"Not recommended"}],"Na2ozi":[{"type":0,"value":"Fatal Recreational Accident"}],"NevKuT":[{"type":0,"value":"Create a report"}],"NfTHjT":[{"type":0,"value":"Sélectionnez une date"}],"NhZX3+":[{"type":0,"value":"Level"}],"NjzSyk":[{"type":0,"value":"News"}],"Nrf21I":[{"type":0,"value":"to"}],"Nw8Wlj":[{"type":0,"value":"South Coast"}],"O2sqh9":[{"type":0,"value":"Weather"}],"O3pRGx":[{"type":0,"value":"500 mbar & Precipitable Water"}],"O7tp1J":[{"children":[{"type":0,"value":"SPAW"}],"type":8,"value":"abbr"},{"type":0,"value":" In effect"}],"O8EG5J":[{"type":0,"value":"Submit your report"}],"OEp5QR":[{"type":0,"value":"From"}],"OG/m5X":[{"type":0,"value":"Find a provider"}],"OHt9Yu":[{"type":0,"value":"Remove your "},{"type":1,"value":"name"},{"type":0,"value":" report"}],"OOpDs9":[{"type":0,"value":"Critical Factors Summary"}],"OWhwRL":[{"type":0,"value":"Fatal recreational accident "},{"type":1,"value":"id"},{"type":0,"value":" available anymore."}],"OaPbee":[{"type":0,"value":"Title"}],"Ob2vt+":[{"type":0,"value":"Vos prévisions météorologiques en montagne quotidiennes"}],"Oce/Vs":[{"type":0,"value":"Danger accru sur des reliefs de terrain précis. Évaluer soigneusement le manteau neigeux et le terrain; repérer les reliefs de terrain préoccupants."}],"Oiag/N":[{"type":0,"value":"Contact"}],"OlJJ7I":[{"type":0,"value":"Event"}],"OwRkQO":[{"type":0,"value":"Curriculum & resources"}],"OxljSy":[{"type":0,"value":"Select a date for the "},{"type":1,"value":"name"},{"type":0,"value":" area."}],"P03AFY":[{"type":0,"value":"Report not found."}],"P7PLVj":[{"type":0,"value":"Date"}],"PJ3qoY":[{"type":0,"value":"Visible - South Interior"}],"PSYq6V":[{"type":0,"value":"Teaching guidelines"}],"PaXe1q":[{"type":0,"value":"Description"}],"Ppx673":[{"type":0,"value":"Reports"}],"Pw2f4c":[{"type":1,"value":"resolution"},{"type":0,"value":" VIS BC"}],"Pyz1fl":[{"type":0,"value":"Wind speed and direction"}],"Q05qE6":[{"type":0,"value":"Ski"}],"Q2/+Ze":[{"type":0,"value":"Sommaire manteau neigeux"}],"Q5SHJ1":[{"type":0,"value":"Courses"}],"Q6lxuZ":[{"type":0,"value":"No documents available."}],"Q8iaTl":[{"type":0,"value":"Back to home"}],"Q9P1Fw":[{"type":0,"value":"Wind Direction Average"}],"QYXOBY":[{"type":0,"value":"Travel advice"}],"QZomE3":[{"type":0,"value":"Document Date"}],"QcpZTi":[{"type":0,"value":"Visible South Coast"}],"Qd+Cop":[{"type":0,"value":"Notre réponse"}],"QjMlZz":[{"type":0,"value":"Search..."}],"QvimSq":[{"type":0,"value":"Show height and new snow in centimetre (cm) every hour from "},{"type":1,"value":"min"},{"type":0,"value":" to "},{"type":1,"value":"max"},{"type":0,"value":"."}],"Qvwvqu":[{"type":0,"value":"Featured resources"}],"R8WsMH":[{"type":0,"value":"Historical Incidents"}],"RI1ANN":[{"type":0,"value":"2 - Modéré"}],"RQGHrd":[{"type":0,"value":"Uh oh! We never thought that would happen..."}],"RQGr/c":[{"type":0,"value":"Brought to you by"}],"RRPHGp":[{"type":0,"value":"Main access trail"}],"RSZdsy":[{"type":0,"value":"Alberta Rockies"}],"RZFJLe":[{"type":0,"value":"Avalanche forecast is available at: "},{"type":0,"value":"<link />"}],"Ra1yqW":[{"type":0,"value":"Remove or edit reports you have submitted."}],"RmnEm5":[{"type":0,"value":"Report with id "},{"type":1,"value":"id"},{"type":0,"value":" has not been found."}],"RrRyfP":[{"type":0,"value":"Time zone"}],"RumeRz":[{"type":0,"value":"Regions"}],"S+GDxJ":[{"type":0,"value":"Vos prévisions météorologiques en montagne quotidiennes"}],"S0GJ2r":[{"type":0,"value":"Loading Mountain Information Network report..."}],"S1/qyL":[{"type":0,"value":"Mountain Sledding"}],"S77MlZ":[{"type":0,"value":"A problem happened while loading forecast on the map."}],"S8FkTR":[{"type":0,"value":"AST 2"}],"S8m8si":[{"type":0,"value":"Chargement..."}],"SKojS6":[{"type":0,"value":"Réseau d\'information en montagne"}],"SaG3kV":[{"type":0,"value":"Find a provider"}],"SiR2AW":[{"type":0,"value":"Wind Speed Average (km/h)"}],"SlXuCK":[{"type":0,"value":"Outside a region"}],"SmpOMT":[{"type":0,"value":"Réseau d\'information en montagne"}],"SsYBcd":[{"type":0,"value":"Elevation"}],"SxXAWS":[{"type":0,"value":"Select a forecast date."}],"T3e4KH":[{"type":0,"value":"Réseau d\'information en montagne"}],"T5cbLZ":[{"type":0,"value":"A new image is added to the loop every 10 minutes."}],"TEgYqN":[{"type":0,"value":"Select an area"}],"TKISVn":[{"type":0,"value":"Avalanche Canada Foundation"}],"TMp/ih":[{"type":0,"value":"24hr Trend"}],"Texvtz":[{"type":0,"value":"Credit"}],"TgYk8t":[{"type":0,"value":"See all reports"}],"TkE+dd":[{"type":0,"value":"Your username"}],"TkNZrJ":[{"type":0,"value":"Loading all weather stations..."}],"Tm5kg9":[{"type":0,"value":"Snow (cm)"}],"TtEB5V":[{"type":0,"value":"Visit all submitted reports"}],"TwWQNx":[{"type":0,"value":"Wind Speed"}],"TxwX//":[{"type":0,"value":"Backcountry travel in the red area is not recommended without professional–level safety systems and guidance. Conditions are primed for avalanche accidents and even careful decisions can result in serious accidents. Finding terrain with an acceptable level of avalanche risk under these conditions requires detailed knowledge and comprehensive understanding of the development of the local snowpack to date, the effect of the current weather on the existing avalanche problem, and the small- scale characteristics of the local terrain, including avalanche activity history."}],"UGRKnY":[{"type":0,"value":"more than "},{"style":null,"type":2,"value":"value"},{"type":0,"value":"mm"}],"UJsB3G":[{"type":0,"value":"Storm Snow"}],"URqWAH":[{"type":0,"value":"Weather stations"}],"UY1p4F":[{"type":0,"value":"See this submission on the main map"}],"UhV7f7":[{"type":0,"value":"Glossary"}],"UhypXW":[{"type":0,"value":"Source"}],"Ulbgnu":[{"type":0,"value":"See also:"}],"Ut/ezC":[{"type":0,"value":"An error happened while getting decision point information."}],"V7pNoh":[{"type":0,"value":"Avalanches naturelles improbables; déclenche- ments par intervention humaine possibles."}],"VA+DE/":[{"type":0,"value":"Reports list view"}],"VAjdA4":[{"type":0,"value":"This could happen for few reasons. Do not hesitate to contact us at "},{"children":[],"type":8,"value":"mail"},{"type":0,"value":" so we can help you sort that out."}],"VBSQLa":[{"type":0,"value":"No "},{"type":1,"value":"name"},{"type":0,"value":" Avalanche Advisory is currently available."}],"VEy7NE":[{"type":0,"value":"Stations météo en montagne"}],"VecW4F":[{"type":0,"value":"Our staff"}],"VlqGrp":[{"type":0,"value":"Direction"}],"VuDwBa":[{"type":0,"value":"An error happened while loading the forecast."}],"VuUEEB":[{"type":0,"value":"Weather station"}],"Vx5B5y":[{"type":0,"value":"Visit Avalanche Canada Blog"}],"W8F0HN":[{"type":0,"value":"Envoyer un courriel à la section de la sécurité publique du pays de Kananaskis"}],"WAkhuA":[{"type":0,"value":"Caution"}],"WBxRMD":[{"type":0,"value":"Available reports"}],"WCKpbe":[{"type":0,"value":"500 hPa Mean / Standard Deviation (N. American Ensemble)"}],"WDiGF0":[{"type":0,"value":"Send "},{"type":1,"value":"fullName"},{"type":0,"value":" an email"}],"WMq6So":[{"type":0,"value":"Chargement..."}],"WNGaI0":[{"type":0,"value":"Location"}],"WOkXMl":[{"type":0,"value":"Access all the reports you have submitted."}],"WZRlM4":[{"type":0,"value":"How to GIVE information?"}],"WeGi2C":[{"type":0,"value":"Sommaire des avalanches"}],"WePE/Y":[{"type":0,"value":"Grosses avalanches dans de nombreux secteurs ou très grosses avalanches localisées."}],"WhW499":[{"type":0,"value":"AST 1 + AST 2 Combined"}],"WlYJie":[{"type":0,"value":"Contacts"}],"Wn0WGR":[{"type":0,"value":"How to GET information?"}],"X0mGc4":[{"type":0,"value":"Look at "},{"type":1,"value":"title"},{"type":0,"value":" report on the map"}],"X4A2RL":[{"type":0,"value":"Tutorials"}],"X4eU4b":[{"type":0,"value":"Search for a definition"}],"X4fq+c":[{"type":0,"value":"From"}],"X6pshk":[{"type":0,"value":"Quelles pentes ?"}],"X83AXU":[{"type":0,"value":"Search"}],"XVMUAR":[{"type":0,"value":"1 - Faible"}],"Xzbf14":[{"type":0,"value":"Partagez cette page"}],"Y+s5Pd":[{"type":0,"value":"Reset to the last "},{"type":1,"value":"days"},{"type":0,"value":" days"}],"YObgko":[{"type":0,"value":"Storm Date"}],"YSkrN2":[{"offset":0,"options":{"=0":{"value":[{"type":0,"value":"No users"}]},"one":{"value":[{"type":7},{"type":0,"value":" user"}]},"other":{"value":[{"type":7},{"type":0,"value":" users"}]}},"pluralType":"cardinal","type":6,"value":"itemCount"},{"type":0,"value":" found."}],"YZxsM8":[{"type":0,"value":"Exceedance Probability (N. American Ensemble)"}],"YcECia":[{"type":0,"value":"Date range"}],"Yhzvef":[{"type":0,"value":"Exposure to multiple overlapping avalanche paths or large expanses of steep, open terrain; multiple avalanche starting zones and terrain traps below; minimal options to reduce exposure. Complicated glacier travel with extensive crevasse bands or icefalls."}],"Yk/+o9":[{"type":0,"value":"Synopsis"}],"Ykeofn":[{"type":0,"value":"The arrow is pointing down the path."}],"Yu49Is":[{"type":0,"value":"Trip Planning"}],"Z/WHoY":[{"type":0,"value":"Forecast regions"}],"Z6NFiK":[{"type":0,"value":"Information"}],"Z7dIFE":[{"type":0,"value":"Snow"}],"ZBJwKE":[{"type":0,"value":"Snowpack Comment"}],"ZGD8bt":[{"type":0,"value":"You will be redirected once we are done!"}],"ZJ+oes":[{"type":0,"value":"Display on map"}],"ZMxtNy":[{"type":0,"value":"Activity"}],"ZOelDD":[{"type":0,"value":"All months"}],"ZRo059":[{"type":0,"value":"Use extra caution in the yellow area. Avalanches are likely to occur with human or natural triggers, and accidents are frequent. Safe travelling under these conditions demands an advanced understanding of the character of the current avalanche problem. This includes knowing which field observations are most useful under the given conditions and which terrain features to favour or avoid. Advanced trip planning and group management skills, significant personal experience, and humility are essential."}],"ZXj6PT":[{"type":0,"value":"Move to the previous image"}],"Zo+y8O":[{"type":0,"value":"1980/1981 and earlier"}],"ZpUwKG":[{"type":0,"value":"Latest blog posts"}],"ZtQ9DU":[{"offset":0,"options":{"=1":{"value":[{"type":7},{"type":0,"value":" day"}]},"other":{"value":[{"type":7},{"type":0,"value":" days"}]}},"pluralType":"cardinal","type":6,"value":"amount"}],"a0unHU":[{"type":0,"value":"Providers"}],"a2JuFd":[{"type":0,"value":"Conditions de début de saison"}],"a3lNIo":[{"type":0,"value":"News & Events"}],"a5msuh":[{"type":0,"value":"Yes"}],"aBCy53":[{"type":0,"value":"Store"}],"aBPUuk":[{"type":0,"value":"This is an archived Avalanche Advisory."}],"aCsFX1":[{"type":0,"value":"North Rockies"}],"aEft73":[{"type":0,"value":"Filter by"}],"aUBpA8":[{"type":0,"value":"Réseau d\'information en montagne"}],"abQ+FP":[{"type":0,"value":"Forecast archive"}],"aoXWRy":[{"type":0,"value":"Observations"}],"aoroMT":[{"type":0,"value":"Loading incident..."}],"app.distanceDescription":[{"type":0,"value":"Straight line between "},{"type":1,"value":"place"},{"type":0,"value":" and the provider."}],"app.loadingError":[{"type":0,"value":"An error happened while loading the "},{"type":1,"value":"pluralized"},{"type":0,"value":"..."}],"avalanche-advisories":[{"type":0,"value":"Avalanche Advisories"}],"avalanche-forecasts":[{"type":0,"value":"Avalanche Forecasts"}],"b05fd7":[{"type":0,"value":"Temperatures"}],"b40Pr7":[{"type":0,"value":"Reporter"}],"bK2mzd":[{"type":0,"value":"Create a report"}],"bMyk2U":[{"type":0,"value":"No definition matches your criteria."}],"bZ1WF2":[{"type":0,"value":"Descending"}],"bpQq40":[{"type":0,"value":"Careers"}],"c+ir6d":[{"type":0,"value":"For more photos and more information about the professional mountain guide who created this report visit: "},{"children":[{"type":0,"value":"mountainconditions.com"}],"type":8,"value":"link"},{"type":0,"value":"."}],"c3Z95X":[{"type":0,"value":"Weather stations"}],"cG0Q8M":[{"type":0,"value":"Temperature"}],"cGNPZd":[{"offset":0,"options":{"one":{"value":[{"type":7},{"type":0,"value":" photo"}]},"other":{"value":[{"type":7},{"type":0,"value":" photos"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" attached"}],"cJ8MIq":[{"type":0,"value":"Reload the map"}],"cRTHzR":[{"type":0,"value":"This station currently has no data available."}],"cdHupa":[{"type":0,"value":"Loading measurements..."}],"ch+P3A":[{"type":0,"value":"Terrain features"}],"cj0fgl":[{"type":0,"value":"Pause the animation"}],"ckeXb6":[{"type":0,"value":"Loading mountain weather forecast for "},{"type":1,"value":"date"},{"type":0,"value":"..."}],"cnbRxD":[{"children":[{"type":0,"value":"403-591-7755"}],"type":8,"value":"phone"},{"type":0,"value":" is the dispatch office non-emergency line"}],"cuIJWp":[{"type":0,"value":"Pick a to date"}],"d7cAvi":[{"type":0,"value":"An error occurred."}],"dCN3Up":[{"type":0,"value":"Probability of precipitation "},{"children":[],"type":8,"value":"children"},{"type":0,"value":" at least one day"}],"dE2CES":[{"type":0,"value":"Loading "},{"type":1,"value":"title"},{"type":0,"value":" page..."}],"dILW+f":[{"type":0,"value":"Mountain Information Network — Create report"}],"dM+p3/":[{"type":0,"value":"From"}],"dQKFUX":[{"type":0,"value":"Enter your email address"}],"dZ+4FV":[{"type":0,"value":"Creeks"}],"dZKvmR":[{"type":0,"value":"An error occurred on the page you are visiting."}],"dfnWPN":[{"type":0,"value":"Visible - Alberta Rockies"}],"dk3C5G":[{"offset":0,"options":{"one":{"value":[{"type":7},{"type":0,"value":" error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" found in your "},{"children":[],"type":8,"value":"link"},{"type":0,"value":" report."}],"e0UxRX":[{"type":0,"value":"Wind Direction"}],"e7SQt4":[{"type":0,"value":"An error happened while submitting and saving your report to our servers. Do not hesitate to contact us to get more details so you can have your report submitted. Thanks for your understanding and cooperation!"}],"eCkcGF":[{"type":0,"value":"An error happened."}],"eRUb0Z":[{"type":0,"value":"Look at this report on the map"}],"eWOewv":[{"type":0,"value":"Authentication in progress..."}],"eYyw2/":[{"type":0,"value":"Gust"}],"ei59iy":[{"type":0,"value":"Hors saison"}],"eu8sFr":[{"type":0,"value":"See that advisory on the main map"}],"eyGq6Y":[{"type":0,"value":"Visit the Mountain Weather Forecast"}],"eyccwu":[{"type":0,"value":"Recent snowfall > "},{"type":1,"value":"height"}],"ez+kCq":[{"type":0,"value":"Height"}],"f1lt+W":[{"type":0,"value":"No providers match your criteria, consider finding a course on the "},{"children":[{"type":0,"value":"courses page"}],"type":8,"value":"link"},{"type":0,"value":"."}],"f8z90J":[{"type":0,"value":"Ascending"}],"fBD05b":[{"type":0,"value":"Avalanche basics"}],"fD/vNZ":[{"type":0,"value":"Wind (km/h)"}],"fDXBCA":[{"type":0,"value":"Name"}],"fFqMmX":[{"type":0,"value":"You need to be logged in to see some content."}],"fLpQyj":[{"type":0,"value":"Warnings are available on weather.gc.ca"}],"fPfNNr":[{"type":0,"value":"Type"}],"fatal-recreational-accidents":[{"type":0,"value":"Fatal Recreational Accidents"}],"fb3qcN":[{"type":0,"value":"Loading fatal recreational accident..."}],"forecasts":[{"type":0,"value":"Forecasts"}],"fpLYvo":[{"type":0,"value":"Max Temp"}],"frtcDi":[{"type":0,"value":"A problem happened while loading Mountain Information Network (MIN) Reports on the map."}],"ftA+E2":[{"type":0,"value":"BC Mosaic"}],"fxGwIN":[{"type":0,"value":"Size"}],"g+HSsV":[{"type":0,"value":"Air Temperature"}],"g2EOhL":[{"type":0,"value":"Online Education"}],"g8ZiK0":[{"type":0,"value":"Table"}],"gDCRKI":[{"type":0,"value":"Fatal"}],"gSPD2F":[{"type":0,"value":"RH (%)"}],"gTmr43":[{"type":0,"value":"An error happened while showing charts."}],"gXCzdT":[{"type":0,"value":"Soumettre un rapport d\'informations de la situation en montagne"}],"gc5sS2":[{"type":0,"value":"Forecasts"}],"gcZ44W":[{"type":0,"value":"Mountain Weather Forecast"}],"gghcvY":[{"type":0,"value":"Incident #"},{"type":1,"value":"id"},{"type":0,"value":" not found"}],"gjBiyj":[{"type":0,"value":"Chargement..."}],"h/Nirh":[{"type":0,"value":"Loading users..."}],"h0Kju5":[{"type":0,"value":"Donate to Foundation"}],"h7KXl7":[{"type":0,"value":"Air Temperature Min (°C)"}],"hDJDN/":[{"type":0,"value":"More details"}],"hHvvfI":[{"type":0,"value":"Chargement..."}],"hIYH8G":[{"offset":0,"options":{"one":{"value":[{"type":0,"value":"One error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" occurred. Click for more details."}],"hJ1ugx":[{"type":0,"value":"Arc\'teryx Mountain Conditions Report"}],"hNq0pE":[{"type":0,"value":"0-144 Hours"}],"hTNVGU":[{"type":0,"value":"Click on a link below to see another weather station:"}],"heRKCG":[{"type":1,"value":"name"},{"type":0,"value":" forecast not found"}],"hiAkhj":[{"type":0,"value":"No avalanche forecast has been found for "},{"type":1,"value":"name"},{"type":0,"value":"."}],"hvMNVN":[{"type":0,"value":"Special Public Avalanche Warning"}],"i+AGCP":[{"type":0,"value":"Email"}],"i6Tori":[{"type":0,"value":"Soumettre un rapport d\'informations de la situation en montagne"}],"i8CXtl":[{"type":0,"value":"Weather stations list view"}],"i9XkAs":[{"type":0,"value":"Provider name"}],"iEAZIi":[{"type":0,"value":"Submitting your report..."}],"iEI8pm":[{"type":0,"value":"Youth"}],"iNi0FV":[{"type":0,"value":"Exposure to well-defined avalanche paths, starting zones or terrain traps; options exist to reduce or eliminate exposure with careful route-finding. Glacier travel is straightforward but crevasse hazards may exist."}],"iUn2hD":[{"type":0,"value":"Visitez sur "},{"type":1,"value":"name"},{"type":0,"value":"."}],"iWgEgL":[{"type":1,"value":"label"},{"type":0,"value":" sur "},{"type":1,"value":"name"}],"iXC6aX":[{"type":0,"value":"Version imprimable"}],"iY/ewP":[{"type":0,"value":"Unsupported map"}],"iYqjbT":[{"type":0,"value":"Precipitation Type"}],"iek8Zl":[{"type":0,"value":"An error happened while submitting your report."}],"ificVq":[{"type":0,"value":"Air Temperature Max (°C)"}],"ikdt7M":[{"type":0,"value":"Avalanche Skills Training 1"}],"iliHrV":[{"type":0,"value":"Website"}],"iq87Si":[{"type":0,"value":"Loading avalanche forecast..."}],"irzEgi":[{"type":0,"value":"Convex"}],"iuhMmM":[{"type":0,"value":"Terrain to Avoid"}],"iwgtE3":[{"type":0,"value":"Past events"}],"j9NdGF":[{"type":0,"value":"Login to post to the Mountain Information Network"}],"jHMwxP":[{"type":0,"value":"Next"}],"jOywnT":[{"type":0,"value":"Contactez-nous"}],"jTbugS":[{"type":1,"value":"from"},{"type":0,"value":" and "},{"type":1,"value":"to"}],"jW0/kq":[{"type":0,"value":"Hourly Precipitation"}],"jXSbrK":[{"type":0,"value":"Average"}],"jjbFGi":[{"type":0,"value":"Freezing Level R"}],"jkokZp":[{"type":0,"value":"Planning"}],"jwimQJ":[{"type":0,"value":"Ok"}],"k8fnrh":[{"type":0,"value":"Min"}],"kNifCP":[{"type":0,"value":"Land of Thundering Snow"}],"kO2GwF":[{"type":0,"value":"Avalanches naturelles possibles; déclenchements par intervention humaine probables."}],"kPjMZR":[{"type":0,"value":"Elevation"}],"kR4i6x":[{"type":0,"value":"Precipitation Type & Intensity"}],"kWx9C+":[{"type":0,"value":"An error happened while retrieving Mountain Information Network reports for the last "},{"type":1,"value":"days"},{"type":0,"value":" days."}],"kYJIjt":[{"type":0,"value":"AST 1"}],"kpYbyf":[{"type":0,"value":"Videos"}],"kzP1IM":[{"type":0,"value":"Air Temperature (°C)"}],"l1XTI5":[{"type":0,"value":"Suivez-nous sur les réseaux sociaux"}],"l4fsUL":[{"type":0,"value":"Lexique Avalanche—Avalanche Lexicon"}],"lE1Ifz":[{"type":0,"value":"Level"}],"lFTyzM":[{"type":0,"value":"New"}],"lHofeR":[{"type":0,"value":"An error happened while loading weather station data."}],"lXtFHJ":[{"type":0,"value":"Click on a link below to see another weather station."}],"latest-news":[{"type":0,"value":"Latest news"}],"lb38CE":[{"type":0,"value":"under "},{"style":null,"type":2,"value":"temperature"},{"type":0,"value":"°C"}],"lcn90r":[{"type":0,"value":"New"}],"leFeKC":[{"type":0,"value":"Day "},{"type":1,"value":"value"}],"lnaWo/":[{"type":0,"value":"Region"}],"login":[{"type":0,"value":"Login"}],"logout":[{"type":0,"value":"Logout"}],"lxxl0Q":[{"type":0,"value":"Surface Maps"}],"lywdxo":[{"type":0,"value":"Change my username"}],"m67oal":[{"type":0,"value":"Cost"}],"mBli9B":[{"type":0,"value":"Click on a link below to see another forecast:"}],"mEyhzr":[{"type":0,"value":"Accumulated precipitation"}],"mJzUsv":[{"type":0,"value":"Create a Mountain Information Network (MIN) report"}],"mR0hCD":[{"type":0,"value":"Close"}],"mSawI9":[{"type":0,"value":"Your daily Mountain Weather Forecast"}],"mSeuWm":[{"type":0,"value":"Échelle de danger d\'avalanche"}],"mTRqfE":[{"type":0,"value":"COVID-19 Safety Plan"}],"mXsQGA":[{"type":0,"value":"Reload this page"}],"mZG9tS":[{"type":0,"value":"Tags"}],"mf35p3":[{"type":0,"value":"Date/Time"}],"mghfAi":[{"type":0,"value":"Runout Zone"}],"mhKwHa":[{"type":0,"value":"Snow height and new snow"}],"mjp5Qx":[{"type":0,"value":"IR-VIS Canada West"}],"mn53El":[{"type":0,"value":"AvCan Training Courses"}],"mountain-conditions-reports":[{"type":0,"value":"Mountain Conditions Reports"}],"mountain-information-network":[{"type":0,"value":"Réseau d\'information en montagne"}],"moy+Yz":[{"type":0,"value":"Mountain Weather Forecast"}],"mpFOGM":[{"type":0,"value":"Consulter le"}],"mvd+ai":[{"type":0,"value":"You can "},{"children":[{"type":0,"value":"clear your search criteria"}],"type":8,"value":"link"},{"type":0,"value":" to find more reports."}],"my-account":[{"type":0,"value":"My account"}],"n0GuWA":[{"type":0,"value":"Sous la limite forestière"}],"nDlutf":[{"type":0,"value":"Vos prévisions météorologiques en montagne quotidiennes"}],"nF4SkN":[{"type":0,"value":"Avalanches naturelles certaines; déclenchements par intervention humaine certains."}],"nFOC+A":[{"type":0,"value":"The page you are looking for has not been found."}],"nGs5Kj":[{"type":0,"value":"To"}],"nHnEJS":[{"type":0,"value":"Exonération de responsabilité"}],"nILfLj":[{"type":0,"value":"Petites avalanches localisées ou grosses avalanches dans des secteurs isolés."}],"nLpim0":[{"type":0,"value":"Sky Condition"}],"nODkXm":[{"type":0,"value":"Users"}],"nRbl1m":[{"type":0,"value":"Visitez notre blogue"}],"nTysmd":[{"type":0,"value":"Surface Maps"}],"nW3GXB":[{"type":0,"value":"Visitez notre blogue"}],"nYuP02":[{"type":0,"value":"Credit"}],"ngvAxX":[{"type":0,"value":"Min Temp"}],"nk7KjJ":[{"type":0,"value":"Satellite Imagery"}],"nlCgTV":[{"type":0,"value":"Related links"}],"noGIwm":[{"type":0,"value":"South Interior"}],"noRJYo":[{"type":0,"value":"Avalanche Forecast are not produce for every region, in some cases they are available externally."}],"o2JQpy":[{"type":0,"value":"Premier sponsors"}],"o3E2Lo":[{"type":0,"value":"Description"}],"oCd58D":[{"type":0,"value":"Recent wind loading"}],"oRm/jl":[{"type":0,"value":"Sous la limite forestière"}],"oUWADl":[{"type":0,"value":"No"}],"oZHUhy":[{"type":0,"value":"Forecast Region"}],"oaRPi+":[{"type":0,"value":"Move to the next image"}],"od9wO8":[{"type":0,"value":"Provider"}],"oklciV":[{"type":0,"value":"Map legend"}],"our-blog":[{"type":0,"value":"Our blog"}],"owC1mn":[{"type":0,"value":"What are avalanche conditions?"}],"owr/bM":[{"type":0,"value":"Imprimez ces prévisions d\'avalanches"}],"oznI18":[{"type":0,"value":"Fournir une autre réponse"}],"pBV5pm":[{"type":0,"value":"12hr Total Precipitation"}],"pGj8aX":[{"type":0,"value":"Date"}],"pI2NhH":[{"type":0,"value":"There is currently no Avalanche Advisories available."}],"pNNW8+":[{"type":0,"value":"Radar"}],"pbZmUg":[{"type":0,"value":"Other agencies and organizations"}],"pdh/6l":[{"type":0,"value":"Recorded Webinars"}],"piIZFq":[{"type":0,"value":"Precipitable Water"}],"pqAB6W":[{"type":0,"value":"Sorry, we are not able to create the loop."}],"q+ddcA":[{"type":0,"value":"Hourly Precipitation"}],"qCBBh7":[{"type":0,"value":"A new image is added to the loop every 30 minutes."}],"qE3wGW":[{"type":0,"value":"Back to main map"}],"qLsFst":[{"type":0,"value":"Submitted by"}],"qMA7U8":[{"type":0,"value":"Contact"}],"qOhJmk":[{"type":0,"value":"Petites avalanches dans des secteurs isolés ou en terrain extrême."}],"qQxbl5":[{"type":0,"value":"Yukon"}],"qU8wXd":[{"children":[{"type":0,"value":"403-679-3511"}],"type":8,"value":"phone"},{"type":0,"value":" is the Public Safety office phone number (weekdays)"}],"qV1HTT":[{"type":0,"value":"Extra"}],"qd8vka":[{"type":0,"value":"BC/AB"}],"qeyB1n":[{"type":0,"value":"Dates"}],"qifwIi":[{"type":0,"value":"Probability of temperature "},{"children":[],"type":8,"value":"children"},{"type":0,"value":" at least one day"}],"quSa+R":[{"type":0,"value":"What is avalanche terrain?"}],"qvMtAj":[{"type":0,"value":"Temperature (°C)"}],"qwen7s":[{"type":0,"value":"IR Pacific"}],"qxhsXy":[{"type":0,"value":"Terrain and Travel Advice"}],"qxumc0":[{"type":0,"value":"Trip planner"}],"r5IMiF":[{"type":0,"value":"Problèmes"}],"r7S3V1":[{"type":0,"value":"Visit "},{"type":1,"value":"fullName"},{"type":0,"value":" on "},{"type":1,"value":"service"}],"rJcJ53":[{"type":0,"value":"Day 1"}],"rKirbN":[{"type":0,"value":"Relative humidity (%) every hour from "},{"type":1,"value":"min"},{"type":0,"value":" to "},{"type":1,"value":"max"},{"type":0,"value":"."}],"rYSMcj":[{"type":0,"value":"Location"}],"rZiCe8":[{"type":0,"value":"Precipitation"}],"rbrahO":[{"type":0,"value":"Close"}],"rt8N8F":[{"type":0,"value":"Latest news"}],"s0Gj69":[{"type":0,"value":"Trouver un cours"}],"s6yaAo":[{"type":0,"value":"We suggest you "},{"children":[{"type":0,"value":"update your browser"}],"type":8,"value":"browser"},{"type":0,"value":" and make sure that WebGL is "},{"children":[{"type":0,"value":"enabled"}],"type":8,"value":"webGL"},{"type":0,"value":"."}],"s9Ojlo":[{"type":0,"value":"5 - Extrême"}],"sCTnlT":[{"type":0,"value":"Current Conditions"}],"sCu44f":[{"type":0,"value":"Plus d\'informations"}],"sHDYEY":[{"type":0,"value":"About"}],"sQZfhJ":[{"type":0,"value":"You can get more information for "},{"type":1,"value":"name"},{"type":0,"value":" region on their website"}],"sRpc3I":[{"type":0,"value":"Updated at approximately "},{"type":1,"value":"updates"},{"type":0,"value":" every day."}],"sYssP3":[{"type":0,"value":"Sled"}],"scPADm":[{"type":0,"value":"Mountain Weather Forecast"}],"sgc79g":[{"type":0,"value":"Surface R"}],"special-public-avalanche-warning":[{"type":0,"value":"Special Public Avalanche Warning"}],"sstcBc":[{"type":0,"value":"Loading "},{"type":1,"value":"pluralized"},{"type":0,"value":"..."}],"sueUsu":[{"type":0,"value":"Relative Humidity (%)"}],"t+/o8z":[{"type":0,"value":"Start Here"}],"tBoaxE":[{"type":0,"value":"Conditions avalancheuses dangereuses. Évaluer soigneusement le manteau neigeux. Faire preuve d\'une grande prudence dans le choix d\'itinéraire et la prise de décisions."}],"tK835M":[{"type":0,"value":"A problem happened while loading Incidents on the map."}],"tbsKby":[{"type":0,"value":"Outlook"}],"tf/0E1":[{"type":0,"value":"Phone"}],"tfGE48":[{"type":0,"value":"ICAR Glossary"}],"tiwIFt":[{"type":0,"value":"Air Temperature Average (°C)"}],"tkjvUf":[{"type":0,"value":"Réseau d\'information en montagne"}],"toZ0lO":[{"type":0,"value":"Avalanche Advisories"}],"training":[{"type":0,"value":"Training"}],"u4Hv7v":[{"type":0,"value":"Document "},{"type":1,"value":"title"},{"type":0,"value":" not found."}],"uM+u3j":[{"type":0,"value":"Not recommended"}],"uPQdpF":[{"type":0,"value":"Upcoming events"}],"uZFJU5":[{"type":0,"value":"Nothing found."}],"uZNjbN":[{"type":0,"value":"Avalanche Advisory Archive"}],"uaPrKi":[{"type":0,"value":"Created by"}],"uh7dXb":[{"type":0,"value":"Weather Glossary"}],"unv0Z7":[{"type":0,"value":"Contact"}],"upcoming-events":[{"type":0,"value":"Upcoming events"}],"vD3KLj":[{"type":0,"value":"Youth Education"}],"vP+E8G":[{"type":0,"value":"Managing Avalanche Terrain"}],"vYSLmy":[{"type":0,"value":"Challenging"}],"vcE2BE":[{"type":0,"value":"Slab avalanches in the last 48 hours"}],"vequEq":[{"type":0,"value":"Give "},{"type":1,"value":"fullName"},{"type":0,"value":" a call"}],"vf46CG":[{"type":0,"value":"Location"}],"vge4TT":[{"type":0,"value":"Loading definitions..."}],"vh+/Mn":[{"type":0,"value":"Training"}],"vhjtbT":[{"type":0,"value":"This is an archived avalanche bulletin."}],"vj8cZ/":[{"type":0,"value":"Charts"}],"vr8LVS":[{"type":0,"value":"An error happened while loading this page."}],"w2Nb8W":[{"type":0,"value":"Bien jouer! Essayez de trouver d\'autres routes."}],"wCgTu5":[{"type":0,"value":"Comments"}],"wF1p7K":[{"type":0,"value":"Uh oh! You never thought that would happen..."}],"wF4e0m":[{"type":0,"value":"Information sur les indices de danger"}],"wHV6rf":[{"type":0,"value":"New (cm)"}],"wJHFjD":[{"type":0,"value":"Aspect"}],"wKOpEQ":[{"type":0,"value":"Taille prévue ?"}],"wKQ3vV":[{"type":0,"value":"Soumettre un rapport d\'informations de la situation en montagne"}],"wNCO0M":[{"type":0,"value":"No weather forecast available yet for "},{"type":1,"value":"date"}],"wR6Gt2":[{"type":0,"value":"Flux RSS"}],"wRewEU":[{"type":0,"value":"Search"}],"wUPRFU":[{"type":0,"value":"Move to the first image"}],"wYBiNj":[{"type":0,"value":"New snow: "},{"type":1,"value":"amount"}],"weather-stations":[{"type":0,"value":"Weather stations"}],"wiGfb7":[{"type":0,"value":"Trouver un autre trajet"}],"wp6n1n":[{"type":0,"value":"Ces prévisions d’avalanche sont produitent par les prévisionnistes du programme de sécurité publique du pays de Kananaskis du gouvernement de l\'Alberta."}],"wpexYN":[{"type":0,"value":"In the meantime, do not hesitate to email us at "},{"children":[],"type":8,"value":"mailto"},{"type":0,"value":" if you need help for these."}],"wrfULV":[{"offset":0,"options":{"=0":{"value":[{"type":0,"value":"No report"}]},"one":{"value":[{"type":0,"value":"One report"}]},"other":{"value":[{"type":0,"value":"Total of "},{"type":7},{"type":0,"value":" reports"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" found."}],"wv2of/":[{"type":0,"value":"Upcoming events"}],"wyIZp9":[{"type":0,"value":"Débuter avec"}],"wzEVz0":[{"type":0,"value":"Jusqu\'à nouvel ordre"}],"x1UmLT":[{"type":0,"value":"Hot Zone"}],"x4Ch6V":[{"type":0,"value":"Aspect"}],"xBqzzk":[{"type":0,"value":"Cross-loaded slopes"}],"xOPjK4":[{"type":0,"value":"Blog"}],"xUDVUH":[{"type":0,"value":"Terrain to Watch"}],"xVvJB7":[{"type":0,"value":"Voir les réponses"}],"xX1hzi":[{"type":0,"value":"Loading incidents..."}],"xXgvZL":[{"type":0,"value":"Forecast regions list view"}],"xaJS8r":[{"type":0,"value":"Signs of instability"}],"xeCA+8":[{"type":0,"value":"Share on "},{"type":1,"value":"provider"}],"xeuLwX":[{"type":0,"value":"Teaching Avalanche Skills Training"}],"xiGg+I":[{"type":0,"value":"An error happened while getting document "},{"type":1,"value":"title"},{"type":0,"value":"."}],"xnLcaL":[{"type":0,"value":"Slab width"}],"xnl8OC":[{"type":0,"value":"Chart legend"}],"xpPoqQ":[{"type":0,"value":"Archive des prévisions"}],"y6C4VC":[{"type":0,"value":"Move to the last image"}],"yD1Xpo":[{"type":0,"value":"Day"}],"yFX4u5":[{"type":0,"value":"Forecast Archive"}],"yFzXru":[{"type":0,"value":"©"},{"type":1,"value":"year"},{"type":0,"value":" Avalanche Canada, Tous droits réservés"}],"yHhuHl":[{"type":0,"value":"Conditions en temps réel dans les Chic-Chocs"}],"yIBCSS":[{"type":0,"value":"Complex"}],"yM2ene":[{"type":0,"value":"Temperatures"}],"yS8hft":[{"type":0,"value":"Wind Speed Gust (km/h)"}],"yWrori":[{"offset":0,"options":{"=0":{"value":[{"type":0,"value":"No report"}]},"one":{"value":[{"type":0,"value":"One report"}]},"other":{"value":[{"type":0,"value":"Total of "},{"type":7},{"type":0,"value":" reports"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" found from "},{"type":1,"value":"from"},{"type":0,"value":" (start of the day) to "},{"type":1,"value":"to"},{"type":0,"value":" (end of the day)."}],"yZkzOl":[{"type":0,"value":"You can "},{"children":[{"type":0,"value":"clear your search criteria"}],"type":8,"value":"link"},{"type":0,"value":" to find more reports."}],"yb+Gbh":[{"type":0,"value":"Creating the loop..."}],"yb8Oqb":[{"type":0,"value":"Émi le"}],"ysUAAU":[{"type":0,"value":"Extra caution"}],"z9fPF4":[{"type":0,"value":"You can also "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":" to see them all."}],"zBnK8W":[{"type":0,"value":"De retour au"}],"zCe6Ex":[{"type":0,"value":"EPSgrams (N. American Ensemble)"}],"zHorBS":[{"type":0,"value":"Pour les sauvetages dans l\'arrière-pays, contactez le "},{"children":[{"type":0,"value":"911"}],"type":8,"value":"phone"},{"type":0,"value":" et mentionnez que vous êtes dans les Chic-Chocs"}],"zJp3FB":[{"type":0,"value":"Significant warming"}],"zNaqzT":[{"type":0,"value":"Hour"}],"zSmg4V":[{"type":0,"value":"Upcoming events"}],"zaYxwd":[{"type":0,"value":"Incident"}],"zfrygz":[{"type":0,"value":"Visitez le blogue d’Avalanche Canada"}],"zpKok5":[{"type":0,"value":"Present Temp"}],"zv0eNH":[{"type":0,"value":"Location"}],"zvP02c":[{"type":0,"value":"Prévisions archivées"}],"zwvGck":[{"type":0,"value":"Prix de service"}]}')},function(e){e.exports=JSON.parse('{"+/kDI8":[{"type":0,"value":"No advisory available in "},{"type":1,"value":"name"},{"type":0,"value":" for "},{"type":1,"value":"date"},{"type":0,"value":"."}],"+2V9nb":[{"type":0,"value":"A new image is added to the loop every 60 minutes."}],"+9YFIt":[{"type":0,"value":"Analysis"}],"+ALzpC":[{"type":0,"value":"Click on a link below to see weather station data."}],"+EmH+m":[{"type":0,"value":"Decision Point"}],"+F+eyp":[{"type":0,"value":"Contributors"}],"+HSXlh":[{"type":0,"value":"External programs"}],"+OvFHB":[{"type":0,"value":"Mountain Information Network — Submission Guidelines"}],"+Q4vtp":[{"type":0,"value":"All categories"}],"+QNm85":[{"type":0,"value":"Parking"}],"+daSk/":[{"type":0,"value":"You can also "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":" to see them all."}],"+jNk3E":[{"type":0,"value":"Loading forecast..."}],"+vIwIZ":[{"type":0,"value":"entries per page."}],"+zUHgM":[{"type":0,"value":"Previous"}],"/3jGaX":[],"/AElfC":[{"type":0,"value":"Surface"}],"/F6OrO":[{"type":0,"value":"Water Vapour/Jet"}],"/NqjPa":[{"type":0,"value":"Date"}],"/Pksc9":[],"/PphbK":[{"type":0,"value":"Hi "},{"type":1,"value":"username"},{"type":0,"value":","}],"/Qpbuj":[{"type":0,"value":"From"}],"/cpFFk":[{"type":0,"value":"Critical factors influence avalanche hazard. The more critical factors, the greater the potential for avalanches."}],"/ebplO":[{"type":0,"value":"Persistent avalanche problem"}],"/lHrXG":[{"type":0,"value":"Owner"}],"/lz0Zy":[{"type":0,"value":"South Rockies"}],"06YBx2":[{"type":0,"value":"An error happened while loading forecast."}],"08vHHF":[{"type":0,"value":"No "},{"type":1,"value":"type"},{"type":0,"value":" match your criteria. You can "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":" to find more articles."}],"0IrREY":[{"type":0,"value":"Select a forecast region."}],"0J6il2":[{"type":0,"value":"Cutblocks"}],"0TjAGd":[{"type":0,"value":"Click on a link below to read an Avalanche Advisory."}],"0Ydt2k":[{"type":0,"value":"view"}],"0lzKZE":[{"type":0,"value":"Weather station #"},{"type":1,"value":"id"},{"type":0,"value":" does not exist."}],"1+R0DV":[{"type":0,"value":"Hut, cabin or shelter"}],"1+xqK4":[{"type":0,"value":"Probability of precipitation accumulation "},{"children":[],"type":8,"value":"children"},{"type":0,"value":" for the whole period"}],"1D6FM6":[{"type":0,"value":"Natural and human-triggered avalanches unlikely."}],"1WXUMT":[{"type":0,"value":"Avoid all avalanche terrain."}],"1kY+r/":[{"type":0,"value":"Terms of use"}],"1mmIsb":[{"type":0,"value":"If you need help or have questions, do not hesitate to send us an "},{"children":[{"type":0,"value":"email"}],"type":8,"value":"link"},{"type":0,"value":"."}],"1nJY2/":[{"type":0,"value":"Your answer"}],"1syIDU":[{"type":0,"value":"Good Terrain Choices"}],"1xUmX4":[{"type":0,"value":"Tags"}],"216rUN":[{"type":0,"value":"Tagged under"}],"26Gwz5":[{"type":0,"value":"Board of directors"}],"2BrINg":[{"type":0,"value":"Uh oh! We never thought that would happen..."}],"2DDvdI":[{"type":0,"value":"Forecasts and graphics produced by the Meteorological Service of Canada (MSC)"}],"2LRegK":[{"type":0,"value":"Visible imagery not available at night."}],"2SmYNl":[{"type":0,"value":"Date"}],"2UF3eI":[{"type":0,"value":"Select an area."}],"2Z7oDB":[{"type":0,"value":"More information"}],"2aV3aQ":[{"type":0,"value":"Alpine weather forecast"}],"2cCG+C":[{"type":0,"value":"Username"}],"2d7Vp3":[{"type":0,"value":"Avalanche Advisory"}],"2gVYHB":[{"type":0,"value":"Email the Kananaskis Country Public Safety Section"}],"2qCVIs":[{"type":0,"value":"Go to home page"}],"2shqaL":[{"type":0,"value":"Problem submitting report: $"},{"type":1,"value":"title"}],"2y+Sqk":[{"type":0,"value":"Mountain Weather Forecast Feedback"}],"2yJisv":[{"type":0,"value":"Subscribe to our forecasts"}],"36Tu55":[{"type":0,"value":"Changing your username will change all previously submitted reports as well as all reports you will submit in the future."}],"3GWnIa":[{"type":0,"value":"Forecasters’ blogs"}],"3M/Kkc":[],"3hIm21":[{"type":0,"value":"1000 – 500 hPa Thickness (N. American Ensemble)"}],"3jrid5":[{"type":0,"value":"Uh oh! We never thought that would happen..."}],"3ljngv":[{"type":0,"value":"Warnings"}],"3ofh0S":[{"type":0,"value":"Loading Mountain Conditions Report..."}],"3yPJzl":[{"type":0,"value":"Snow height: "},{"type":1,"value":"amount"}],"41g4WQ":[{"type":0,"value":"Select a region"}],"42E5Ej":[{"type":0,"value":"Please note:"}],"46M0qD":[{"type":0,"value":"24hr Snow"}],"47FYwb":[{"type":0,"value":"Cancel"}],"49cz1r":[{"type":0,"value":"3 - Considerable"}],"4T+ECN":[{"type":0,"value":"over "},{"style":null,"type":2,"value":"temperature"},{"type":0,"value":"°C"}],"4U2ie6":[{"type":0,"value":"Managing Avalanche Terrain (MAT)"}],"4X1cAW":[{"type":0,"value":"Settings"}],"4X9D7R":[{"type":0,"value":"No problems identified."}],"4bY8Ee":[{"children":[],"type":8,"value":"prefix"},{"type":0,"value":" between "},{"children":[],"type":8,"value":"sufix"}],"4rTaR5":[{"type":0,"value":"4 - High"}],"4uCRas":[{"type":0,"value":"Search by username..."}],"4xmegO":[{"type":0,"value":"Email"}],"5AyUem":[{"type":0,"value":"IR - Canada West"}],"5DLY8m":[{"type":0,"value":"Actual Temperatures (12 hours)"}],"5FUoif":[{"type":0,"value":"Privacy Policy"}],"5H37zr":[{"type":0,"value":"SledComm"}],"5IZ5dl":[{"type":0,"value":"Sponsors & Collaborators"}],"5L/S5e":[{"type":0,"value":"Loading information..."}],"5OMfMf":[{"type":0,"value":"Observations date"}],"5QyluP":[{"type":0,"value":"Simple"}],"5WW37y":[{"type":0,"value":"Watch out, you are crossing some danger zones."}],"5jeq8P":[{"type":0,"value":"Unknown"}],"5mBM1r":[{"type":0,"value":"Avalanche Forecast"}],"5vzyAa":[{"type":0,"value":"Details"}],"6+HK6s":[{"type":0,"value":"Loading Mountain Information Network reports..."}],"62LRPS":[{"type":0,"value":"Location"}],"668eFJ":[{"type":0,"value":"Loading forecast..."}],"68fkXH":[{"type":0,"value":"This is an avalanche size 404 error..."}],"6DF8Lr":[{"type":0,"value":"Mountain Information Network report with id "},{"type":1,"value":"id"},{"type":0,"value":" has not been found."}],"6LqYAS":[{"type":0,"value":"Weather forecasts are usually published at 4:00 PST, read yesterday\'s weather forecast "},{"children":[{"type":0,"value":"here"}],"type":8,"value":"link"},{"type":0,"value":"."}],"6MB16L":[{"type":0,"value":"Annual reports"}],"6jMXw4":[{"type":0,"value":"There is currently no Special Public Avalanche Warning in effect."}],"7+7JgL":[{"type":0,"value":"An error occurred while loading incident."}],"7/Ulf8":[{"type":0,"value":"Winds"}],"7754AK":[{"type":0,"value":"Forecaster blog"}],"77PH71":[{"type":0,"value":"A problem happened while loading Mountain Conditions Reports on the map."}],"7C1Zq6":[{"type":0,"value":"Conditions in the green area are appropriate for informed backcountry travel in avalanche terrain and accidents are generally infrequent. Use caution, including hazard recognition and safe travel skills as taught in introductory avalanche courses. Rescue skills are always essential when travelling in avalanche terrain."}],"7OHV6q":[{"type":0,"value":"Play the animation"}],"7QzE6V":[{"type":0,"value":"You can still use the map. However, some data might be missing and behaviour not working as expected. Click on the arrow for more details."}],"7dR24s":[{"type":0,"value":"Visit our Blog"}],"7hQ4Wl":[{"type":0,"value":"From the reel"}],"7jVymW":[{"type":0,"value":"Accident Date"}],"7offaS":[{"type":0,"value":"Treeline"}],"7qLvcS":[{"type":0,"value":"To"}],"7qOQpv":[{"type":0,"value":"Select a date"}],"7so8ca":[{"type":0,"value":"No courses match your criteria, consider finding a provider on the "},{"children":[{"type":0,"value":"providers page"}],"type":8,"value":"link"},{"type":0,"value":" to contact directly."}],"7xMTaU":[{"type":0,"value":"Loading weather station data..."}],"82wRfY":[{"type":0,"value":"Avalanche Problem "},{"type":1,"value":"counter"},{"type":0,"value":": "},{"type":1,"value":"name"}],"85N0tP":[{"type":0,"value":"Type the new username you would like..."}],"8Emi7W":[{"offset":0,"options":{"one":{"value":[{"type":0,"value":"One error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" occurred."}],"8HqzPv":[{"type":0,"value":"It seems that your browser does not support the technology required (WebGL for the geeks) to show forecasts, advisories and other avalanche-related information on our map."}],"8PAu18":[{"type":0,"value":"546 dam – 500 hPa Contour Line (Canadian Ensemble)"}],"8PfI21":[{"type":0,"value":"caution"}],"8SzjVN":[{"type":0,"value":"Radar Imagery"}],"8cRnvP":[{"type":0,"value":"Group the table by "},{"type":1,"value":"title"}],"8cbAw/":[{"type":0,"value":"Events"}],"8hB/aX":[{"type":0,"value":"Avalanche advisory archive"}],"8kFo5V":[{"type":0,"value":"Valid Until"}],"8kLR2G":[{"type":0,"value":"Avalanche Skills Training 2"}],"8wv5uw":[{"type":0,"value":"Small avalanches in many areas; or large avalanches in specific areas; or very large avalanches in isolated areas."}],"8yS+3H":[{"type":0,"value":"Click on a link below to see another forecast:"}],"9EpKuG":[{"type":0,"value":"Danger ratings"}],"9G7scK":[{"type":0,"value":"Location"}],"9PqwAx":[{"type":0,"value":"Relative humidity (%)"}],"9QTpR8":[{"type":0,"value":"A problem happened while showing the map"}],"9Z6Jm+":[{"type":0,"value":"Source"}],"9a9+ww":[{"type":0,"value":"Title"}],"9j3hXO":[{"type":0,"value":"To"}],"9s7GOe":[{"type":0,"value":"Help"}],"9xG/qT":[{"type":0,"value":"Ready?"}],"9xMUh7":[{"type":0,"value":"Loading avalanche forecast..."}],"AJkDyl":[{"type":0,"value":"Rescue at Cherry Bowl"}],"AOlBrj":[{"type":0,"value":"Large to very large avalanches in many areas."}],"AUQJym":[{"type":0,"value":"Relative humidity"}],"AVbrfN":[{"children":[{"type":0,"value":"911"}],"type":8,"value":"phone"},{"type":0,"value":" for backcountry rescues and tell them you are in Kananaskis Country"}],"AW4vJq":[{"type":0,"value":"Exposure to low angle or primarily forested terrain. Some forest openings may involve the runout zones of infrequent avalanches. Many options to reduce or eliminate exposure. No glacier travel."}],"AiTJQz":[{"type":0,"value":"Variable depth snowpack"}],"AlX3Ht":[{"type":0,"value":"Caution"}],"Aov7Td":[{"type":0,"value":"Throttle Decisions"}],"BGOmRh":[{"type":0,"value":"Loading tutorial..."}],"BJ77yt":[],"BNaSG0":[{"type":0,"value":"This Avalanche Bulletin is produced by avalanche forecasters within the Government of Alberta, Kananaskis Country Public Safety Program."}],"BQVMOp":[{"type":0,"value":"Wind speed in kilometre per hour (km/h) and direction in degree (°) every hour from "},{"style":null,"type":3,"value":"min"},{"type":0,"value":" to "},{"style":null,"type":3,"value":"max"},{"type":0,"value":"."}],"BjomlV":[{"type":0,"value":"Hour"}],"BvR5MR":[{"type":0,"value":"Archived bulletins"}],"BzQPM+":[{"type":0,"value":"Destination"}],"C9K+TI":[{"type":0,"value":"Avalanche"}],"CFbqyU":[{"type":0,"value":"Loading avalanche forecast..."}],"CUQebg":[{"type":0,"value":"Loading latest "},{"type":1,"value":"type"},{"type":0,"value":"..."}],"Cb0zQT":[{"type":0,"value":"More details about this error..."}],"CbCYyB":[{"type":0,"value":"The Aspect newsletter"}],"Cf6TiZ":[{"type":0,"value":"A problem happened while loading Advisories on the map."}],"CiSQ0s":[{"type":0,"value":"Welcome to the Trip Planner"}],"CkFq5N":[{"type":0,"value":"MIN To Win"}],"Cmdoi3":[{"type":0,"value":"Advisory"}],"CpGrub":[{"type":0,"value":"Companion Rescue (CRS)"}],"CrgO5L":[{"type":0,"value":"Terrain Ratings Explained"}],"Crk8sd":[{"type":0,"value":"Slab Thickness"}],"CsmCN0":[{"type":0,"value":"Major avalanche path"}],"CugkBE":[{"type":0,"value":"Issued at"}],"Cv5PHD":[{"type":0,"value":"Your daily Mountain Weather Forecast"}],"CwqvmD":[{"type":0,"value":"Shallow snowpack"}],"CxoLwZ":[{"type":0,"value":"Injury"}],"D3InHA":[{"type":0,"value":"500 mbar & Precipitable Water"}],"D4JBvM":[{"type":0,"value":"Well done — You’re right!"}],"D4qYT5":[{"type":0,"value":"Avalanche report"}],"D5zf4H":[{"type":0,"value":"AST 1+"}],"DAXTto":[{"type":0,"value":"Forecast "},{"type":1,"value":"id"},{"type":0,"value":" not found"}],"DRm/Ps":[{"type":0,"value":"Report #"},{"type":1,"value":"id"},{"type":0,"value":" is not available anymore."}],"DdTMYY":[],"DxUvN0":[{"type":0,"value":"0 - No Rating"}],"E4BRRv":[{"type":0,"value":"Weather station #"},{"type":1,"value":"id"},{"type":0,"value":" not found"}],"E80WrK":[{"type":0,"value":"Information"}],"EA22jQ":[{"type":0,"value":"Prepared by"}],"EEoUHw":[{"type":0,"value":"This is eventually where you will be able to:"}],"EGB/bf":[{"type":0,"value":"Latest news"}],"EYGWzB":[{"type":0,"value":"Forecast Archive"}],"EajE3m":[{"type":0,"value":"Learn"}],"EbuhsU":[{"type":0,"value":"Information to collect while travelling"}],"Eca5XB":[],"Ee5E3w":[{"type":0,"value":"Natural avalanches likely; human-triggered avalanches very likely."}],"EoNF9S":[{"type":0,"value":"An error happened while authenticating you in. You can try another "},{"children":[{"type":0,"value":"login"}],"type":8,"value":"link"},{"type":0,"value":"."}],"EoQTj0":[{"type":0,"value":"Confidence"}],"Ew50FU":[],"EwRIOm":[{"type":0,"value":"User"}],"FCYuTW":[{"type":0,"value":"Map legend"}],"FFBBla":[{"type":0,"value":"There is no document for "},{"type":1,"value":"title"},{"type":0,"value":"."}],"FLCIcU":[{"type":0,"value":"Find a course"}],"FT+IWg":[{"type":0,"value":"Loading Mountain Information Network reports..."}],"Fb0Sd/":[{"type":0,"value":"ATES are:"}],"Fhmv0E":[{"type":0,"value":"Forecast regions"}],"Fq1tt3":[{"type":0,"value":"Tutorial"}],"Fwyx7W":[{"type":0,"value":"Speed (km/h)"}],"FzhVSF":[{"type":0,"value":"Lee slopes"}],"GFhajG":[{"type":0,"value":"Send feedback to Meteorological Service of Canada"}],"GIT7Z/":[{"type":0,"value":"Government partners"}],"GQ1GrS":[{"type":0,"value":"Special Public Avalanche Warning"}],"GUfQm1":[],"GXFJtl":[{"offset":0,"options":{"one":{"value":[{"type":0,"value":"One error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" occurred while loading Mountain Information Network reports."}],"Gacp29":[{"type":0,"value":"Read the "},{"type":1,"value":"date"},{"type":0,"value":" avalanche forecast"}],"GexYFB":[{"type":0,"value":"A problem happened while loading Weather Station on the map."}],"Ggk7AI":[{"type":0,"value":"Quick"}],"GjZDVR":[{"type":0,"value":"Companion Rescue Skills"}],"GtRtos":[{"type":0,"value":"News"}],"GzjTkI":[{"type":0,"value":"Contact us"}],"H/wqZi":[{"type":0,"value":"Download ATES data for "},{"type":1,"value":"name"}],"HBELLZ":[{"type":0,"value":"Very dangerous avalanche conditions. Travel in avalanche terrain not recommended."}],"HGGdGz":[{"type":0,"value":"Share this page on "},{"type":1,"value":"name"}],"HUZh6A":[{"type":0,"value":"Distance"}],"Hny4nb":[{"type":0,"value":"More questions?"}],"HtEmSg":[{"type":0,"value":"Sorry, that isn’t the right answer. Try again!"}],"HyJt/f":[{"type":0,"value":"Max"}],"I/WGzq":[{"type":0,"value":"Satellite"}],"I12OPN":[{"type":0,"value":"Avalanche incident database"}],"I3RuRu":[{"type":0,"value":"An error happened while loading weather stations."}],"I4kCsU":[{"type":0,"value":"Recent rainfall"}],"I80cZb":[{"type":0,"value":"Speed"}],"IAPH04":[{"type":0,"value":"Your answer is required."}],"IAhDUz":[{"type":0,"value":"Add information on one, some, or all tabs."}],"IIUFEi":[{"type":0,"value":"Click on a link below to read the avalanche forecast:"}],"IV4BOT":[{"type":0,"value":"Snowshoe"}],"IZtayi":[{"type":0,"value":"Source"}],"Iu1HqA":[{"type":0,"value":"Fresh to the Backcountry? Start Here"}],"Iw97xA":[{"type":0,"value":"Terrain Advice"}],"J3oh4c":[{"type":0,"value":"Currently showing "},{"type":1,"value":"items"},{"type":0,"value":", "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":"."}],"J4Pdl+":[{"type":0,"value":"Loading Mountain Information Network report..."}],"J8jnsU":[{"type":0,"value":"Date Issued"}],"JAKhvf":[{"type":0,"value":"Change your username"}],"JG6rPS":[{"type":0,"value":"Download ATES data as KMZ"}],"JHAVp7":[{"type":0,"value":"Trigger"}],"JHv3fg":[{"type":0,"value":"Elevation"}],"JIsU05":[{"type":0,"value":"Loading weather station data..."}],"JKU+nb":[{"type":0,"value":"In effect"}],"JMG6+l":[{"type":0,"value":"Height (cm)"}],"JMac37":[{"type":0,"value":"Show all"}],"JQsrhq":[{"type":0,"value":"Alpine"}],"JgLxsC":[{"type":0,"value":"Start again"}],"JjRe8S":[{"type":0,"value":"Loading..."}],"Jjb/Xo":[{"type":0,"value":"Weather Glossary"}],"KB/9UQ":[{"type":0,"value":"There is no rating available to show the chart."}],"KCQO1c":[{"type":0,"value":"Glossary"}],"KF5ERp":[{"type":0,"value":"Travel and Terrain Advice"}],"KHIdQ3":[{"type":0,"value":"No danger ratings are available to run the TripPlanner in that zone."}],"KJcQde":[{"type":0,"value":"Hi "},{"children":[],"type":8,"value":"link"},{"type":0,"value":","}],"KN3F+D":[{"type":0,"value":"Subscribe"}],"KNDIgK":[{"type":0,"value":"No information has been found for that decision point."}],"KVwrN8":[{"type":0,"value":"Online avalanche tutorial"}],"KZkA6O":[{"type":0,"value":"Hosted by"}],"Kb9puO":[{"type":0,"value":"Actual Temperatures"}],"KjhZA9":[{"type":0,"value":"Height"}],"KotpK6":[],"KrVTJE":[{"type":0,"value":"N/A"}],"KuQVY7":[{"type":0,"value":"Archived forecast bulletins for "},{"type":1,"value":"name"},{"type":0,"value":" region are available on the Parks Canada — Public Avalanche Information website"}],"KxbmQC":[{"type":0,"value":"Show"}],"L+sgZO":[{"type":0,"value":"Incident Summary"}],"L/68Mg":[{"type":0,"value":"Essential gear"}],"L0GLT1":[{"type":0,"value":"We have been notified about that error; we will try fix it as soon as possible."}],"L3tjFh":[{"type":0,"value":"Generally safe avalanche conditions. Watch for unstable snow on isolated terrain features."}],"L7DcSH":[{"type":0,"value":"0-48 Hours"}],"LA543e":[{"type":0,"value":"Our programs"}],"LE0Wjb":[{"type":0,"value":"Province"}],"LIkDJZ":[{"type":0,"value":"Date Updated"}],"LMf+i1":[{"type":0,"value":"Snowpack"}],"LNArWr":[{"type":0,"value":"Program partners"}],"LQLo+C":[{"type":0,"value":"Loading weather station measurements..."}],"LQMRIg":[{"type":0,"value":"Avalanche forecast"}],"LaLZR3":[{"type":0,"value":"Day 3-4"}],"LbiRuN":[{"type":0,"value":"12hr Total Precipitation"}],"LcxXMg":[{"type":0,"value":"Involvement"}],"LeccD8":[{"type":0,"value":"Day 5-7"}],"LjfT9d":[{"type":0,"value":"Winds"}],"Llm2Wa":[{"type":0,"value":"Snowpack"}],"LzDAkq":[{"type":0,"value":"Pick a from date"}],"M/Tq3r":[{"type":0,"value":"Spring Conditions"}],"MFKutU":[{"type":0,"value":"Dangerator"}],"MPPCK+":[{"type":0,"value":"AST 1 + MAT"}],"MY4AwB":[{"type":0,"value":"Ambassadors"}],"MbKJy3":[{"type":0,"value":"Day 2"}],"MgqL0c":[{"type":0,"value":"Avalanche Advisory Archive"}],"Ml7yHV":[{"type":0,"value":"Supporters"}],"MnV9R0":[{"type":0,"value":"Valid Until"}],"MoZLbF":[{"type":0,"value":"Unsupported"}],"Mp4ZFP":[{"type":0,"value":"Our blog"}],"N/SISd":[],"N1cgil":[{"type":0,"value":"Mountain Information Network — FAQ"}],"N3I9BQ":[{"type":0,"value":"Subscribe to our RSS Feed"}],"N5wkSH":[{"type":0,"value":"Weather Comment"}],"NCx3L5":[{"type":0,"value":"Avalanche Canada"}],"NDnzH9":[{"type":0,"value":"Warnings"}],"NGL434":[{"type":0,"value":"Backcountry Resources"}],"NO4LEv":[{"type":0,"value":"Not recommended"}],"Na2ozi":[{"type":0,"value":"Fatal Recreational Accident"}],"NevKuT":[{"type":0,"value":"Create a report"}],"NfTHjT":[{"type":0,"value":"Select a date"}],"NhZX3+":[{"type":0,"value":"Level"}],"NjzSyk":[{"type":0,"value":"News"}],"Nrf21I":[{"type":0,"value":"to"}],"Nw8Wlj":[{"type":0,"value":"South Coast"}],"O2sqh9":[{"type":0,"value":"Weather"}],"O3pRGx":[{"type":0,"value":"500 mbar & Precipitable Water"}],"O7tp1J":[{"children":[{"type":0,"value":"SPAW"}],"type":8,"value":"abbr"},{"type":0,"value":" In effect"}],"O8EG5J":[{"type":0,"value":"Submit your report"}],"OEp5QR":[{"type":0,"value":"From"}],"OG/m5X":[{"type":0,"value":"Find a provider"}],"OHt9Yu":[{"type":0,"value":"Remove your "},{"type":1,"value":"name"},{"type":0,"value":" report"}],"OOpDs9":[{"type":0,"value":"Critical Factors Summary"}],"OWhwRL":[{"type":0,"value":"Fatal recreational accident "},{"type":1,"value":"id"},{"type":0,"value":" available anymore."}],"OaPbee":[{"type":0,"value":"Title"}],"Ob2vt+":[{"type":0,"value":"Your daily Mountain Weather Forecast"}],"Oce/Vs":[{"type":0,"value":"Heightened avalanche conditions on specific terrain features. Evaluate snow and terrain carefully; identify features of concern."}],"Oiag/N":[],"OlJJ7I":[{"type":0,"value":"Event"}],"OwRkQO":[{"type":0,"value":"Curriculum & resources"}],"OxljSy":[{"type":0,"value":"Select a date for the "},{"type":1,"value":"name"},{"type":0,"value":" area."}],"P03AFY":[{"type":0,"value":"Report not found."}],"P7PLVj":[{"type":0,"value":"Date"}],"PJ3qoY":[{"type":0,"value":"Visible - South Interior"}],"PSYq6V":[{"type":0,"value":"Teaching guidelines"}],"PaXe1q":[{"type":0,"value":"Description"}],"Ppx673":[{"type":0,"value":"Reports"}],"Pw2f4c":[{"type":1,"value":"resolution"},{"type":0,"value":" VIS BC"}],"Pyz1fl":[{"type":0,"value":"Wind speed and direction"}],"Q05qE6":[{"type":0,"value":"Ski"}],"Q2/+Ze":[],"Q5SHJ1":[{"type":0,"value":"Courses"}],"Q6lxuZ":[{"type":0,"value":"No documents available."}],"Q8iaTl":[{"type":0,"value":"Back to home"}],"Q9P1Fw":[{"type":0,"value":"Wind Direction Average"}],"QYXOBY":[{"type":0,"value":"Travel advice"}],"QZomE3":[{"type":0,"value":"Document Date"}],"QcpZTi":[{"type":0,"value":"Visible South Coast"}],"Qd+Cop":[{"type":0,"value":"Our answer"}],"QjMlZz":[{"type":0,"value":"Search..."}],"QvimSq":[{"type":0,"value":"Show height and new snow in centimetre (cm) every hour from "},{"type":1,"value":"min"},{"type":0,"value":" to "},{"type":1,"value":"max"},{"type":0,"value":"."}],"Qvwvqu":[{"type":0,"value":"Featured resources"}],"R8WsMH":[{"type":0,"value":"Historical Incidents"}],"RI1ANN":[{"type":0,"value":"2 - Moderate"}],"RQGHrd":[{"type":0,"value":"Uh oh! We never thought that would happen..."}],"RQGr/c":[{"type":0,"value":"Brought to you by"}],"RRPHGp":[{"type":0,"value":"Main access trail"}],"RSZdsy":[{"type":0,"value":"Alberta Rockies"}],"RZFJLe":[{"type":0,"value":"Avalanche forecast is available at: "},{"type":0,"value":"<link />"}],"Ra1yqW":[{"type":0,"value":"Remove or edit reports you have submitted."}],"RmnEm5":[{"type":0,"value":"Report with id "},{"type":1,"value":"id"},{"type":0,"value":" has not been found."}],"RrRyfP":[{"type":0,"value":"Time zone"}],"RumeRz":[{"type":0,"value":"Regions"}],"S+GDxJ":[],"S0GJ2r":[{"type":0,"value":"Loading Mountain Information Network report..."}],"S1/qyL":[{"type":0,"value":"Mountain Sledding"}],"S77MlZ":[{"type":0,"value":"A problem happened while loading forecast on the map."}],"S8FkTR":[{"type":0,"value":"AST 2"}],"S8m8si":[{"type":0,"value":"Loading..."}],"SKojS6":[{"type":0,"value":"Mountain Information Network — Reports"}],"SaG3kV":[{"type":0,"value":"Find a provider"}],"SiR2AW":[{"type":0,"value":"Wind Speed Average (km/h)"}],"SlXuCK":[{"type":0,"value":"Outside a region"}],"SmpOMT":[{"type":0,"value":"Mountain Information Network"}],"SsYBcd":[{"type":0,"value":"Elevation"}],"SxXAWS":[{"type":0,"value":"Select a forecast date."}],"T3e4KH":[{"type":0,"value":"Mountain Information Network"}],"T5cbLZ":[{"type":0,"value":"A new image is added to the loop every 10 minutes."}],"TEgYqN":[{"type":0,"value":"Select an area"}],"TKISVn":[{"type":0,"value":"Avalanche Canada Foundation"}],"TMp/ih":[{"type":0,"value":"24hr Trend"}],"Texvtz":[{"type":0,"value":"Credit"}],"TgYk8t":[{"type":0,"value":"See all reports"}],"TkE+dd":[{"type":0,"value":"Your username"}],"TkNZrJ":[{"type":0,"value":"Loading all weather stations..."}],"Tm5kg9":[{"type":0,"value":"Snow (cm)"}],"TtEB5V":[{"type":0,"value":"Visit all submitted reports"}],"TwWQNx":[{"type":0,"value":"Wind Speed"}],"TxwX//":[{"type":0,"value":"Backcountry travel in the red area is not recommended without professional–level safety systems and guidance. Conditions are primed for avalanche accidents and even careful decisions can result in serious accidents. Finding terrain with an acceptable level of avalanche risk under these conditions requires detailed knowledge and comprehensive understanding of the development of the local snowpack to date, the effect of the current weather on the existing avalanche problem, and the small- scale characteristics of the local terrain, including avalanche activity history."}],"UGRKnY":[{"type":0,"value":"more than "},{"style":null,"type":2,"value":"value"},{"type":0,"value":"mm"}],"UJsB3G":[{"type":0,"value":"Storm Snow"}],"URqWAH":[{"type":0,"value":"Weather stations"}],"UY1p4F":[{"type":0,"value":"See this submission on the main map"}],"UhV7f7":[{"type":0,"value":"Glossary"}],"UhypXW":[{"type":0,"value":"Source"}],"Ulbgnu":[{"type":0,"value":"See also:"}],"Ut/ezC":[{"type":0,"value":"An error happened while getting decision point information."}],"V7pNoh":[{"type":0,"value":"Natural avalanches unlikely; human-triggered avalanches possible."}],"VA+DE/":[{"type":0,"value":"Reports list view"}],"VAjdA4":[{"type":0,"value":"This could happen for few reasons. Do not hesitate to contact us at "},{"children":[],"type":8,"value":"mail"},{"type":0,"value":" so we can help you sort that out."}],"VBSQLa":[{"type":0,"value":"No "},{"type":1,"value":"name"},{"type":0,"value":" Avalanche Advisory is currently available."}],"VEy7NE":[{"type":0,"value":"Remote weather stations"}],"VecW4F":[{"type":0,"value":"Our staff"}],"VlqGrp":[{"type":0,"value":"Direction"}],"VuDwBa":[{"type":0,"value":"An error happened while loading the forecast."}],"VuUEEB":[{"type":0,"value":"Weather station"}],"Vx5B5y":[{"type":0,"value":"Visit Avalanche Canada Blog"}],"W8F0HN":[{"type":0,"value":"Email the Kananaskis Country Public Safety Section"}],"WAkhuA":[{"type":0,"value":"Caution"}],"WBxRMD":[{"type":0,"value":"Available reports"}],"WCKpbe":[{"type":0,"value":"500 hPa Mean / Standard Deviation (N. American Ensemble)"}],"WDiGF0":[{"type":0,"value":"Send "},{"type":1,"value":"fullName"},{"type":0,"value":" an email"}],"WMq6So":[{"type":0,"value":"Loading..."}],"WNGaI0":[{"type":0,"value":"Location"}],"WOkXMl":[{"type":0,"value":"Access all the reports you have submitted."}],"WZRlM4":[{"type":0,"value":"How to GIVE information?"}],"WeGi2C":[],"WePE/Y":[{"type":0,"value":"Large avalanches in many areas; or very large avalanches in specific areas."}],"WhW499":[{"type":0,"value":"AST 1 + AST 2 Combined"}],"WlYJie":[{"type":0,"value":"Contacts"}],"Wn0WGR":[{"type":0,"value":"How to GET information?"}],"X0mGc4":[{"type":0,"value":"Look at "},{"type":1,"value":"title"},{"type":0,"value":" report on the map"}],"X4A2RL":[{"type":0,"value":"Tutorials"}],"X4eU4b":[{"type":0,"value":"Search for a definition"}],"X4fq+c":[{"type":0,"value":"From"}],"X6pshk":[],"X83AXU":[{"type":0,"value":"Search"}],"XVMUAR":[{"type":0,"value":"1 - Low"}],"Xzbf14":[{"type":0,"value":"Share this page"}],"Y+s5Pd":[{"type":0,"value":"Reset to the last "},{"type":1,"value":"days"},{"type":0,"value":" days"}],"YObgko":[{"type":0,"value":"Storm Date"}],"YSkrN2":[{"offset":0,"options":{"=0":{"value":[{"type":0,"value":"No users"}]},"one":{"value":[{"type":7},{"type":0,"value":" user"}]},"other":{"value":[{"type":7},{"type":0,"value":" users"}]}},"pluralType":"cardinal","type":6,"value":"itemCount"},{"type":0,"value":" found."}],"YZxsM8":[{"type":0,"value":"Exceedance Probability (N. American Ensemble)"}],"YcECia":[{"type":0,"value":"Date range"}],"Yhzvef":[{"type":0,"value":"Exposure to multiple overlapping avalanche paths or large expanses of steep, open terrain; multiple avalanche starting zones and terrain traps below; minimal options to reduce exposure. Complicated glacier travel with extensive crevasse bands or icefalls."}],"Yk/+o9":[{"type":0,"value":"Synopsis"}],"Ykeofn":[{"type":0,"value":"The arrow is pointing down the path."}],"Yu49Is":[{"type":0,"value":"Trip Planning"}],"Z/WHoY":[{"type":0,"value":"Forecast regions"}],"Z6NFiK":[{"type":0,"value":"Information"}],"Z7dIFE":[{"type":0,"value":"Snow"}],"ZBJwKE":[{"type":0,"value":"Snowpack Comment"}],"ZGD8bt":[{"type":0,"value":"You will be redirected once we are done!"}],"ZJ+oes":[{"type":0,"value":"Display on map"}],"ZMxtNy":[{"type":0,"value":"Activity"}],"ZOelDD":[{"type":0,"value":"All months"}],"ZRo059":[{"type":0,"value":"Use extra caution in the yellow area. Avalanches are likely to occur with human or natural triggers, and accidents are frequent. Safe travelling under these conditions demands an advanced understanding of the character of the current avalanche problem. This includes knowing which field observations are most useful under the given conditions and which terrain features to favour or avoid. Advanced trip planning and group management skills, significant personal experience, and humility are essential."}],"ZXj6PT":[{"type":0,"value":"Move to the previous image"}],"Zo+y8O":[{"type":0,"value":"1980/1981 and earlier"}],"ZpUwKG":[{"type":0,"value":"Latest blog posts"}],"ZtQ9DU":[{"offset":0,"options":{"=1":{"value":[{"type":7},{"type":0,"value":" day"}]},"other":{"value":[{"type":7},{"type":0,"value":" days"}]}},"pluralType":"cardinal","type":6,"value":"amount"}],"a0unHU":[{"type":0,"value":"Providers"}],"a2JuFd":[{"type":0,"value":"Early Season Conditions"}],"a3lNIo":[{"type":0,"value":"News & Events"}],"a5msuh":[{"type":0,"value":"Yes"}],"aBCy53":[{"type":0,"value":"Store"}],"aBPUuk":[{"type":0,"value":"This is an archived Avalanche Advisory."}],"aCsFX1":[{"type":0,"value":"North Rockies"}],"aEft73":[{"type":0,"value":"Filter by"}],"aUBpA8":[{"type":0,"value":"Mountain Information Network"}],"abQ+FP":[{"type":0,"value":"Forecast archive"}],"aoXWRy":[{"type":0,"value":"Observations"}],"aoroMT":[{"type":0,"value":"Loading incident..."}],"app.distanceDescription":[{"type":0,"value":"Straight line between "},{"type":1,"value":"place"},{"type":0,"value":" and the provider."}],"app.loadingError":[{"type":0,"value":"An error happened while loading the "},{"type":1,"value":"pluralized"},{"type":0,"value":"..."}],"avalanche-advisories":[{"type":0,"value":"Avalanche Advisories"}],"avalanche-forecasts":[{"type":0,"value":"Avalanche Forecasts"}],"b05fd7":[{"type":0,"value":"Temperatures"}],"b40Pr7":[{"type":0,"value":"Reporter"}],"bK2mzd":[{"type":0,"value":"Create a report"}],"bMyk2U":[{"type":0,"value":"No definition matches your criteria."}],"bZ1WF2":[{"type":0,"value":"Descending"}],"bpQq40":[{"type":0,"value":"Careers"}],"c+ir6d":[{"type":0,"value":"For more photos and more information about the professional mountain guide who created this report visit: "},{"children":[{"type":0,"value":"mountainconditions.com"}],"type":8,"value":"link"},{"type":0,"value":"."}],"c3Z95X":[{"type":0,"value":"Weather stations"}],"cG0Q8M":[{"type":0,"value":"Temperature"}],"cGNPZd":[{"offset":0,"options":{"one":{"value":[{"type":7},{"type":0,"value":" photo"}]},"other":{"value":[{"type":7},{"type":0,"value":" photos"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" attached"}],"cJ8MIq":[{"type":0,"value":"Reload the map"}],"cRTHzR":[{"type":0,"value":"This station currently has no data available."}],"cdHupa":[{"type":0,"value":"Loading measurements..."}],"ch+P3A":[{"type":0,"value":"Terrain features"}],"cj0fgl":[{"type":0,"value":"Pause the animation"}],"ckeXb6":[{"type":0,"value":"Loading mountain weather forecast for "},{"type":1,"value":"date"},{"type":0,"value":"..."}],"cnbRxD":[{"children":[{"type":0,"value":"403-591-7755"}],"type":8,"value":"phone"},{"type":0,"value":" is the dispatch office non-emergency line"}],"cuIJWp":[{"type":0,"value":"Pick a to date"}],"d7cAvi":[{"type":0,"value":"An error occurred."}],"dCN3Up":[{"type":0,"value":"Probability of precipitation "},{"children":[],"type":8,"value":"children"},{"type":0,"value":" at least one day"}],"dE2CES":[{"type":0,"value":"Loading "},{"type":1,"value":"title"},{"type":0,"value":" page..."}],"dILW+f":[{"type":0,"value":"Mountain Information Network — Create report"}],"dM+p3/":[{"type":0,"value":"From"}],"dQKFUX":[{"type":0,"value":"Enter your email address"}],"dZ+4FV":[{"type":0,"value":"Creeks"}],"dZKvmR":[{"type":0,"value":"An error occurred on the page you are visiting."}],"dfnWPN":[{"type":0,"value":"Visible - Alberta Rockies"}],"dk3C5G":[{"offset":0,"options":{"one":{"value":[{"type":7},{"type":0,"value":" error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" found in your "},{"children":[],"type":8,"value":"link"},{"type":0,"value":" report."}],"e0UxRX":[{"type":0,"value":"Wind Direction"}],"e7SQt4":[{"type":0,"value":"An error happened while submitting and saving your report to our servers. Do not hesitate to contact us to get more details so you can have your report submitted. Thanks for your understanding and cooperation!"}],"eCkcGF":[{"type":0,"value":"An error happened."}],"eRUb0Z":[{"type":0,"value":"Look at this report on the map"}],"eWOewv":[{"type":0,"value":"Authentication in progress..."}],"eYyw2/":[{"type":0,"value":"Gust"}],"ei59iy":[{"type":0,"value":"Off season"}],"eu8sFr":[{"type":0,"value":"See that advisory on the main map"}],"eyGq6Y":[{"type":0,"value":"Visit the Mountain Weather Forecast"}],"eyccwu":[{"type":0,"value":"Recent snowfall > "},{"type":1,"value":"height"}],"ez+kCq":[{"type":0,"value":"Height"}],"f1lt+W":[{"type":0,"value":"No providers match your criteria, consider finding a course on the "},{"children":[{"type":0,"value":"courses page"}],"type":8,"value":"link"},{"type":0,"value":"."}],"f8z90J":[{"type":0,"value":"Ascending"}],"fBD05b":[{"type":0,"value":"Avalanche basics"}],"fD/vNZ":[{"type":0,"value":"Wind (km/h)"}],"fDXBCA":[{"type":0,"value":"Name"}],"fFqMmX":[{"type":0,"value":"You need to be logged in to see some content."}],"fLpQyj":[{"type":0,"value":"Warnings are available on weather.gc.ca"}],"fPfNNr":[{"type":0,"value":"Type"}],"fatal-recreational-accidents":[{"type":0,"value":"Fatal Recreational Accidents"}],"fb3qcN":[{"type":0,"value":"Loading fatal recreational accident..."}],"forecasts":[{"type":0,"value":"Forecasts"}],"fpLYvo":[{"type":0,"value":"Max Temp"}],"frtcDi":[{"type":0,"value":"A problem happened while loading Mountain Information Network (MIN) Reports on the map."}],"ftA+E2":[{"type":0,"value":"BC Mosaic"}],"fxGwIN":[{"type":0,"value":"Size"}],"g+HSsV":[{"type":0,"value":"Air Temperature"}],"g2EOhL":[{"type":0,"value":"Online Education"}],"g8ZiK0":[{"type":0,"value":"Table"}],"gDCRKI":[{"type":0,"value":"Fatal"}],"gSPD2F":[{"type":0,"value":"RH (%)"}],"gTmr43":[{"type":0,"value":"An error happened while showing charts."}],"gXCzdT":[{"type":0,"value":"Submit a Mountain Information Report"}],"gc5sS2":[{"type":0,"value":"Forecasts"}],"gcZ44W":[{"type":0,"value":"Mountain Weather Forecast"}],"gghcvY":[{"type":0,"value":"Incident #"},{"type":1,"value":"id"},{"type":0,"value":" not found"}],"gjBiyj":[{"type":0,"value":"Loading..."}],"h/Nirh":[{"type":0,"value":"Loading users..."}],"h0Kju5":[{"type":0,"value":"Donate to Foundation"}],"h7KXl7":[{"type":0,"value":"Air Temperature Min (°C)"}],"hDJDN/":[{"type":0,"value":"More details"}],"hHvvfI":[],"hIYH8G":[{"offset":0,"options":{"one":{"value":[{"type":0,"value":"One error"}]},"other":{"value":[{"type":7},{"type":0,"value":" errors"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" occurred. Click for more details."}],"hJ1ugx":[{"type":0,"value":"Arc\'teryx Mountain Conditions Report"}],"hNq0pE":[{"type":0,"value":"0-144 Hours"}],"hTNVGU":[{"type":0,"value":"Click on a link below to see another weather station:"}],"heRKCG":[{"type":1,"value":"name"},{"type":0,"value":" forecast not found"}],"hiAkhj":[{"type":0,"value":"No avalanche forecast has been found for "},{"type":1,"value":"name"},{"type":0,"value":"."}],"hvMNVN":[{"type":0,"value":"Special Public Avalanche Warning"}],"i+AGCP":[{"type":0,"value":"Email"}],"i6Tori":[{"type":0,"value":"Submit a Mountain Information Report"}],"i8CXtl":[{"type":0,"value":"Weather stations list view"}],"i9XkAs":[{"type":0,"value":"Provider name"}],"iEAZIi":[{"type":0,"value":"Submitting your report..."}],"iEI8pm":[{"type":0,"value":"Youth"}],"iNi0FV":[{"type":0,"value":"Exposure to well-defined avalanche paths, starting zones or terrain traps; options exist to reduce or eliminate exposure with careful route-finding. Glacier travel is straightforward but crevasse hazards may exist."}],"iUn2hD":[{"type":0,"value":"Visit on "},{"type":1,"value":"name"},{"type":0,"value":"."}],"iWgEgL":[{"type":1,"value":"label"},{"type":0,"value":" on "},{"type":1,"value":"name"}],"iXC6aX":[{"type":0,"value":"Printable version"}],"iY/ewP":[{"type":0,"value":"Unsupported map"}],"iYqjbT":[{"type":0,"value":"Precipitation Type"}],"iek8Zl":[{"type":0,"value":"An error happened while submitting your report."}],"ificVq":[{"type":0,"value":"Air Temperature Max (°C)"}],"ikdt7M":[{"type":0,"value":"Avalanche Skills Training 1"}],"iliHrV":[{"type":0,"value":"Website"}],"iq87Si":[{"type":0,"value":"Loading avalanche forecast..."}],"irzEgi":[{"type":0,"value":"Convex"}],"iuhMmM":[{"type":0,"value":"Terrain to Avoid"}],"iwgtE3":[{"type":0,"value":"Past events"}],"j9NdGF":[{"type":0,"value":"Login to post to the Mountain Information Network"}],"jHMwxP":[{"type":0,"value":"Next"}],"jOywnT":[{"type":0,"value":"Contact us"}],"jTbugS":[{"type":1,"value":"from"},{"type":0,"value":" and "},{"type":1,"value":"to"}],"jW0/kq":[{"type":0,"value":"Hourly Precipitation"}],"jXSbrK":[{"type":0,"value":"Average"}],"jjbFGi":[{"type":0,"value":"Freezing Level R"}],"jkokZp":[{"type":0,"value":"Planning"}],"jwimQJ":[{"type":0,"value":"Ok"}],"k8fnrh":[{"type":0,"value":"Min"}],"kNifCP":[{"type":0,"value":"Land of Thundering Snow"}],"kO2GwF":[{"type":0,"value":"Natural avalanches possible; human-triggered avalanches likely."}],"kPjMZR":[{"type":0,"value":"Elevation"}],"kR4i6x":[{"type":0,"value":"Precipitation Type & Intensity"}],"kWx9C+":[{"type":0,"value":"An error happened while retrieving Mountain Information Network reports for the last "},{"type":1,"value":"days"},{"type":0,"value":" days."}],"kYJIjt":[{"type":0,"value":"AST 1"}],"kpYbyf":[{"type":0,"value":"Videos"}],"kzP1IM":[{"type":0,"value":"Air Temperature (°C)"}],"l1XTI5":[{"type":0,"value":"Follow us"}],"l4fsUL":[{"type":0,"value":"Lexique Avalanche—Avalanche Lexicon"}],"lE1Ifz":[{"type":0,"value":"Level"}],"lFTyzM":[{"type":0,"value":"New"}],"lHofeR":[{"type":0,"value":"An error happened while loading weather station data."}],"lXtFHJ":[{"type":0,"value":"Click on a link below to see another weather station."}],"latest-news":[{"type":0,"value":"Latest news"}],"lb38CE":[{"type":0,"value":"under "},{"style":null,"type":2,"value":"temperature"},{"type":0,"value":"°C"}],"lcn90r":[{"type":0,"value":"New"}],"leFeKC":[{"type":0,"value":"Day "},{"type":1,"value":"value"}],"lnaWo/":[{"type":0,"value":"Region"}],"login":[{"type":0,"value":"Login"}],"logout":[{"type":0,"value":"Logout"}],"lxxl0Q":[{"type":0,"value":"Surface Maps"}],"lywdxo":[{"type":0,"value":"Change my username"}],"m67oal":[{"type":0,"value":"Cost"}],"mBli9B":[{"type":0,"value":"Click on a link below to see another forecast:"}],"mEyhzr":[{"type":0,"value":"Accumulated precipitation"}],"mJzUsv":[{"type":0,"value":"Create a Mountain Information Network (MIN) report"}],"mR0hCD":[{"type":0,"value":"Close"}],"mSawI9":[{"type":0,"value":"Your daily Mountain Weather Forecast"}],"mSeuWm":[{"type":0,"value":"Danger Ratings Explained"}],"mTRqfE":[{"type":0,"value":"COVID-19 Safety Plan"}],"mXsQGA":[{"type":0,"value":"Reload this page"}],"mZG9tS":[{"type":0,"value":"Tags"}],"mf35p3":[{"type":0,"value":"Date/Time"}],"mghfAi":[{"type":0,"value":"Runout Zone"}],"mhKwHa":[{"type":0,"value":"Snow height and new snow"}],"mjp5Qx":[{"type":0,"value":"IR-VIS Canada West"}],"mn53El":[{"type":0,"value":"AvCan Training Courses"}],"mountain-conditions-reports":[{"type":0,"value":"Mountain Conditions Reports"}],"mountain-information-network":[{"type":0,"value":"Mountain Information Network"}],"moy+Yz":[{"type":0,"value":"Mountain Weather Forecast"}],"mpFOGM":[{"type":0,"value":"Visit the"}],"mvd+ai":[{"type":0,"value":"You can "},{"children":[{"type":0,"value":"clear your search criteria"}],"type":8,"value":"link"},{"type":0,"value":" to find more reports."}],"my-account":[{"type":0,"value":"My account"}],"n0GuWA":[{"type":0,"value":"Below treeline"}],"nDlutf":[{"type":0,"value":"Your daily Mountain Weather Forecast"}],"nF4SkN":[{"type":0,"value":"Natural and human-triggered avalanches certain."}],"nFOC+A":[{"type":0,"value":"The page you are looking for has not been found."}],"nGs5Kj":[{"type":0,"value":"To"}],"nHnEJS":[],"nILfLj":[{"type":0,"value":"Small avalanches in specific areas; or large avalanches in isolated areas."}],"nLpim0":[{"type":0,"value":"Sky Condition"}],"nODkXm":[{"type":0,"value":"Users"}],"nRbl1m":[{"type":0,"value":"Visit our Blog"}],"nTysmd":[{"type":0,"value":"Surface Maps"}],"nW3GXB":[{"type":0,"value":"Visit our Blog"}],"nYuP02":[{"type":0,"value":"Credit"}],"ngvAxX":[{"type":0,"value":"Min Temp"}],"nk7KjJ":[{"type":0,"value":"Satellite Imagery"}],"nlCgTV":[{"type":0,"value":"Related links"}],"noGIwm":[{"type":0,"value":"South Interior"}],"noRJYo":[{"type":0,"value":"Avalanche Forecast are not produce for every region, in some cases they are available externally."}],"o2JQpy":[{"type":0,"value":"Premier sponsors"}],"o3E2Lo":[{"type":0,"value":"Description"}],"oCd58D":[{"type":0,"value":"Recent wind loading"}],"oRm/jl":[],"oUWADl":[{"type":0,"value":"No"}],"oZHUhy":[{"type":0,"value":"Forecast Region"}],"oaRPi+":[{"type":0,"value":"Move to the next image"}],"od9wO8":[{"type":0,"value":"Provider"}],"oklciV":[{"type":0,"value":"Map legend"}],"our-blog":[{"type":0,"value":"Our blog"}],"owC1mn":[{"type":0,"value":"What are avalanche conditions?"}],"owr/bM":[{"type":0,"value":"Print this forecast bulletin"}],"oznI18":[{"type":0,"value":"Give another answer"}],"pBV5pm":[{"type":0,"value":"12hr Total Precipitation"}],"pGj8aX":[{"type":0,"value":"Date"}],"pI2NhH":[{"type":0,"value":"There is currently no Avalanche Advisories available."}],"pNNW8+":[{"type":0,"value":"Radar"}],"pbZmUg":[{"type":0,"value":"Other agencies and organizations"}],"pdh/6l":[{"type":0,"value":"Recorded Webinars"}],"piIZFq":[{"type":0,"value":"Precipitable Water"}],"pqAB6W":[{"type":0,"value":"Sorry, we are not able to create the loop."}],"q+ddcA":[{"type":0,"value":"Hourly Precipitation"}],"qCBBh7":[{"type":0,"value":"A new image is added to the loop every 30 minutes."}],"qE3wGW":[{"type":0,"value":"Back to main map"}],"qLsFst":[{"type":0,"value":"Submitted by"}],"qMA7U8":[{"type":0,"value":"Contact"}],"qOhJmk":[{"type":0,"value":"Small avalanches in isolated areas or extreme terrain."}],"qQxbl5":[{"type":0,"value":"Yukon"}],"qU8wXd":[{"children":[{"type":0,"value":"403-679-3511"}],"type":8,"value":"phone"},{"type":0,"value":" is the Public Safety office phone number (weekdays)"}],"qV1HTT":[{"type":0,"value":"Extra"}],"qd8vka":[{"type":0,"value":"BC/AB"}],"qeyB1n":[{"type":0,"value":"Dates"}],"qifwIi":[{"type":0,"value":"Probability of temperature "},{"children":[],"type":8,"value":"children"},{"type":0,"value":" at least one day"}],"quSa+R":[{"type":0,"value":"What is avalanche terrain?"}],"qvMtAj":[{"type":0,"value":"Temperature (°C)"}],"qwen7s":[{"type":0,"value":"IR Pacific"}],"qxhsXy":[{"type":0,"value":"Terrain and Travel Advice"}],"qxumc0":[{"type":0,"value":"Trip planner"}],"r5IMiF":[{"type":0,"value":"Problems"}],"r7S3V1":[{"type":0,"value":"Visit "},{"type":1,"value":"fullName"},{"type":0,"value":" on "},{"type":1,"value":"service"}],"rJcJ53":[{"type":0,"value":"Day 1"}],"rKirbN":[{"type":0,"value":"Relative humidity (%) every hour from "},{"type":1,"value":"min"},{"type":0,"value":" to "},{"type":1,"value":"max"},{"type":0,"value":"."}],"rYSMcj":[{"type":0,"value":"Location"}],"rZiCe8":[{"type":0,"value":"Precipitation"}],"rbrahO":[{"type":0,"value":"Close"}],"rt8N8F":[{"type":0,"value":"Latest news"}],"s0Gj69":[{"type":0,"value":"Find a course"}],"s6yaAo":[{"type":0,"value":"We suggest you "},{"children":[{"type":0,"value":"update your browser"}],"type":8,"value":"browser"},{"type":0,"value":" and make sure that WebGL is "},{"children":[{"type":0,"value":"enabled"}],"type":8,"value":"webGL"},{"type":0,"value":"."}],"s9Ojlo":[{"type":0,"value":"5 - Extreme"}],"sCTnlT":[{"type":0,"value":"Current Conditions"}],"sCu44f":[],"sHDYEY":[{"type":0,"value":"About"}],"sQZfhJ":[{"type":0,"value":"You can get more information for "},{"type":1,"value":"name"},{"type":0,"value":" region on their website"}],"sRpc3I":[{"type":0,"value":"Updated at approximately "},{"type":1,"value":"updates"},{"type":0,"value":" every day."}],"sYssP3":[{"type":0,"value":"Sled"}],"scPADm":[{"type":0,"value":"Mountain Weather Forecast"}],"sgc79g":[{"type":0,"value":"Surface R"}],"special-public-avalanche-warning":[{"type":0,"value":"Special Public Avalanche Warning"}],"sstcBc":[{"type":0,"value":"Loading "},{"type":1,"value":"pluralized"},{"type":0,"value":"..."}],"sueUsu":[{"type":0,"value":"Relative Humidity (%)"}],"t+/o8z":[{"type":0,"value":"Start Here"}],"tBoaxE":[{"type":0,"value":"Dangerous avalanche conditions. Careful snowpack evaluation, cautious route-finding and conservative decision-making essential."}],"tK835M":[{"type":0,"value":"A problem happened while loading Incidents on the map."}],"tbsKby":[{"type":0,"value":"Outlook"}],"tf/0E1":[{"type":0,"value":"Phone"}],"tfGE48":[{"type":0,"value":"ICAR Glossary"}],"tiwIFt":[{"type":0,"value":"Air Temperature Average (°C)"}],"tkjvUf":[{"type":0,"value":"Mountain Information Network"}],"toZ0lO":[{"type":0,"value":"Avalanche Advisories"}],"training":[{"type":0,"value":"Training"}],"u4Hv7v":[{"type":0,"value":"Document "},{"type":1,"value":"title"},{"type":0,"value":" not found."}],"uM+u3j":[{"type":0,"value":"Not recommended"}],"uPQdpF":[{"type":0,"value":"Upcoming events"}],"uZFJU5":[{"type":0,"value":"Nothing found."}],"uZNjbN":[{"type":0,"value":"Avalanche Advisory Archive"}],"uaPrKi":[{"type":0,"value":"Created by"}],"uh7dXb":[{"type":0,"value":"Weather Glossary"}],"unv0Z7":[{"type":0,"value":"Contact"}],"upcoming-events":[{"type":0,"value":"Upcoming events"}],"vD3KLj":[{"type":0,"value":"Youth Education"}],"vP+E8G":[{"type":0,"value":"Managing Avalanche Terrain"}],"vYSLmy":[{"type":0,"value":"Challenging"}],"vcE2BE":[{"type":0,"value":"Slab avalanches in the last 48 hours"}],"vequEq":[{"type":0,"value":"Give "},{"type":1,"value":"fullName"},{"type":0,"value":" a call"}],"vf46CG":[{"type":0,"value":"Location"}],"vge4TT":[{"type":0,"value":"Loading definitions..."}],"vh+/Mn":[{"type":0,"value":"Training"}],"vhjtbT":[{"type":0,"value":"This is an archived avalanche bulletin."}],"vj8cZ/":[{"type":0,"value":"Charts"}],"vr8LVS":[{"type":0,"value":"An error happened while loading this page."}],"w2Nb8W":[{"type":0,"value":"Good job! You can try to find other routes."}],"wCgTu5":[{"type":0,"value":"Comments"}],"wF1p7K":[{"type":0,"value":"Uh oh! You never thought that would happen..."}],"wF4e0m":[],"wHV6rf":[{"type":0,"value":"New (cm)"}],"wJHFjD":[{"type":0,"value":"Aspect"}],"wKOpEQ":[],"wKQ3vV":[{"type":0,"value":"Submit a Mountain Information Report"}],"wNCO0M":[{"type":0,"value":"No weather forecast available yet for "},{"type":1,"value":"date"}],"wR6Gt2":[{"type":0,"value":"RSS Feed"}],"wRewEU":[{"type":0,"value":"Search"}],"wUPRFU":[{"type":0,"value":"Move to the first image"}],"wYBiNj":[{"type":0,"value":"New snow: "},{"type":1,"value":"amount"}],"weather-stations":[{"type":0,"value":"Weather stations"}],"wiGfb7":[{"type":0,"value":"Find another route"}],"wp6n1n":[],"wpexYN":[{"type":0,"value":"In the meantime, do not hesitate to email us at "},{"children":[],"type":8,"value":"mailto"},{"type":0,"value":" if you need help for these."}],"wrfULV":[{"offset":0,"options":{"=0":{"value":[{"type":0,"value":"No report"}]},"one":{"value":[{"type":0,"value":"One report"}]},"other":{"value":[{"type":0,"value":"Total of "},{"type":7},{"type":0,"value":" reports"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" found."}],"wv2of/":[{"type":0,"value":"Upcoming events"}],"wyIZp9":[{"type":0,"value":"Start with"}],"wzEVz0":[{"type":0,"value":"Until further notice"}],"x1UmLT":[{"type":0,"value":"Hot Zone"}],"x4Ch6V":[{"type":0,"value":"Aspect"}],"xBqzzk":[{"type":0,"value":"Cross-loaded slopes"}],"xOPjK4":[{"type":0,"value":"Blog"}],"xUDVUH":[{"type":0,"value":"Terrain to Watch"}],"xVvJB7":[{"type":0,"value":"See answers"}],"xX1hzi":[{"type":0,"value":"Loading incidents..."}],"xXgvZL":[{"type":0,"value":"Forecast regions list view"}],"xaJS8r":[{"type":0,"value":"Signs of instability"}],"xeCA+8":[{"type":0,"value":"Share on "},{"type":1,"value":"provider"}],"xeuLwX":[{"type":0,"value":"Teaching Avalanche Skills Training"}],"xiGg+I":[{"type":0,"value":"An error happened while getting document "},{"type":1,"value":"title"},{"type":0,"value":"."}],"xnLcaL":[{"type":0,"value":"Slab width"}],"xnl8OC":[{"type":0,"value":"Chart legend"}],"xpPoqQ":[{"type":0,"value":"Forecast Archive"}],"y6C4VC":[{"type":0,"value":"Move to the last image"}],"yD1Xpo":[{"type":0,"value":"Day"}],"yFX4u5":[{"type":0,"value":"Forecast Archive"}],"yFzXru":[{"type":0,"value":"©"},{"type":1,"value":"year"},{"type":0,"value":" Avalanche Canada, All Rights Reserved"}],"yHhuHl":[{"type":0,"value":"Live Chic-Chocs conditions"}],"yIBCSS":[{"type":0,"value":"Complex"}],"yM2ene":[{"type":0,"value":"Temperatures"}],"yS8hft":[{"type":0,"value":"Wind Speed Gust (km/h)"}],"yWrori":[{"offset":0,"options":{"=0":{"value":[{"type":0,"value":"No report"}]},"one":{"value":[{"type":0,"value":"One report"}]},"other":{"value":[{"type":0,"value":"Total of "},{"type":7},{"type":0,"value":" reports"}]}},"pluralType":"cardinal","type":6,"value":"count"},{"type":0,"value":" found from "},{"type":1,"value":"from"},{"type":0,"value":" (start of the day) to "},{"type":1,"value":"to"},{"type":0,"value":" (end of the day)."}],"yZkzOl":[{"type":0,"value":"You can "},{"children":[{"type":0,"value":"clear your search criteria"}],"type":8,"value":"link"},{"type":0,"value":" to find more reports."}],"yb+Gbh":[{"type":0,"value":"Creating the loop..."}],"yb8Oqb":[{"type":0,"value":"Date Issued"}],"ysUAAU":[{"type":0,"value":"Extra caution"}],"z9fPF4":[{"type":0,"value":"You can also "},{"children":[{"type":0,"value":"reset your criteria"}],"type":8,"value":"link"},{"type":0,"value":" to see them all."}],"zBnK8W":[{"type":0,"value":"Back to"}],"zCe6Ex":[{"type":0,"value":"EPSgrams (N. American Ensemble)"}],"zHorBS":[{"type":0,"value":"For backcountry rescue call "},{"children":[{"type":0,"value":"911"}],"type":8,"value":"phone"},{"type":0,"value":" and tell them you are in the Chic-Chocs"}],"zJp3FB":[{"type":0,"value":"Significant warming"}],"zNaqzT":[{"type":0,"value":"Hour"}],"zSmg4V":[{"type":0,"value":"Upcoming events"}],"zaYxwd":[{"type":0,"value":"Incident"}],"zfrygz":[],"zpKok5":[{"type":0,"value":"Present Temp"}],"zv0eNH":[{"type":0,"value":"Location"}],"zvP02c":[{"type":0,"value":"Archives"}],"zwvGck":[{"type":0,"value":"Service awards"}]}')},,,,function(e,t,r){e.exports=r(323)},function(e,t,r){var n=r(324),a=Array.prototype;e.exports=function(e){var t=e.concat;return e===a||e instanceof Array&&t===a.concat?n:t}},function(e,t,r){r(204);var n=r(32);e.exports=n("Array").concat},function(e,t,r){var n=r(30),a=r(326),i=n["__core-js_shared__"]||a("__core-js_shared__",{});e.exports=i},function(e,t,r){var n=r(30),a=r(55);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){e.exports=r(209)},function(e,t,r){r(329);var n=r(32);e.exports=n("Array").indexOf},function(e,t,r){"use strict";var n=r(9),a=r(168).indexOf,i=r(112),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf");n({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){e.exports=r(331)},function(e,t,r){e.exports=r(210)},function(e,t,r){var n=r(59),a=r(172).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t,r){"use strict";var n=r(87),a={};a[r(26)("toStringTag")]="z",e.exports="[object z]"!==String(a)?function(){return"[object "+n(this)+"]"}:a.toString},function(e,t,r){var n=r(30),a=r(335),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(a.call(i))},function(e,t,r){var n=r(135);e.exports=n("native-function-to-string",Function.toString)},function(e,t,r){var n=r(167),a=r(337);e.exports=function(e,t){if(null==e)return{};var r,i,o={},s=a(e);for(i=0;i<s.length;i++)r=s[i],n(t).call(t,r)>=0||(o[r]=e[r]);return o}},function(e,t,r){e.exports=r(338)},function(e,t,r){e.exports=r(214)},function(e,t,r){var n=r(9),a=r(48),i=r(113);n({target:"Object",stat:!0,forced:r(28)((function(){i(1)}))},{keys:function(e){return i(a(e))}})},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(342);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){e.exports=r(344)},function(e,t,r){e.exports=r(215)},function(e,t,r){var n=r(9),a=r(216);n({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(e,t,r){e.exports=r(347)},function(e,t,r){var n=r(348),a=Array.prototype;e.exports=function(e){var t=e.map;return e===a||e instanceof Array&&t===a.map?n:t}},function(e,t,r){r(349);var n=r(32);e.exports=n("Array").map},function(e,t,r){"use strict";var n=r(9),a=r(88).map;n({target:"Array",proto:!0,forced:!r(137)("map")},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){e.exports=r(351)},function(e,t,r){r(175);var n=r(21);e.exports=n.URLSearchParams},function(e,t,r){var n=r(37);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){e.exports=r(223)},function(e,t,r){r(9)({target:"Array",stat:!0},{isArray:r(84)})},function(e,t,r){var n=r(91),a=r(225);e.exports=function(e,t){if(a(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],i=!0,o=!1,s=void 0;try{for(var l,u=n(e);!(i=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);i=!0);}catch(e){o=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return r}}},function(e,t,r){r(66),r(73),e.exports=r(179)},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){r(66),r(73),e.exports=r(359)},function(e,t,r){var n=r(87),a=r(26),i=r(89),o=a("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){e.exports=r(361)},function(e,t,r){r(362);var n=r(21);e.exports=n.Object.entries},function(e,t,r){var n=r(9),a=r(363).entries;n({target:"Object",stat:!0},{entries:function(e){return a(e)}})},function(e,t,r){var n=r(36),a=r(113),i=r(59),o=r(131).f,s=function(e){return function(t){for(var r,s=i(t),l=a(s),u=l.length,c=0,p=[];u>c;)r=l[c++],n&&!o.call(s,r)||p.push(e?[r,s[r]]:s[r]);return p}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,r){e.exports=r(365)},function(e,t,r){r(115),r(366);var n=r(21);e.exports=n.Object.fromEntries},function(e,t,r){var n=r(9),a=r(29),i=r(111);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,r){i(t,e,r)}),void 0,!0),t}})},function(e,t,r){e.exports=r(214)},function(e,t,r){e.exports=r(369)},function(e,t,r){var n=r(370),a=Array.prototype;e.exports=function(e){var t=e.filter;return e===a||e instanceof Array&&t===a.filter?n:t}},function(e,t,r){r(371);var n=r(32);e.exports=n("Array").filter},function(e,t,r){"use strict";var n=r(9),a=r(88).filter;n({target:"Array",proto:!0,forced:!r(137)("filter")},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){e.exports=r(229)},function(e,t,r){"use strict";var n=r(230),a=r(232);e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a,!0)},function(e,t,r){var n=r(28);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){e.exports=r(234)},function(e,t,r){var n=r(9),a=r(235);n({target:"Array",stat:!0,forced:!r(236)((function(e){Array.from(e)}))},{from:a})},function(e,t,r){e.exports=r(378)},function(e,t,r){var n=r(379),a=Array.prototype;e.exports=function(e){var t=e.fill;return e===a||e instanceof Array&&t===a.fill?n:t}},function(e,t,r){r(380);var n=r(32);e.exports=n("Array").fill},function(e,t,r){var n=r(9),a=r(381),i=r(116);n({target:"Array",proto:!0},{fill:a}),i("fill")},function(e,t,r){"use strict";var n=r(48),a=r(169),i=r(60);e.exports=function(e){for(var t=n(this),r=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:a(l,r);u>s;)t[s++]=e;return t}},function(e,t,r){"use strict";e.exports=r(383)},function(e,t,r){"use strict";
/** @license React v16.8.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case p:case h:case o:case l:case s:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case u:return e;default:return t}}case v:case y:case i:return t}}}function g(e){return m(e)===h}t.typeOf=m,t.AsyncMode=p,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=a,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=y,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===l||e===s||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return g(e)||m(e)===p},t.isConcurrentMode=g,t.isContextConsumer=function(e){return m(e)===c},t.isContextProvider=function(e){return m(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===o},t.isLazy=function(e){return m(e)===v},t.isMemo=function(e){return m(e)===y},t.isPortal=function(e){return m(e)===i},t.isProfiler=function(e){return m(e)===l},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===d}},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),o=new C(n||[]);return i._invoke=function(e,t,r){var n=c;return function(a,i){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw i;return A()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=E(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=u(e,t,r);if("normal"===l.type){if(n=r.done?f:p,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=f,r.method="throw",r.arg=l.arg)}}}(e,r,o),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c="suspendedStart",p="suspendedYield",h="executing",f="completed",d={};function y(){}function v(){}function m(){}var g={};g[i]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(I([])));x&&x!==r&&n.call(x,i)&&(g=x);var b=m.prototype=y.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function M(e){var t;this._invoke=function(r,a){function i(){return new Promise((function(t,i){!function t(r,a,i,o){var s=u(e[r],e,a);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(c).then((function(e){l.value=e,i(l)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}(r,a,t,i)}))}return t=t?t.then(i,i):i()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=u(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=b.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(M.prototype),M.prototype[o]=function(){return this},e.AsyncIterator=M,e.async=function(t,r,n,a){var i=new M(l(t,r,n,a));return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),b[s]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;T(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){e.exports=r(386)},function(e,t,r){e.exports=r(237),r(391),r(392),r(393),r(394)},function(e,t,r){"use strict";var n,a,i,o,s=r(9),l=r(27),u=r(30),c=r(49),p=r(238),h=r(86),f=r(178),d=r(64),y=r(233),v=r(37),m=r(31),g=r(117),_=r(83),x=r(29),b=r(236),w=r(118),M=r(239).set,E=r(388),S=r(240),T=r(389),C=r(119),I=r(143),A=r(65),k=r(206),L=r(26),D=r(208),P=L("species"),z="Promise",O=A.get,N=A.set,j=A.getterFor(z),R=p,F=u.TypeError,B=u.document,U=u.process,V=c("fetch"),q=C.f,W=q,G="process"==_(U),Y=!!(B&&B.createEvent&&u.dispatchEvent),Z=k(z,(function(){var e=R.resolve(1),t=function(){},r=(e.constructor={})[P]=function(e){e(t,t)};return!((G||"function"==typeof PromiseRejectionEvent)&&(!l||e.finally)&&e.then(t)instanceof r&&66!==D)})),H=Z||!b((function(e){R.all(e).catch((function(){}))})),Q=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;E((function(){for(var a=t.value,i=1==t.state,o=0;n.length>o;){var s,l,u,c=n[o++],p=i?c.ok:c.fail,h=c.resolve,f=c.reject,d=c.domain;try{p?(i||(2===t.rejection&&ee(e,t),t.rejection=1),!0===p?s=a:(d&&d.enter(),s=p(a),d&&(d.exit(),u=!0)),s===c.promise?f(F("Promise-chain cycle")):(l=Q(s))?l.call(s,h,f):h(s)):f(a)}catch(e){d&&!u&&d.exit(),f(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&J(e,t)}))}},K=function(e,t,r){var n,a;Y?((n=B.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},(a=u["on"+e])?a(n):"unhandledrejection"===e&&T("Unhandled promise rejection",r)},J=function(e,t){M.call(u,(function(){var r,n=t.value;if($(t)&&(r=I((function(){G?U.emit("unhandledRejection",n,e):K("unhandledrejection",e,n)})),t.rejection=G||$(t)?2:1,r.error))throw r.value}))},$=function(e){return 1!==e.rejection&&!e.parent},ee=function(e,t){M.call(u,(function(){G?U.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)}))},te=function(e,t,r,n){return function(a){e(t,r,a,n)}},re=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,X(e,t,!0))},ne=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw F("Promise can't be resolved itself");var a=Q(r);a?E((function(){var n={done:!1};try{a.call(r,te(ne,e,n,t),te(re,e,n,t))}catch(r){re(e,n,r,t)}})):(t.value=r,t.state=1,X(e,t,!1))}catch(r){re(e,{done:!1},r,t)}}};Z&&(R=function(e){g(this,R,z),m(e),n.call(this);var t=O(this);try{e(te(ne,this,t),te(re,this,t))}catch(e){re(this,t,e)}},(n=function(e){N(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(R.prototype,{then:function(e,t){var r=j(this),n=q(w(this,R));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=G?U.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&X(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n,t=O(e);this.promise=e,this.resolve=te(ne,e,t),this.reject=te(re,e,t)},C.f=q=function(e){return e===R||e===i?new a(e):W(e)},l||"function"!=typeof p||(o=p.prototype.then,h(p.prototype,"then",(function(e,t){var r=this;return new R((function(e,t){o.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return S(R,V.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:Z},{Promise:R}),d(R,z,!1,!0),y(z),i=c(z),s({target:z,stat:!0,forced:Z},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:z,stat:!0,forced:l||Z},{resolve:function(e){return S(l&&this===i?R:this,e)}}),s({target:z,stat:!0,forced:H},{all:function(e){var t=this,r=q(t),n=r.resolve,a=r.reject,i=I((function(){var r=m(t.resolve),i=[],o=0,s=1;x(e,(function(e){var l=o++,u=!1;i.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,i[l]=e,--s||n(i))}),a)})),--s||n(i)}));return i.error&&a(i.value),r.promise},race:function(e){var t=this,r=q(t),n=r.reject,a=I((function(){var a=m(t.resolve);x(e,(function(e){a.call(t,e).then(r.resolve,n)}))}));return a.error&&n(a.value),r.promise}})},function(e,t,r){var n,a,i,o,s,l,u,c,p=r(30),h=r(109).f,f=r(83),d=r(239).set,y=r(138),v=p.MutationObserver||p.WebKitMutationObserver,m=p.process,g=p.Promise,_="process"==f(m),x=h(p,"queueMicrotask"),b=x&&x.value;b||(n=function(){var e,t;for(_&&(e=m.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},_?o=function(){m.nextTick(n)}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(y)?(s=!0,l=document.createTextNode(""),new v(n).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):g&&g.resolve?(u=g.resolve(void 0),c=u.then,o=function(){c.call(u,n)}):o=function(){d.call(p,n)}),e.exports=b||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},function(e,t,r){var n=r(30);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(238),o=r(49),s=r(118),l=r(240),u=r(86);n({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=s(this,o("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),a||"function"!=typeof i||i.prototype.finally||u(i.prototype,"finally",o("Promise").prototype.finally)},function(e,t,r){"use strict";var n=r(9),a=r(36),i=r(140),o=r(177),s=r(85),l=r(47),u=r(82),c=r(29),p=r(55),h=r(22),f=r(65),d=f.set,y=f.getterFor("AggregateError"),v=function(e,t){var r=this;if(!(r instanceof v))return new v(e,t);o&&(r=o(new Error(t),i(r)));var n=[];return c(e,n.push,n),a?d(r,{errors:n,type:"AggregateError"}):r.errors=n,void 0!==t&&p(r,"message",String(t)),r};v.prototype=s(Error.prototype,{constructor:u(5,v),message:u(5,""),name:u(5,"AggregateError"),toString:u(5,(function(){var e=h(this).name;e=void 0===e?"AggregateError":String(e);var t=this.message;return e+": "+(t=void 0===t?"":String(t))}))}),a&&l.f(v.prototype,"errors",{get:function(){return y(this).errors},configurable:!0}),n({global:!0},{AggregateError:v})},function(e,t,r){r(241)},function(e,t,r){"use strict";var n=r(9),a=r(119),i=r(143);n({target:"Promise",stat:!0},{try:function(e){var t=a.f(this),r=i(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}})},function(e,t,r){"use strict";var n=r(9),a=r(31),i=r(49),o=r(119),s=r(143),l=r(29);n({target:"Promise",stat:!0},{any:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,c=s((function(){var r=a(t.resolve),o=[],s=0,c=1,p=!1;l(e,(function(e){var a=s++,l=!1;o.push(void 0),c++,r.call(t,e).then((function(e){l||p||(p=!0,n(e))}),(function(e){l||p||(l=!0,o[a]=e,--c||u(new(i("AggregateError"))(o,"No one promise resolved")))}))})),--c||u(new(i("AggregateError"))(o,"No one promise resolved"))}));return c.error&&u(c.value),r.promise}})},function(e,t,r){e.exports=r(242)},function(e,t,r){var n=r(9),a=r(36);n({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:r(47).f})},function(e,t,r){e.exports=r(398)},function(e,t,r){r(399);var n=r(21).Object,a=e.exports=function(e,t){return n.defineProperties(e,t)};n.defineProperties.sham&&(a.sham=!0)},function(e,t,r){var n=r(9),a=r(36);n({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:r(170)})},function(e,t,r){e.exports=r(401)},function(e,t,r){r(402);var n=r(21);e.exports=n.Object.getOwnPropertyDescriptors},function(e,t,r){var n=r(9),a=r(36),i=r(403),o=r(59),s=r(109),l=r(111);n({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),a=s.f,u=i(n),c={},p=0;u.length>p;)void 0!==(r=a(n,t=u[p++]))&&l(c,t,r);return c}})},function(e,t,r){var n=r(49),a=r(172),i=r(173),o=r(22);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){r(66);var n=r(405),a=r(87),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===i||e instanceof Array&&t===i.forEach||o.hasOwnProperty(a(e))?n:t}},function(e,t,r){e.exports=r(406)},function(e,t,r){r(407);var n=r(32);e.exports=n("Array").forEach},function(e,t,r){"use strict";var n=r(9),a=r(408);n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},function(e,t,r){"use strict";var n=r(88).forEach,a=r(112);e.exports=a("forEach")?function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,r){e.exports=r(410)},function(e,t,r){r(411);var n=r(21).Object,a=e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)};n.getOwnPropertyDescriptor.sham&&(a.sham=!0)},function(e,t,r){var n=r(9),a=r(28),i=r(59),o=r(109).f,s=r(36),l=a((function(){o(1)}));n({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},function(e,t,r){e.exports=r(210)},function(e,t,r){e.exports=r(242)},function(e,t,r){e.exports=r(415)},function(e,t,r){r(416),e.exports=9007199254740991},function(e,t,r){r(9)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){e.exports=r(418)},function(e,t,r){r(419),e.exports=-9007199254740991},function(e,t,r){r(9)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){r(421),e.exports=r(21).setTimeout},function(e,t,r){var n=r(9),a=r(30),i=r(138),o=[].slice,s=function(e){return function(t,r){var n=arguments.length>2,a=n?o.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,r)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:s(a.setTimeout),setInterval:s(a.setInterval)})},function(e,t,r){var n=r(245);e.exports=function(){return n.Date.now()}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(108))},function(e,t,r){var n=r(180),a=r(425),i=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return i;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?i:+e}},function(e,t,r){var n=r(426),a=r(429),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&n(e)==i}},function(e,t,r){var n=r(246),a=r(427),i=r(428),o="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:l&&l in Object(e)?a(e):i(e)}},function(e,t,r){var n=r(246),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var a=o.call(e);return n&&(t?e[s]=r:delete e[s]),a}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){e.exports=r(431)},function(e,t,r){var n=r(21),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,r){e.exports=r(433)},function(e,t,r){e.exports=r(434)},function(e,t,r){r(247),r(73),r(66);var n=r(174);e.exports=n.f("iterator")},function(e,t,r){e.exports=r(436)},function(e,t,r){e.exports=r(248),r(452),r(453),r(454),r(455),r(456)},function(e,t,r){r(33)("asyncIterator")},function(e,t){},function(e,t,r){r(33)("hasInstance")},function(e,t,r){r(33)("isConcatSpreadable")},function(e,t,r){r(33)("match")},function(e,t,r){r(33)("matchAll")},function(e,t,r){r(33)("replace")},function(e,t,r){r(33)("search")},function(e,t,r){r(33)("species")},function(e,t,r){r(33)("split")},function(e,t,r){r(33)("toPrimitive")},function(e,t,r){r(33)("toStringTag")},function(e,t,r){r(33)("unscopables")},function(e,t,r){r(64)(Math,"Math",!0)},function(e,t,r){var n=r(30);r(64)(n.JSON,"JSON",!0)},function(e,t,r){r(33)("asyncDispose")},function(e,t,r){r(33)("dispose")},function(e,t,r){r(33)("observable")},function(e,t,r){r(33)("patternMatch")},function(e,t,r){r(33)("replaceAll")},function(e,t,r){e.exports=r(458)},function(e,t,r){r(459),r(142),r(73),r(66);var n=r(21);e.exports=n.Set},function(e,t,r){"use strict";var n=r(230),a=r(232);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},function(e,t,r){e.exports=r(209)},function(e,t,r){var n=r(222);e.exports=function(e){if(n(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t,r){e.exports=r(463)},function(e,t,r){e.exports=r(234)},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,r){e.exports=r(223)},function(e,t,r){r(467);var n=r(261);e.exports=n.Object.assign},function(e,t,r){var n=r(468),a=r(486);n({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(e,t,r){var n=r(67),a=r(250).f,i=r(145),o=r(471),s=r(183),l=r(478),u=r(485);e.exports=function(e,t){var r,c,p,h,f,d=e.target,y=e.global,v=e.stat;if(r=y?n:v?n[d]||s(d,{}):(n[d]||{}).prototype)for(c in t){if(h=t[c],p=e.noTargetGet?(f=a(r,c))&&f.value:r[c],!u(y?c:d+(v?".":"#")+c,e.forced)&&void 0!==p){if(typeof h==typeof p)continue;l(h,p)}(e.sham||p&&p.sham)&&i(h,"sham",!0),o(r,c,h,e)}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(67),a=r(144),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(67),a=r(182),i=r(145),o=r(122),s=r(183),l=r(259),u=r(474),c=u.get,p=u.enforce,h=String(l).split("toString");a("inspectSource",(function(e){return l.call(e)})),(e.exports=function(e,t,r,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),p(r).source=h.join("string"==typeof t?t:"")),e!==n?(l?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=r:i(e,t,r)):u?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l.call(this)}))},function(e,t){e.exports=!1},function(e,t,r){var n=r(67),a=r(183),i=n["__core-js_shared__"]||a("__core-js_shared__",{});e.exports=i},function(e,t,r){var n,a,i,o=r(475),s=r(67),l=r(144),u=r(145),c=r(122),p=r(476),h=r(260),f=s.WeakMap;if(o){var d=new f,y=d.get,v=d.has,m=d.set;n=function(e,t){return m.call(d,e,t),t},a=function(e){return y.call(d,e)||{}},i=function(e){return v.call(d,e)}}else{var g=p("state");h[g]=!0,n=function(e,t){return u(e,g,t),t},a=function(e){return c(e,g)?e[g]:{}},i=function(e){return c(e,g)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var n=r(67),a=r(259),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(a.call(i))},function(e,t,r){var n=r(182),a=r(477),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(122),a=r(479),i=r(250),o=r(257);e.exports=function(e,t){for(var r=a(t),s=o.f,l=i.f,u=0;u<r.length;u++){var c=r[u];n(e,c)||s(e,c,l(t,c))}}},function(e,t,r){var n=r(480),a=r(481),i=r(265),o=r(258);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(261),a=r(67),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t,r){var n=r(262),a=r(264).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(181),a=r(483),i=r(484),o=function(e){return function(t,r,o){var s,l=n(t),u=a(l.length),c=i(o,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,r){var n=r(263),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(263),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},function(e,t,r){var n=r(121),a=/#|\.prototype\./,i=function(e,t){var r=s[o(e)];return r==u||r!=l&&("function"==typeof t?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,t,r){"use strict";var n=r(120),a=r(121),i=r(487),o=r(265),s=r(251),l=r(488),u=r(253),c=Object.assign;e.exports=!c||a((function(){var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||"abcdefghijklmnopqrst"!=i(c({},t)).join("")}))?function(e,t){for(var r=l(e),a=arguments.length,c=1,p=o.f,h=s.f;a>c;)for(var f,d=u(arguments[c++]),y=p?i(d).concat(p(d)):i(d),v=y.length,m=0;v>m;)f=y[m++],n&&!h.call(d,f)||(r[f]=d[f]);return r}:c},function(e,t,r){var n=r(262),a=r(264);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(254);e.exports=function(e){return Object(n(e))}},function(e,t,r){e.exports=r(215)},function(e,t){e.exports=function(e){var t=new Date(e.getTime()),r=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*r+t.getTime()%6e4}},function(e,t,r){e.exports=r(492)},function(e,t,r){var n=r(493),a=Array.prototype;e.exports=function(e){var t=e.slice;return e===a||e instanceof Array&&t===a.slice?n:t}},function(e,t,r){r(494);var n=r(32);e.exports=n("Array").slice},function(e,t,r){"use strict";var n=r(9),a=r(37),i=r(84),o=r(169),s=r(60),l=r(59),u=r(111),c=r(137),p=r(26)("species"),h=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!c("slice")},{slice:function(e,t){var r,n,c,d=l(this),y=s(d.length),v=o(e,y),m=o(void 0===t?y:t,y);if(i(d)&&("function"!=typeof(r=d.constructor)||r!==Array&&!i(r.prototype)?a(r)&&null===(r=r[p])&&(r=void 0):r=void 0,r===Array||void 0===r))return h.call(d,v,m);for(n=new(void 0===r?Array:r)(f(m-v,0)),c=0;v<m;v++,c++)v in d&&u(n,c,d[v]);return n.length=c,n}})},function(e,t,r){e.exports=r(496)},function(e,t,r){var n=r(497),a=Array.prototype;e.exports=function(e){var t=e.reduce;return e===a||e instanceof Array&&t===a.reduce?n:t}},function(e,t,r){r(498);var n=r(32);e.exports=n("Array").reduce},function(e,t,r){"use strict";var n=r(9),a=r(499).left;n({target:"Array",proto:!0,forced:r(112)("reduce")},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(31),a=r(48),i=r(132),o=r(60),s=function(e){return function(t,r,s,l){n(r);var u=a(t),c=i(u),p=o(u.length),h=e?p-1:0,f=e?-1:1;if(s<2)for(;;){if(h in c){l=c[h],h+=f;break}if(h+=f,e?h<0:p<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=f)h in c&&(l=r(l,c[h],h,u));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,r){var n=r(18),a=r(501),i=r(267);e.exports=function(e){var t=n(e);return i(t,a(t))+1}},function(e,t,r){var n=r(18);e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}},function(e,t,r){var n=r(18);e.exports=function(e){var t=n(e);return t.setHours(0,0,0,0),t}},function(e,t,r){var n=r(18),a=r(184),i=r(505),o=6048e5;e.exports=function(e){var t=n(e),r=a(t).getTime()-i(t).getTime();return Math.round(r/o)+1}},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=t&&Number(t.weekStartsOn)||0,a=n(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}},function(e,t,r){var n=r(268),a=r(184);e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),a(r)}},function(e,t,r){var n=r(266);e.exports=function(e){if(n(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,r,n){var a;return n=n||{},a="string"==typeof e[t]?e[t]:1===r?e[t].one:e[t].other.replace("{{count}}",r),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a}}}},function(e,t,r){var n=r(509);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["AM","PM"],s=["am","pm"],l=["a.m.","p.m."],u={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return a[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?o[1]:o[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){u[e+"o"]=function(t,r){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(r[e](t))}})),{formatters:u,formattingTokensRegExp:n(u)}}},function(e,t){var r=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var a=r.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+a.join("|")+"|.)","g")}},function(e,t,r){e.exports=r(237)},function(e,t,r){e.exports=r(512)},function(e,t,r){e.exports=r(513)},function(e,t,r){r(514);var n=r(21);e.exports=n.Object.getPrototypeOf},function(e,t,r){var n=r(9),a=r(28),i=r(48),o=r(140),s=r(219);n({target:"Object",stat:!0,forced:a((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,r){e.exports=r(516)},function(e,t,r){r(517);var n=r(21);e.exports=n.Object.setPrototypeOf},function(e,t,r){r(9)({target:"Object",stat:!0},{setPrototypeOf:r(177)})},function(e,t,r){e.exports=r(519)},function(e,t,r){r(520);var n=r(21).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){r(9)({target:"Object",stat:!0,sham:!r(36)},{create:r(85)})},function(e,t,r){e.exports=r(522)},function(e,t,r){e.exports=r(229),r(523),r(525),r(527),r(529),r(530),r(531),r(532),r(533),r(534),r(536),r(537),r(538),r(539),r(540),r(541),r(542),r(543),r(544),r(545)},function(e,t,r){r(9)({target:"Map",stat:!0},{from:r(524)})},function(e,t,r){"use strict";var n=r(31),a=r(38),i=r(29);e.exports=function(e){var t,r,o,s,l=arguments.length,u=l>1?arguments[1]:void 0;return n(this),(t=void 0!==u)&&n(u),null==e?new this:(r=[],t?(o=0,s=a(u,l>2?arguments[2]:void 0,2),i(e,(function(e){r.push(s(e,o++))}))):i(e,r.push,r),new this(r))}},function(e,t,r){r(9)({target:"Map",stat:!0},{of:r(526)})},function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(528);n({target:"Map",proto:!0,real:!0,forced:a},{deleteAll:function(){return i.apply(this,arguments)}})},function(e,t,r){"use strict";var n=r(22),a=r(31);e.exports=function(){for(var e,t=n(this),r=a(t.delete),i=!0,o=0,s=arguments.length;o<s;o++)e=r.call(t,arguments[o]),i=i&&e;return!!i}},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(38),s=r(61),l=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{every:function(e){var t=i(this),r=s(t),n=o(e,arguments.length>1?arguments[1]:void 0,3);return!l(r,(function(e,r){if(!n(r,e,t))return l.stop()}),void 0,!0,!0).stopped}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(49),o=r(22),s=r(31),l=r(38),u=r(118),c=r(61),p=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{filter:function(e){var t=o(this),r=c(t),n=l(e,arguments.length>1?arguments[1]:void 0,3),a=new(u(t,i("Map"))),h=s(a.set);return p(r,(function(e,r){n(r,e,t)&&h.call(a,e,r)}),void 0,!0,!0),a}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(38),s=r(61),l=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{find:function(e){var t=i(this),r=s(t),n=o(e,arguments.length>1?arguments[1]:void 0,3);return l(r,(function(e,r){if(n(r,e,t))return l.stop(r)}),void 0,!0,!0).result}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(38),s=r(61),l=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{findKey:function(e){var t=i(this),r=s(t),n=o(e,arguments.length>1?arguments[1]:void 0,3);return l(r,(function(e,r){if(n(r,e,t))return l.stop(e)}),void 0,!0,!0).result}})},function(e,t,r){"use strict";var n=r(9),a=r(29),i=r(31);n({target:"Map",stat:!0},{groupBy:function(e,t){var r=new this;i(t);var n=i(r.has),o=i(r.get),s=i(r.set);return a(e,(function(e){var a=t(e);n.call(r,a)?o.call(r,a).push(e):s.call(r,a,[e])})),r}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(61),s=r(535),l=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{includes:function(e){return l(o(i(this)),(function(t,r){if(s(r,e))return l.stop()}),void 0,!0,!0).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(9),a=r(29),i=r(31);n({target:"Map",stat:!0},{keyBy:function(e,t){var r=new this;i(t);var n=i(r.set);return a(e,(function(e){n.call(r,t(e),e)})),r}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(61),s=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{keyOf:function(e){return s(o(i(this)),(function(t,r){if(r===e)return s.stop(t)}),void 0,!0,!0).result}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(49),o=r(22),s=r(31),l=r(38),u=r(118),c=r(61),p=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{mapKeys:function(e){var t=o(this),r=c(t),n=l(e,arguments.length>1?arguments[1]:void 0,3),a=new(u(t,i("Map"))),h=s(a.set);return p(r,(function(e,r){h.call(a,n(r,e,t),r)}),void 0,!0,!0),a}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(49),o=r(22),s=r(31),l=r(38),u=r(118),c=r(61),p=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{mapValues:function(e){var t=o(this),r=c(t),n=l(e,arguments.length>1?arguments[1]:void 0,3),a=new(u(t,i("Map"))),h=s(a.set);return p(r,(function(e,r){h.call(a,e,n(r,e,t))}),void 0,!0,!0),a}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(31),s=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{merge:function(e){for(var t=i(this),r=o(t.set),n=0;n<arguments.length;)s(arguments[n++],r,t,!0);return t}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(31),s=r(61),l=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{reduce:function(e){var t=i(this),r=s(t),n=arguments.length<2,a=n?void 0:arguments[1];if(o(e),l(r,(function(r,i){n?(n=!1,a=i):a=e(a,i,r,t)}),void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return a}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(38),s=r(61),l=r(29);n({target:"Map",proto:!0,real:!0,forced:a},{some:function(e){var t=i(this),r=s(t),n=o(e,arguments.length>1?arguments[1]:void 0,3);return l(r,(function(e,r){if(n(r,e,t))return l.stop()}),void 0,!0,!0).stopped}})},function(e,t,r){"use strict";var n=r(9),a=r(27),i=r(22),o=r(31);n({target:"Map",proto:!0,real:!0,forced:a},{update:function(e,t){var r=i(this),n=arguments.length;o(t);var a=r.has(e);if(!a&&n<3)throw TypeError("Updating absent value");var s=a?r.get(e):o(n>2?arguments[2]:void 0)(e,r);return r.set(e,t(s,e,r)),r}})},function(e,t,r){"use strict";r(9)({target:"Map",proto:!0,real:!0,forced:r(27)},{updateOrInsert:r(272)})},function(e,t,r){"use strict";r(9)({target:"Map",proto:!0,real:!0,forced:r(27)},{upsert:r(272)})},function(e,t,r){var n=r(167);e.exports=function(e){var t;return-1!==n(t=Function.toString.call(e)).call(t,"[native code]")}},function(e,t,r){var n=r(548),a=r(552),i=r(185);function o(t,r,s){return!function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(a(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=function(e,t,r){var a=[null];a.push.apply(a,t);var o=new(n(Function).apply(e,a));return r&&i(o,r.prototype),o}:e.exports=o=a,o.apply(null,arguments)}e.exports=o},function(e,t,r){e.exports=r(549)},function(e,t,r){e.exports=r(273)},function(e,t,r){r(551);var n=r(32);e.exports=n("Function").bind},function(e,t,r){r(9)({target:"Function",proto:!0},{bind:r(274)})},function(e,t,r){e.exports=r(553)},function(e,t,r){e.exports=r(554)},function(e,t,r){r(555);var n=r(21);e.exports=n.Reflect.construct},function(e,t,r){var n=r(9),a=r(49),i=r(31),o=r(22),s=r(37),l=r(85),u=r(274),c=r(28),p=a("Reflect","construct"),h=c((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),f=!c((function(){p((function(){}))})),d=h||f;n({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(e,t){i(e),o(t);var r=arguments.length<3?e:i(arguments[2]);if(f&&!h)return p(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var a=r.prototype,c=l(s(a)?a:Object.prototype),d=Function.apply.call(e,c,t);return s(d)?d:c}})},function(e,t,r){e.exports=r(248)},function(e,t,r){e.exports=r(558)},function(e,t,r){var n=r(559),a=Array.prototype;e.exports=function(e){var t=e.flat;return e===a||e instanceof Array&&t===a.flat?n:t}},function(e,t,r){r(560),r(562);var n=r(32);e.exports=n("Array").flat},function(e,t,r){"use strict";var n=r(9),a=r(561),i=r(48),o=r(60),s=r(134),l=r(166);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=o(t.length),n=l(t,0);return n.length=a(n,t,t,r,0,void 0===e?1:s(e)),n}})},function(e,t,r){"use strict";var n=r(84),a=r(60),i=r(38),o=function(e,t,r,s,l,u,c,p){for(var h,f=l,d=0,y=!!c&&i(c,p,3);d<s;){if(d in r){if(h=y?y(r[d],d,t):r[d],u>0&&n(h))f=o(e,t,h,a(h.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=h}f++}d++}return f};e.exports=o},function(e,t,r){r(116)("flat")},function(e,t,r){e.exports=r(564)},function(e,t,r){r(565);var n=r(21);e.exports=n.Date.now},function(e,t,r){r(9)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,r){e.exports=r(567)},function(e,t,r){var n=r(568),a=Array.prototype;e.exports=function(e){var t=e.find;return e===a||e instanceof Array&&t===a.find?n:t}},function(e,t,r){r(569);var n=r(32);e.exports=n("Array").find},function(e,t,r){"use strict";var n=r(9),a=r(88).find,i=r(116),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,r){r(66);var n=r(571),a=r(87),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===i||e instanceof Array&&t===i.keys||o.hasOwnProperty(a(e))?n:t}},function(e,t,r){e.exports=r(572)},function(e,t,r){r(115);var n=r(32);e.exports=n("Array").keys},function(e,t,r){e.exports=r(574)},function(e,t,r){var n=r(575),a=Array.prototype;e.exports=function(e){var t=e.sort;return e===a||e instanceof Array&&t===a.sort?n:t}},function(e,t,r){r(576);var n=r(32);e.exports=n("Array").sort},function(e,t,r){"use strict";var n=r(9),a=r(31),i=r(48),o=r(28),s=r(112),l=[].sort,u=[1,2,3],c=o((function(){u.sort(void 0)})),p=o((function(){u.sort(null)})),h=s("sort");n({target:"Array",proto:!0,forced:c||!p||h},{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),a(e))}})},function(e,t,r){e.exports=r(578)},function(e,t,r){var n=r(579),a=Array.prototype;e.exports=function(e){var t=e.reverse;return e===a||e instanceof Array&&t===a.reverse?n:t}},function(e,t,r){r(580);var n=r(32);e.exports=n("Array").reverse},function(e,t,r){"use strict";var n=r(9),a=r(84),i=[].reverse,o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i.call(this)}})},function(e,t,r){e.exports=r(582)},function(e,t,r){r(583),r(585),r(175);var n=r(21);e.exports=n.URL},function(e,t,r){"use strict";r(73);var n,a=r(9),i=r(36),o=r(220),s=r(30),l=r(170),u=r(86),c=r(117),p=r(46),h=r(216),f=r(235),d=r(224).codeAt,y=r(584),v=r(64),m=r(175),g=r(65),_=s.URL,x=m.URLSearchParams,b=m.getState,w=g.set,M=g.getterFor("URL"),E=Math.floor,S=Math.pow,T=/[A-Za-z]/,C=/[\d+\-.A-Za-z]/,I=/\d/,A=/^(0x|0X)/,k=/^[0-7]+$/,L=/^\d+$/,D=/^[\dA-Fa-f]+$/,P=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,z=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,O=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,j=function(e,t){var r,n,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=F(t.slice(1,-1))))return"Invalid host";e.host=r}else if(Z(e)){if(t=y(t),P.test(t))return"Invalid host";if(null===(r=R(t)))return"Invalid host";e.host=r}else{if(z.test(t))return"Invalid host";for(r="",n=f(t),a=0;a<n.length;a++)r+=G(n[a],U);e.host=r}},R=function(e){var t,r,n,a,i,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(a=l[n]))return e;if(i=10,a.length>1&&"0"==a.charAt(0)&&(i=A.test(a)?16:8,a=a.slice(8==i?1:2)),""===a)o=0;else{if(!(10==i?L:8==i?k:D).test(a))return e;o=parseInt(a,i)}r.push(o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=S(256,5-t))return null}else if(o>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*S(256,3-n);return s},F=function(e){var t,r,n,a,i,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,p=0,h=function(){return e.charAt(p)};if(":"==h()){if(":"!=e.charAt(1))return;p+=2,c=++u}for(;h();){if(8==u)return;if(":"!=h()){for(t=r=0;r<4&&D.test(h());)t=16*t+parseInt(h(),16),p++,r++;if("."==h()){if(0==r)return;if(p-=r,u>6)return;for(n=0;h();){if(a=null,n>0){if(!("."==h()&&n<4))return;p++}if(!I.test(h()))return;for(;I.test(h());){if(i=parseInt(h(),10),null===a)a=i;else{if(0==a)return;a=10*a+i}if(a>255)return;p++}l[u]=256*l[u]+a,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==h()){if(p++,!h())return}else if(h())return;l[u++]=t}else{if(null!==c)return;p++,c=++u}}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!=u)return;return l},B=function(e){var t,r,n,a;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,a=0,i=0;i<8;i++)0!==e[i]?(a>r&&(t=n,r=a),n=null,a=0):(null===n&&(n=i),++a);return a>r&&(t=n,r=a),t}(e),r=0;r<8;r++)a&&0===e[r]||(a&&(a=!1),n===r?(t+=r?":":"::",a=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},U={},V=h({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),q=h({},V,{"#":1,"?":1,"{":1,"}":1}),W=h({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var r=d(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(e){return p(Y,e.scheme)},H=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},X=function(e,t){var r;return 2==e.length&&T.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},K=function(e){var t;return e.length>1&&X(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&X(t[0],!0)||t.pop()},$=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ne={},ae={},ie={},oe={},se={},le={},ue={},ce={},pe={},he={},fe={},de={},ye={},ve={},me={},ge={},_e={},xe={},be=function(e,t,r,a){var i,o,s,l,u,c=r||ee,h=0,d="",y=!1,v=!1,m=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(O,"")),t=t.replace(N,""),i=f(t);h<=i.length;){switch(o=i[h],c){case ee:if(!o||!T.test(o)){if(r)return"Invalid scheme";c=re;continue}d+=o.toLowerCase(),c=te;break;case te:if(o&&(C.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(r)return"Invalid scheme";d="",c=re,h=0;continue}if(r&&(Z(e)!=p(Y,d)||"file"==d&&(H(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(Z(e)&&Y[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=fe:Z(e)&&a&&a.scheme==e.scheme?c=ne:Z(e)?c=se:"/"==i[h+1]?(c=ae,h++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ge)}break;case re:if(!a||a.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(a.cannotBeABaseURL&&"#"==o){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,c=xe;break}c="file"==a.scheme?fe:ie;continue;case ne:if("/"!=o||"/"!=i[h+1]){c=ie;continue}c=le,h++;break;case ae:if("/"==o){c=ue;break}c=me;continue;case ie:if(e.scheme=a.scheme,o==n)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==o||"\\"==o&&Z(e))c=oe;else if("?"==o)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",c=_e;else{if("#"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),c=me;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",c=xe}break;case oe:if(!Z(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,c=me;continue}c=ue}else c=le;break;case se:if(c=le,"/"!=o||"/"!=d.charAt(h+1))continue;h++;break;case le:if("/"!=o&&"\\"!=o){c=ue;continue}break;case ue:if("@"==o){y&&(d="%40"+d),y=!0,s=f(d);for(var g=0;g<s.length;g++){var _=s[g];if(":"!=_||m){var x=G(_,W);m?e.password+=x:e.username+=x}else m=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)){if(y&&""==d)return"Invalid authority";h-=f(d).length+1,d="",c=ce}else d+=o;break;case ce:case pe:if(r&&"file"==e.scheme){c=ye;continue}if(":"!=o||v){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)){if(Z(e)&&""==d)return"Invalid host";if(r&&""==d&&(H(e)||null!==e.port))return;if(l=j(e,d))return l;if(d="",c=ve,r)return;continue}"["==o?v=!0:"]"==o&&(v=!1),d+=o}else{if(""==d)return"Invalid host";if(l=j(e,d))return l;if(d="",c=he,r==pe)return}break;case he:if(!I.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&Z(e)||r){if(""!=d){var b=parseInt(d,10);if(b>65535)return"Invalid port";e.port=Z(e)&&b===Y[e.scheme]?null:b,d=""}if(r)return;c=ve;continue}return"Invalid port"}d+=o;break;case fe:if(e.scheme="file","/"==o||"\\"==o)c=de;else{if(!a||"file"!=a.scheme){c=me;continue}if(o==n)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==o)e.host=a.host,e.path=a.path.slice(),e.query="",c=_e;else{if("#"!=o){K(i.slice(h).join(""))||(e.host=a.host,e.path=a.path.slice(),J(e)),c=me;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",c=xe}}break;case de:if("/"==o||"\\"==o){c=ye;break}a&&"file"==a.scheme&&!K(i.slice(h).join(""))&&(X(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),c=me;continue;case ye:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&X(d))c=me;else if(""==d){if(e.host="",r)return;c=ve}else{if(l=j(e,d))return l;if("localhost"==e.host&&(e.host=""),r)return;d="",c=ve}continue}d+=o;break;case ve:if(Z(e)){if(c=me,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=n&&(c=me,"/"!=o))continue}else e.fragment="",c=xe;else e.query="",c=_e;break;case me:if(o==n||"/"==o||"\\"==o&&Z(e)||!r&&("?"==o||"#"==o)){if(".."===(u=(u=d).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(J(e),"/"==o||"\\"==o&&Z(e)||e.path.push("")):$(d)?"/"==o||"\\"==o&&Z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&X(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==n||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=_e):"#"==o&&(e.fragment="",c=xe)}else d+=G(o,q);break;case ge:"?"==o?(e.query="",c=_e):"#"==o?(e.fragment="",c=xe):o!=n&&(e.path[0]+=G(o,U));break;case _e:r||"#"!=o?o!=n&&("'"==o&&Z(e)?e.query+="%27":e.query+="#"==o?"%23":G(o,U)):(e.fragment="",c=xe);break;case xe:o!=n&&(e.fragment+=G(o,V))}h++}},we=function(e){var t,r,n=c(this,we,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),s=w(n,{type:"URL"});if(void 0!==a)if(a instanceof we)t=M(a);else if(r=be(t={},String(a)))throw TypeError(r);if(r=be(s,o,null,t))throw TypeError(r);var l=s.searchParams=new x,u=b(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},i||(n.href=Ee.call(n),n.origin=Se.call(n),n.protocol=Te.call(n),n.username=Ce.call(n),n.password=Ie.call(n),n.host=Ae.call(n),n.hostname=ke.call(n),n.port=Le.call(n),n.pathname=De.call(n),n.search=Pe.call(n),n.searchParams=ze.call(n),n.hash=Oe.call(n))},Me=we.prototype,Ee=function(){var e=M(this),t=e.scheme,r=e.username,n=e.password,a=e.host,i=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return null!==a?(u+="//",H(e)&&(u+=r+(n?":"+n:"")+"@"),u+=B(a),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Se=function(){var e=M(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Z(e)?t+"://"+B(e.host)+(null!==r?":"+r:""):"null"},Te=function(){return M(this).scheme+":"},Ce=function(){return M(this).username},Ie=function(){return M(this).password},Ae=function(){var e=M(this),t=e.host,r=e.port;return null===t?"":null===r?B(t):B(t)+":"+r},ke=function(){var e=M(this).host;return null===e?"":B(e)},Le=function(){var e=M(this).port;return null===e?"":String(e)},De=function(){var e=M(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Pe=function(){var e=M(this).query;return e?"?"+e:""},ze=function(){return M(this).searchParams},Oe=function(){var e=M(this).fragment;return e?"#"+e:""},Ne=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&l(Me,{href:Ne(Ee,(function(e){var t=M(this),r=String(e),n=be(t,r);if(n)throw TypeError(n);b(t.searchParams).updateSearchParams(t.query)})),origin:Ne(Se),protocol:Ne(Te,(function(e){var t=M(this);be(t,String(e)+":",ee)})),username:Ne(Ce,(function(e){var t=M(this),r=f(String(e));if(!Q(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=G(r[n],W)}})),password:Ne(Ie,(function(e){var t=M(this),r=f(String(e));if(!Q(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=G(r[n],W)}})),host:Ne(Ae,(function(e){var t=M(this);t.cannotBeABaseURL||be(t,String(e),ce)})),hostname:Ne(ke,(function(e){var t=M(this);t.cannotBeABaseURL||be(t,String(e),pe)})),port:Ne(Le,(function(e){var t=M(this);Q(t)||(""==(e=String(e))?t.port=null:be(t,e,he))})),pathname:Ne(De,(function(e){var t=M(this);t.cannotBeABaseURL||(t.path=[],be(t,e+"",ve))})),search:Ne(Pe,(function(e){var t=M(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",be(t,e,_e)),b(t.searchParams).updateSearchParams(t.query)})),searchParams:Ne(ze),hash:Ne(Oe,(function(e){var t=M(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",be(t,e,xe)):t.fragment=null}))}),u(Me,"toJSON",(function(){return Ee.call(this)}),{enumerable:!0}),u(Me,"toString",(function(){return Ee.call(this)}),{enumerable:!0}),_){var je=_.createObjectURL,Re=_.revokeObjectURL;je&&u(we,"createObjectURL",(function(e){return je.apply(_,arguments)})),Re&&u(we,"revokeObjectURL",(function(e){return Re.apply(_,arguments)}))}v(we,"URL"),a({global:!0,forced:!o,sham:!i},{URL:we})},function(e,t,r){"use strict";var n=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,r){var n=0;for(e=r?o(e/700):e>>1,e+=o(e/t);e>455;n+=36)e=o(e/35);return o(n+36*e/(e+38))},c=function(e){var t,r,n=[],a=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),r--)}else t.push(a)}return t}(e)).length,c=128,p=0,h=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(s(r));var f=n.length,d=f;for(f&&n.push("-");d<a;){var y=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=c&&r<y&&(y=r);var v=d+1;if(y-c>o((2147483647-p)/v))throw RangeError(i);for(p+=(y-c)*v,c=y,t=0;t<e.length;t++){if((r=e[t])<c&&++p>2147483647)throw RangeError(i);if(r==c){for(var m=p,g=36;;g+=36){var _=g<=h?1:g>=h+26?26:g-h;if(m<_)break;var x=m-_,b=36-_;n.push(s(l(_+x%b))),m=o(x/b)}n.push(s(l(m))),h=u(p,v,d==f),p=0,++d}}++p,++c}return n.join("")};e.exports=function(e){var t,r,i=[],o=e.toLowerCase().replace(a,".").split(".");for(t=0;t<o.length;t++)r=o[t],i.push(n.test(r)?"xn--"+c(r):r);return i.join(".")}},function(e,t){},function(e,t,r){"use strict";r.r(t),r.d(t,"DOWN",(function(){return f})),r.d(t,"LEFT",(function(){return c})),r.d(t,"RIGHT",(function(){return p})),r.d(t,"Swipeable",(function(){return M})),r.d(t,"UP",(function(){return h})),r.d(t,"useSwipeable",(function(){return w}));var n=r(0),a=r.n(n),i=r(6),o=r.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},u={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},c="Left",p="Right",h="Up",f="Down",d="touchstart",y="touchmove",v="touchend",m="mousemove",g="mouseup";function _(e,t){if(0===t)return e;var r=Math.PI/180*t;return[e[0]*Math.cos(r)+e[1]*Math.sin(r),e[1]*Math.cos(r)-e[0]*Math.sin(r)]}function x(e,t){var r=function(t){t.touches&&t.touches.length>1||e((function(e,r){r.trackMouse&&(document.addEventListener(m,n),document.addEventListener(g,o));var a=t.touches?t.touches[0]:t,i=_([a.clientX,a.clientY],r.rotationAngle);return s({},e,u,{eventData:{initial:[].concat(i)},xy:i,start:t.timeStamp||0})}))},n=function(t){e((function(e,r){if(!e.xy[0]||!e.xy[1]||t.touches&&t.touches.length>1)return e;var n=t.touches?t.touches[0]:t,a=_([n.clientX,n.clientY],r.rotationAngle),i=a[0],o=a[1],l=e.xy[0]-i,u=e.xy[1]-o,d=Math.abs(l),y=Math.abs(u),v=(t.timeStamp||0)-e.start,m=Math.sqrt(d*d+y*y)/(v||1);if(d<r.delta&&y<r.delta&&!e.swiping)return e;var g=function(e,t,r,n){return e>t?r>0?c:p:n>0?h:f}(d,y,l,u),x=s({},e.eventData,{event:t,absX:d,absY:y,deltaX:l,deltaY:u,velocity:m,dir:g});r.onSwiping&&r.onSwiping(x);var b=!1;return(r.onSwiping||r.onSwiped||r["onSwiped"+g])&&(b=!0),b&&r.preventDefaultTouchmoveEvent&&r.trackTouch&&t.cancelable&&t.preventDefault(),s({},e,{eventData:x,swiping:!0})}))},a=function(t){e((function(e,r){var n;return e.swiping&&(n=s({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(n),r["onSwiped"+n.dir]&&r["onSwiped"+n.dir](n)),s({},e,u,{eventData:n})}))},i=function(){document.removeEventListener(m,n),document.removeEventListener(g,o)},o=function(e){i(),a(e)},l=function(e){if(e&&e.addEventListener){var t=[[d,r],[y,n],[v,a]];return t.forEach((function(t){var r=t[0],n=t[1];return e.addEventListener(r,n)})),function(){return t.forEach((function(t){var r=t[0],n=t[1];return e.removeEventListener(r,n)}))}}},x={ref:function(t){null!==t&&e((function(e,r){if(e.el===t)return e;var n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=null),r.trackTouch&&t&&(n.cleanUpTouch=l(t)),s({},e,{el:t},n)}))}};return t.trackMouse&&(x.onMouseDown=r),[x,l]}function b(e,t,r){var n={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),n.cleanUpTouch=null):t.trackTouch&&!e.cleanUpTouch&&e.el&&(n.cleanUpTouch=r(e.el)),s({},e,n)}function w(e){var t=e.trackMouse,r=a.a.useRef(s({},u,{type:"hook"})),n=a.a.useRef();n.current=s({},l,e);var i=a.a.useMemo((function(){return x((function(e){return r.current=e(r.current,n.current)}),{trackMouse:t})}),[t]),o=i[0],c=i[1];return r.current=b(r.current,n.current,c),o}var M=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this)._set=function(e){r.transientState=e(r.transientState,r.props)},r.transientState=s({},u,{type:"class"}),r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.className,r=e.style,n=e.nodeName,i=void 0===n?"div":n,o=e.innerRef,l=e.children,u=e.trackMouse,c=x(this._set,{trackMouse:u}),p=c[0],h=c[1];this.transientState=b(this.transientState,this.props,h);var f=o?function(e){return o(e),p.ref(e)}:p.ref;return a.a.createElement(i,s({},p,{className:t,style:r,ref:f}),l)},n}(a.a.PureComponent);M.propTypes={onSwiped:o.a.func,onSwiping:o.a.func,onSwipedUp:o.a.func,onSwipedRight:o.a.func,onSwipedDown:o.a.func,onSwipedLeft:o.a.func,delta:o.a.number,preventDefaultTouchmoveEvent:o.a.bool,nodeName:o.a.string,trackMouse:o.a.bool,trackTouch:o.a.bool,innerRef:o.a.func,rotationAngle:o.a.number},M.defaultProps=l},function(e,t,r){"use strict";r.r(t),function(e){var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var a=n[r];e.call(t,a[1],a[0])}},t}())}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=2;var s=20,l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,a=0;function s(){r&&(r=!1,e()),n&&u()}function l(){i(s)}function u(){var e=Date.now();if(r){if(e-a<o)return;n=!0}else r=!0,n=!1,setTimeout(l,t);a=e}return u}(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;l.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=_(0,0,0,0);function d(e){return parseFloat(e)||0}function y(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+d(e["border-"+r+"-width"])}),0)}function v(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return f;var n=h(e).getComputedStyle(e),a=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var a=n[r],i=e["padding-"+a];t[a]=d(i)}return t}(n),i=a.left+a.right,o=a.top+a.bottom,s=d(n.width),l=d(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=y(n,"left","right")+i),Math.round(l+o)!==r&&(l-=y(n,"top","bottom")+o)),!function(e){return e===h(e).document.documentElement}(e)){var u=Math.round(s+i)-t,c=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return _(a.left,a.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return n?m(e)?function(e){var t=e.getBBox();return _(0,0,t.width,t.height)}(e):v(e):f}function _(e,t,r,n){return{x:e,y:t,width:r,height:n}}var x=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var r,n,a,i,o,s,l,u=(n=(r=t).x,a=r.y,i=r.width,o=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),p(l,{x:n,y:a,width:i,height:o,top:a,right:n+i,bottom:o+a,left:n}),l);p(this,{target:e,contentRect:u})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new x(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),M="undefined"!=typeof WeakMap?new WeakMap:new r,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=c.getInstance(),n=new w(t,r,this);M.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=M.get(this))[e].apply(t,arguments)}}));var S=void 0!==a.ResizeObserver?a.ResizeObserver:E;t.default=S}.call(this,r(108))},function(e,t,r){},function(e,t,r){},function(e,t,r){e.exports=r(591)},function(e,t,r){var n=r(592),a=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===a||e instanceof String&&t===a.trim?n:t}},function(e,t,r){r(593);var n=r(32);e.exports=n("String").trim},function(e,t,r){"use strict";var n=r(9),a=r(594).trim;n({target:"String",proto:!0,forced:r(595)("trim")},{trim:function(){return a(this)}})},function(e,t,r){var n=r(110),a="["+r(275)+"]",i=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,r){var n=r(28),a=r(275);e.exports=function(e){return n((function(){return!!a[e]()||"​᠎"!="​᠎"[e]()||a[e].name!==e}))}},function(e,t,r){r(66);var n=r(597),a=r(87),i=Array.prototype,o={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.entries;return e===i||e instanceof Array&&t===i.entries||o.hasOwnProperty(a(e))?n:t}},function(e,t,r){e.exports=r(598)},function(e,t,r){r(115);var n=r(32);e.exports=n("Array").entries},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HIDE_TIMEOUT=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.OverlayComponent=f,t.defaultFormat=d,t.defaultParse=y;var i=p(r(0)),o=p(r(6)),s=p(r(276)),l=r(90),u=r(149),c=r(123);function p(e){return e&&e.__esModule?e:{default:e}}var h=t.HIDE_TIMEOUT=100;function f(e){e.input,e.selectedDay,e.month;var t=e.children,r=e.classNames,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["input","selectedDay","month","children","classNames"]);return i.default.createElement("div",a({className:r.overlayWrapper},n),i.default.createElement("div",{className:r.overlay},t))}function d(e){return(0,l.isDate)(e)?e.getFullYear()+"-"+(""+(e.getMonth()+1))+"-"+(""+e.getDate()):""}function y(e){if("string"==typeof e){var t=e.split("-");if(3===t.length){var r=parseInt(t[0],10),n=parseInt(t[1],10)-1,a=parseInt(t[2],10);if(!(isNaN(r)||String(r).length>4||isNaN(n)||isNaN(a)||a<=0||a>31||n<0||n>=12))return new Date(r,n,a,12,0,0,0)}}}f.propTypes={input:o.default.any,selectedDay:o.default.any,month:o.default.instanceOf(Date),children:o.default.node,classNames:o.default.object};var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.input=null,r.daypicker=null,r.clickTimeout=null,r.hideTimeout=null,r.inputBlurTimeout=null,r.inputFocusTimeout=null,r.state=r.getInitialStateFromProps(e),r.state.showOverlay=e.showOverlay,r.hideAfterDayClick=r.hideAfterDayClick.bind(r),r.handleInputClick=r.handleInputClick.bind(r),r.handleInputFocus=r.handleInputFocus.bind(r),r.handleInputBlur=r.handleInputBlur.bind(r),r.handleInputChange=r.handleInputChange.bind(r),r.handleInputKeyDown=r.handleInputKeyDown.bind(r),r.handleInputKeyUp=r.handleInputKeyUp.bind(r),r.handleDayClick=r.handleDayClick.bind(r),r.handleMonthChange=r.handleMonthChange.bind(r),r.handleOverlayFocus=r.handleOverlayFocus.bind(r),r.handleOverlayBlur=r.handleOverlayBlur.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidUpdate",value:function(e){var t={},r=this.props,n=r.value,a=r.formatDate,i=r.format,o=r.dayPickerProps;n===e.value&&o.locale===e.dayPickerProps.locale&&i===e.format||((0,l.isDate)(n)?t.value=a(n,i,o.locale):t.value=n);var s=e.dayPickerProps.month;o.month&&o.month!==s&&!(0,l.isSameMonth)(o.month,s)&&(t.month=o.month),e.dayPickerProps.selectedDays!==o.selectedDays&&(t.selectedDays=o.selectedDays),Object.keys(t).length>0&&this.setState(t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clickTimeout),clearTimeout(this.hideTimeout),clearTimeout(this.inputFocusTimeout),clearTimeout(this.inputBlurTimeout),clearTimeout(this.overlayBlurTimeout)}},{key:"getInitialMonthFromProps",value:function(e){var t=e.dayPickerProps,r=e.format,n=void 0;return e.value&&(n=(0,l.isDate)(e.value)?e.value:e.parseDate(e.value,r,t.locale)),t.initialMonth||t.month||n||new Date}},{key:"getInitialStateFromProps",value:function(e){var t=e.dayPickerProps,r=e.formatDate,n=e.format,a=e.typedValue,i=e.value;return e.value&&(0,l.isDate)(e.value)&&(i=r(e.value,n,t.locale)),{value:i,typedValue:a,month:this.getInitialMonthFromProps(e),selectedDays:t.selectedDays}}},{key:"getInput",value:function(){return this.input}},{key:"getDayPicker",value:function(){return this.daypicker}},{key:"updateState",value:function(e,t,r){var n=this,i=this.props,o=i.dayPickerProps,s=i.onDayChange;this.setState({month:e,value:t,typedValue:""},(function(){if(r&&r(),s){var t=a({disabled:o.disabledDays,selected:o.selectedDays},o.modifiers),i=(0,u.getModifiersForDay)(e,t).reduce((function(e,t){return a({},e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,!0))}),{});s(e,i,n)}}))}},{key:"showDayPicker",value:function(){var e=this,t=this.props,r=t.parseDate,n=t.format,a=t.dayPickerProps,i=this.state,o=i.value;if(!i.showOverlay){var s=o?r(o,n,a.locale):this.getInitialMonthFromProps(this.props);this.setState((function(e){return{showOverlay:!0,month:s||e.month}}),(function(){e.props.onDayPickerShow&&e.props.onDayPickerShow()}))}}},{key:"hideDayPicker",value:function(){var e=this;!1!==this.state.showOverlay&&this.setState({showOverlay:!1},(function(){e.props.onDayPickerHide&&e.props.onDayPickerHide()}))}},{key:"hideAfterDayClick",value:function(){var e=this;this.props.hideOnDayClick&&(this.hideTimeout=setTimeout((function(){e.overlayHasFocus=!1,e.hideDayPicker()}),h))}},{key:"handleInputClick",value:function(e){this.showDayPicker(),this.props.inputProps.onClick&&(e.persist(),this.props.inputProps.onClick(e))}},{key:"handleInputFocus",value:function(e){var t=this;this.showDayPicker(),this.inputFocusTimeout=setTimeout((function(){t.overlayHasFocus=!1}),2),this.props.inputProps.onFocus&&(e.persist(),this.props.inputProps.onFocus(e))}},{key:"handleInputBlur",value:function(e){var t=this;this.inputBlurTimeout=setTimeout((function(){t.overlayHasFocus||t.hideDayPicker()}),1),this.props.inputProps.onBlur&&(e.persist(),this.props.inputProps.onBlur(e))}},{key:"handleOverlayFocus",value:function(e){e.preventDefault(),this.overlayHasFocus=!0,this.props.keepFocus&&this.input&&"function"==typeof this.input.focus&&this.input.focus()}},{key:"handleOverlayBlur",value:function(){var e=this;this.overlayBlurTimeout=setTimeout((function(){e.overlayHasFocus=!1}),3)}},{key:"handleInputChange",value:function(e){var t=this.props,r=t.dayPickerProps,n=t.format,a=t.inputProps,i=t.onDayChange,o=t.parseDate;a.onChange&&(e.persist(),a.onChange(e));var s=e.target.value;if(""===s.trim())return this.setState({value:s,typedValue:""}),void(i&&i(void 0,{},this));var l=o(s,n,r.locale);if(!l)return this.setState({value:s,typedValue:s}),void(i&&i(void 0,{},this));this.updateState(l,s)}},{key:"handleInputKeyDown",value:function(e){e.keyCode===c.TAB?this.hideDayPicker():this.showDayPicker(),this.props.inputProps.onKeyDown&&(e.persist(),this.props.inputProps.onKeyDown(e))}},{key:"handleInputKeyUp",value:function(e){e.keyCode===c.ESC?this.hideDayPicker():this.showDayPicker(),this.props.inputProps.onKeyUp&&(e.persist(),this.props.inputProps.onKeyUp(e))}},{key:"handleMonthChange",value:function(e){var t=this;this.setState({month:e},(function(){t.props.dayPickerProps&&t.props.dayPickerProps.onMonthChange&&t.props.dayPickerProps.onMonthChange(e)}))}},{key:"handleDayClick",value:function(e,t,r){var n=this,a=this.props,i=a.clickUnselectsDay,o=a.dayPickerProps,s=a.onDayChange,l=a.formatDate,u=a.format;if(o.onDayClick&&o.onDayClick(e,t,r),!(t.disabled||o&&o.classNames&&t[o.classNames.disabled])){if(t.selected&&i){var c=this.state.selectedDays;if(Array.isArray(c)){var p=(c=c.slice(0)).indexOf(e);c.splice(p,1)}else c&&(c=null);return this.setState({value:"",typedValue:"",selectedDays:c},this.hideAfterDayClick),void(s&&s(void 0,t,this))}var h=l(e,u,o.locale);this.setState({value:h,typedValue:void 0,month:e},(function(){s&&s(e,t,n),n.hideAfterDayClick()}))}}},{key:"renderOverlay",value:function(){var e=this,t=this.props,r=t.classNames,n=t.dayPickerProps,o=t.parseDate,l=t.formatDate,u=t.format,c=this.state,p=c.selectedDays,h=c.value,f=void 0;if(!p&&h){var d=o(h,u,n.locale);d&&(f=d)}else p&&(f=p);var y=void 0;n.todayButton&&(y=function(){return e.updateState(new Date,l(new Date,u,n.locale),e.hideAfterDayClick)});var v=this.props.overlayComponent;return i.default.createElement(v,{classNames:r,month:this.state.month,selectedDay:f,input:this.input,tabIndex:0,onFocus:this.handleOverlayFocus,onBlur:this.handleOverlayBlur},i.default.createElement(s.default,a({ref:function(t){return e.daypicker=t},onTodayButtonClick:y},n,{month:this.state.month,selectedDays:f,onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange})))}},{key:"render",value:function(){var e=this,t=this.props.component,r=this.props.inputProps;return i.default.createElement("div",{className:this.props.classNames.container,style:this.props.style},i.default.createElement(t,a({ref:function(t){return e.input=t},placeholder:this.props.placeholder},r,{value:this.state.value||this.state.typedValue,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,onClick:r.disabled?void 0:this.handleInputClick})),this.state.showOverlay&&this.renderOverlay())}}]),t}(i.default.Component);v.propTypes={value:o.default.oneOfType([o.default.string,o.default.instanceOf(Date)]),inputProps:o.default.object,placeholder:o.default.string,format:o.default.oneOfType([o.default.string,o.default.arrayOf(o.default.string)]),formatDate:o.default.func,parseDate:o.default.func,typedValue:o.default.string,showOverlay:o.default.bool,dayPickerProps:o.default.object,hideOnDayClick:o.default.bool,clickUnselectsDay:o.default.bool,keepFocus:o.default.bool,component:o.default.any,overlayComponent:o.default.any,style:o.default.object,classNames:o.default.shape({container:o.default.string,overlayWrapper:o.default.string,overlay:o.default.string.isRequired}),onDayChange:o.default.func,onDayPickerHide:o.default.func,onDayPickerShow:o.default.func,onChange:o.default.func,onClick:o.default.func,onFocus:o.default.func,onBlur:o.default.func,onKeyUp:o.default.func},v.defaultProps={dayPickerProps:{},value:"",typedValue:"",placeholder:"YYYY-M-D",format:"L",formatDate:d,parseDate:y,showOverlay:!1,hideOnDayClick:!0,clickUnselectsDay:!1,keepFocus:!0,component:"input",inputProps:{},overlayComponent:f,classNames:{container:"DayPickerInput",overlayWrapper:"DayPickerInput-OverlayWrapper",overlay:"DayPickerInput-Overlay"}},t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),i=u(a),o=u(r(6)),s=u(r(146)),l=r(123);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleKeyUp=r.handleKeyUp.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"shouldComponentUpdate",value:function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()}},{key:"handleKeyUp",value:function(e){e.keyCode===l.ENTER&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.classNames,r=e.date,n=e.months,a=e.locale,o=e.localeUtils,s=e.onClick;return i.default.createElement("div",{className:t.caption,role:"heading"},i.default.createElement("div",{onClick:s,onKeyUp:this.handleKeyUp},n?n[r.getMonth()]+" "+r.getFullYear():o.formatMonthTitle(r,a)))}}]),t}(a.Component);c.propTypes={date:o.default.instanceOf(Date),months:o.default.arrayOf(o.default.string),locale:o.default.string,localeUtils:o.default.object,onClick:o.default.func,classNames:o.default.shape({caption:o.default.string.isRequired}).isRequired},c.defaultProps={localeUtils:s.default},t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),i=d(a),o=d(r(6)),s=d(r(602)),l=d(r(603)),u=r(123),c=f(r(149)),p=f(r(148)),h=f(r(90));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=n=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.renderDay=function(e){var t=n.props.month.getMonth(),r=p.getModifiersFromProps(n.props),a=c.getModifiersForDay(e,r);h.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(r,n.props.classNames.today)&&a.push(n.props.classNames.today),e.getMonth()!==t&&a.push(n.props.classNames.outside);var o=e.getMonth()!==t,s=-1;n.props.onDayClick&&!o&&1===e.getDate()&&(s=n.props.tabIndex);var u=""+e.getFullYear()+e.getMonth()+e.getDate(),f={};return a.forEach((function(e){f[e]=!0})),i.default.createElement(l.default,{key:(o?"outside-":"")+u,classNames:n.props.classNames,day:e,modifiers:f,modifiersStyles:n.props.modifiersStyles,empty:o&&!n.props.showOutsideDays&&!n.props.fixedWeeks,tabIndex:s,ariaLabel:n.props.localeUtils.formatDay(e,n.props.locale),ariaDisabled:o||a.indexOf("disabled")>-1,ariaSelected:a.indexOf("selected")>-1,onClick:n.props.onDayClick,onFocus:n.props.onDayFocus,onKeyDown:n.props.onDayKeyDown,onMouseEnter:n.props.onDayMouseEnter,onMouseLeave:n.props.onDayMouseLeave,onMouseDown:n.props.onDayMouseDown,onMouseUp:n.props.onDayMouseUp,onTouchEnd:n.props.onDayTouchEnd,onTouchStart:n.props.onDayTouchStart},n.props.renderDay(e,f))},y(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.classNames,n=t.month,a=t.months,o=t.fixedWeeks,l=t.captionElement,c=t.weekdayElement,f=t.locale,d=t.localeUtils,y=t.weekdaysLong,v=t.weekdaysShort,m=t.firstDayOfWeek,g=t.onCaptionClick,_=t.showWeekNumbers,x=t.showWeekDays,b=t.onWeekClick,w={date:n,classNames:r,months:a,localeUtils:d,locale:f,onClick:g?function(e){return g(n,e)}:void 0},M=i.default.isValidElement(l)?i.default.cloneElement(l,w):i.default.createElement(l,w),E=p.getWeekArray(n,m,o);return i.default.createElement("div",{className:r.month,role:"grid"},M,x&&i.default.createElement(s.default,{classNames:r,weekdaysShort:v,weekdaysLong:y,firstDayOfWeek:m,showWeekNumbers:_,locale:f,localeUtils:d,weekdayElement:c}),i.default.createElement("div",{className:r.body,role:"rowgroup"},E.map((function(t){var a=void 0;return _&&(a=h.getWeekNumber(t[6])),i.default.createElement("div",{key:t[0].getTime(),className:r.week,role:"row"},_&&i.default.createElement("div",{className:r.weekNumber,tabIndex:b?0:-1,role:"gridcell",onClick:b?function(e){return b(a,t,e)}:void 0,onKeyUp:b?function(e){return e.keyCode===u.ENTER&&b(a,t,e)}:void 0},e.props.renderWeek(a,t,n)),t.map(e.renderDay))}))))}}]),t}(a.Component);v.propTypes={classNames:o.default.shape({body:o.default.string.isRequired,month:o.default.string.isRequired,outside:o.default.string.isRequired,today:o.default.string.isRequired,week:o.default.string.isRequired,weekNumber:o.default.string.isRequired}).isRequired,tabIndex:o.default.number,month:o.default.instanceOf(Date).isRequired,months:o.default.arrayOf(o.default.string),modifiersStyles:o.default.object,showWeekDays:o.default.bool,showOutsideDays:o.default.bool,renderDay:o.default.func.isRequired,renderWeek:o.default.func.isRequired,captionElement:o.default.oneOfType([o.default.element,o.default.func,o.default.instanceOf(i.default.Component)]).isRequired,weekdayElement:o.default.oneOfType([o.default.element,o.default.func,o.default.instanceOf(i.default.Component)]),fixedWeeks:o.default.bool,showWeekNumbers:o.default.bool,locale:o.default.string.isRequired,localeUtils:o.default.object.isRequired,weekdaysLong:o.default.arrayOf(o.default.string),weekdaysShort:o.default.arrayOf(o.default.string),firstDayOfWeek:o.default.number.isRequired,onCaptionClick:o.default.func,onDayClick:o.default.func,onDayFocus:o.default.func,onDayKeyDown:o.default.func,onDayMouseEnter:o.default.func,onDayMouseLeave:o.default.func,onDayMouseDown:o.default.func,onDayMouseUp:o.default.func,onDayTouchEnd:o.default.func,onDayTouchStart:o.default.func,onWeekClick:o.default.func},t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),i=s(a),o=s(r(6));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){for(var e=this.props,t=e.classNames,r=e.firstDayOfWeek,n=e.showWeekNumbers,a=e.weekdaysLong,o=e.weekdaysShort,s=e.locale,l=e.localeUtils,u=e.weekdayElement,c=[],p=0;p<7;p+=1){var h=(p+r)%7,f={key:p,className:t.weekday,weekday:h,weekdaysLong:a,weekdaysShort:o,localeUtils:l,locale:s},d=i.default.isValidElement(u)?i.default.cloneElement(u,f):i.default.createElement(u,f);c.push(d)}return i.default.createElement("div",{className:t.weekdays,role:"rowgroup"},i.default.createElement("div",{className:t.weekdaysRow,role:"row"},n&&i.default.createElement("div",{className:t.weekday}),c))}}]),t}(a.Component);l.propTypes={classNames:o.default.shape({weekday:o.default.string.isRequired,weekdays:o.default.string.isRequired,weekdaysRow:o.default.string.isRequired}).isRequired,firstDayOfWeek:o.default.number.isRequired,weekdaysLong:o.default.arrayOf(o.default.string),weekdaysShort:o.default.arrayOf(o.default.string),showWeekNumbers:o.default.bool,locale:o.default.string.isRequired,localeUtils:o.default.object.isRequired,weekdayElement:o.default.oneOfType([o.default.element,o.default.func,o.default.instanceOf(i.default.Component)])},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=p(i),s=p(r(6)),l=r(90),u=r(148),c=p(r(147));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){if(e)return function(n){n.persist(),e(t,r,n)}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,r=Object.keys(this.props),n=Object.keys(e);return r.length!==n.length||r.some((function(r){if("modifiers"===r||"modifiersStyles"===r||"classNames"===r){var n=t.props[r],a=e[r],i=Object.keys(n),o=Object.keys(a);return i.length!==o.length||i.some((function(e){return!(0,u.hasOwnProp)(a,e)||n[e]!==a[e]}))}return"day"===r?!(0,l.isSameDay)(t.props[r],e[r]):!(0,u.hasOwnProp)(e,r)||t.props[r]!==e[r]}))}},{key:"render",value:function(){var e=this.props,t=e.classNames,r=e.modifiersStyles,a=e.day,i=e.tabIndex,s=e.empty,l=e.modifiers,u=e.onMouseEnter,p=e.onMouseLeave,f=e.onMouseUp,d=e.onMouseDown,y=e.onClick,v=e.onKeyDown,m=e.onTouchStart,g=e.onTouchEnd,_=e.onFocus,x=e.ariaLabel,b=e.ariaDisabled,w=e.ariaSelected,M=e.children,E=t.day;t!==c.default?E+=" "+Object.keys(l).join(" "):E+=Object.keys(l).map((function(e){return" "+E+"--"+e})).join("");var S=void 0;return r&&Object.keys(l).filter((function(e){return!!r[e]})).forEach((function(e){S=n({},S,r[e])})),s?o.default.createElement("div",{"aria-disabled":!0,className:E,style:S}):o.default.createElement("div",{className:E,tabIndex:i,style:S,role:"gridcell","aria-label":x,"aria-disabled":b,"aria-selected":w,onClick:h(y,a,l),onKeyDown:h(v,a,l),onMouseEnter:h(u,a,l),onMouseLeave:h(p,a,l),onMouseUp:h(f,a,l),onMouseDown:h(d,a,l),onTouchEnd:h(g,a,l),onTouchStart:h(m,a,l),onFocus:h(_,a,l)},M)}}]),t}(i.Component);f.propTypes={classNames:s.default.shape({day:s.default.string.isRequired}).isRequired,day:s.default.instanceOf(Date).isRequired,children:s.default.node.isRequired,ariaDisabled:s.default.bool,ariaLabel:s.default.string,ariaSelected:s.default.bool,empty:s.default.bool,modifiers:s.default.object,modifiersStyles:s.default.object,onClick:s.default.func,onKeyDown:s.default.func,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onMouseDown:s.default.func,onMouseUp:s.default.func,onTouchEnd:s.default.func,onTouchStart:s.default.func,onFocus:s.default.func,tabIndex:s.default.number},f.defaultProps={tabIndex:-1},f.defaultProps={modifiers:{},modifiersStyles:{},empty:!1},t.default=f},function(e,t,r){},function(e,t,r){e.exports=r(606)},function(e,t,r){var n=r(607),a=r(609),i=Array.prototype,o=String.prototype;e.exports=function(e){var t=e.includes;return e===i||e instanceof Array&&t===i.includes?n:"string"==typeof e||e===o||e instanceof String&&t===o.includes?a:t}},function(e,t,r){r(608);var n=r(32);e.exports=n("Array").includes},function(e,t,r){"use strict";var n=r(9),a=r(168).includes,i=r(116);n({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,r){r(610);var n=r(32);e.exports=n("String").includes},function(e,t,r){"use strict";var n=r(9),a=r(611),i=r(110);n({target:"String",proto:!0,forced:!r(613)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(612);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var n=r(37),a=r(83),i=r(26)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t,r){var n=r(26)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,r){var n=r(615),a=r(18),i=r(616),o=r(618),s=r(269),l=1440,u=2520,c=43200,p=86400;e.exports=function(e,t,r){var h=r||{},f=n(e,t),d=h.locale,y=s.distanceInWords.localize;d&&d.distanceInWords&&d.distanceInWords.localize&&(y=d.distanceInWords.localize);var v,m,g={addSuffix:Boolean(h.addSuffix),comparison:f};f>0?(v=a(e),m=a(t)):(v=a(t),m=a(e));var _,x=i(m,v),b=m.getTimezoneOffset()-v.getTimezoneOffset(),w=Math.round(x/60)-b;if(w<2)return h.includeSeconds?x<5?y("lessThanXSeconds",5,g):x<10?y("lessThanXSeconds",10,g):x<20?y("lessThanXSeconds",20,g):x<40?y("halfAMinute",null,g):y(x<60?"lessThanXMinutes":"xMinutes",1,g):0===w?y("lessThanXMinutes",1,g):y("xMinutes",w,g);if(w<45)return y("xMinutes",w,g);if(w<90)return y("aboutXHours",1,g);if(w<l)return y("aboutXHours",Math.round(w/60),g);if(w<u)return y("xDays",1,g);if(w<c)return y("xDays",Math.round(w/l),g);if(w<p)return y("aboutXMonths",_=Math.round(w/c),g);if((_=o(m,v))<12)return y("xMonths",Math.round(w/c),g);var M=_%12,E=Math.floor(_/12);return M<3?y("aboutXYears",E,g):M<9?y("overXYears",E,g):y("almostXYears",E+1,g)}},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=n(e).getTime(),a=n(t).getTime();return r>a?-1:r<a?1:0}},function(e,t,r){var n=r(617);e.exports=function(e,t){var r=n(e,t)/1e3;return r>0?Math.floor(r):Math.ceil(r)}},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=n(e),a=n(t);return r.getTime()-a.getTime()}},function(e,t,r){var n=r(18),a=r(619),i=r(279);e.exports=function(e,t){var r=n(e),o=n(t),s=i(r,o),l=Math.abs(a(r,o));return r.setMonth(r.getMonth()-s*l),s*(l-(i(r,o)===-s))}},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=n(e),a=n(t);return 12*(r.getFullYear()-a.getFullYear())+(r.getMonth()-a.getMonth())}},function(e,t,r){e.exports=r(621)},function(e,t,r){var n=r(622),a=Array.prototype;e.exports=function(e){var t=e.some;return e===a||e instanceof Array&&t===a.some?n:t}},function(e,t,r){r(623);var n=r(32);e.exports=n("Array").some},function(e,t,r){"use strict";var n=r(9),a=r(88).some;n({target:"Array",proto:!0,forced:r(112)("some")},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){e.exports=r(273)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifierPropType=void 0;var n,a=r(6),i=(n=a)&&n.__esModule?n:{default:n};var o={localeUtils:i.default.shape({formatMonthTitle:i.default.func,formatWeekdayShort:i.default.func,formatWeekdayLong:i.default.func,getFirstDayOfWeek:i.default.func}),range:i.default.shape({from:i.default.instanceOf(Date),to:i.default.instanceOf(Date)}),after:i.default.shape({after:i.default.instanceOf(Date)}),before:i.default.shape({before:i.default.instanceOf(Date)})};t.ModifierPropType=i.default.oneOfType([o.after,o.before,o.range,i.default.func,i.default.array]);t.default=o},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"useLocale",(function(){return ui})),r.d(n,"useLocaleCode",(function(){return ci})),r.d(n,"useLanguage",(function(){return pi})),r.d(n,"Provider",(function(){return hi})),r.d(n,"LocaleSwitch",(function(){return fi})),r.d(n,"LocaleSwitcher",(function(){return di}));var a={};r.r(a),r.d(a,"Provider",(function(){return c})),r.d(a,"useForecast",(function(){return p})),r.d(a,"Metadata",(function(){return Mf})),r.d(a,"Headline",(function(){return Tf})),r.d(a,"TabSet",(function(){return Id})),r.d(a,"Notifications",(function(){return Ld})),r.d(a,"Sidebar",(function(){return Dd})),r.d(a,"Footer",(function(){return Pd}));var i=r(0),o=r.n(i),s="kananaskis",l="avalanche-quebec",u=Object(i.createContext)(),c=u.Provider;function p(){return Object(i.useContext)(u)}function h(){var e=p();return null==e?void 0:e.report}var f=r(10),d=r.n(f),y=r(1),v=r.n(y),m=(r(340),r(6)),g=r.n(m),_=r(101),x=r.n(_);function b(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function w(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function M(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}b.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0,M.__suppressDeprecationWarning=!0;var E,S,T,C,I,A=function(e,t){return e.substr(0,t.length)===t},k=function(e,t){for(var r=void 0,n=void 0,a=t.split("?")[0],i=j(a),o=""===i[0],s=N(e),l=0,u=s.length;l<u;l++){var c=!1,p=s[l].route;if(p.default)n={route:p,params:{},uri:t};else{for(var h=j(p.path),f={},d=Math.max(i.length,h.length),y=0;y<d;y++){var v=h[y],m=i[y];if("*"===v){f["*"]=i.slice(y).map(decodeURIComponent).join("/");break}if(void 0===m){c=!0;break}var g=P.exec(v);if(g&&!o){-1===F.indexOf(g[1])||x()(!1);var _=decodeURIComponent(m);f[g[1]]=_}else if(v!==m){c=!0;break}}if(!c){r={route:p,params:f,uri:"/"+i.slice(0,y).join("/")};break}}}return r||n||null},L=function(e,t){if(A(e,"/"))return e;var r=e.split("?"),n=r[0],a=r[1],i=t.split("?")[0],o=j(n),s=j(i);if(""===o[0])return R(i,a);if(!A(o[0],".")){var l=s.concat(o).join("/");return R(("/"===i?"":"/")+l,a)}for(var u=s.concat(o),c=[],p=0,h=u.length;p<h;p++){var f=u[p];".."===f?c.pop():"."!==f&&c.push(f)}return R("/"+c.join("/"),a)},D=function(e,t){return"/"+j(e).map((function(e){var r=P.exec(e);return r?t[r[1]]:e})).join("/")},P=/^:(.+)/,z=function(e){return P.test(e)},O=function(e,t){return{route:e,score:e.default?0:j(e.path).reduce((function(e,t){return e+=4,!function(e){return""===e}(t)?z(t)?e+=2:!function(e){return"*"===e}(t)?e+=3:e-=5:e+=1,e}),0),index:t}},N=function(e){return e.map(O).sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index}))},j=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},R=function(e,t){return e+(t?"?"+t:"")},F=["uri","path"],B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U=function(e){return B({},e.location,{state:e.history.state,key:e.history.state&&e.history.state.key||"initial"})},V=!("undefined"==typeof window||!window.document||!window.document.createElement),q=(E=V?window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=0,r=[{pathname:e,search:""}],n=[];return{get location(){return r[t]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return r},get index(){return t},get state(){return n[t]},pushState:function(e,a,i){var o=i.split("?"),s=o[0],l=o[1],u=void 0===l?"":l;t++,r.push({pathname:s,search:u}),n.push(e)},replaceState:function(e,a,i){var o=i.split("?"),s=o[0],l=o[1],u=void 0===l?"":l;r[t]={pathname:s,search:u},n[t]=e}}}}(),S=[],T=U(E),C=!1,I=function(){},{get location(){return T},get transitioning(){return C},_onTransitionComplete:function(){C=!1,I()},listen:function(e){S.push(e);var t=function(){T=U(E),e({location:T,action:"POP"})};return E.addEventListener("popstate",t),function(){E.removeEventListener("popstate",t),S=S.filter((function(t){return t!==e}))}},navigate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.state,n=t.replace,a=void 0!==n&&n;r=B({},r,{key:Date.now()+""});try{C||a?E.history.replaceState(r,null,e):E.history.pushState(r,null,e)}catch(t){E.location[a?"replace":"assign"](e)}T=U(E),C=!0;var i=new Promise((function(e){return I=e}));return S.forEach((function(e){return e({location:T,action:"PUSH"})})),i}}),W=q.navigate,G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Y(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var X=function(e,t){var r=Object(i.createContext)(t);return r.Consumer.displayName=e+".Consumer",r.Provider.displayName=e+".Provider",r},K=X("Location"),J=function(e){var t=e.children;return o.a.createElement(K.Consumer,null,(function(e){return e?t(e):o.a.createElement($,null,t)}))},$=function(e){function t(){var r,n;Z(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=n=H(this,e.call.apply(e,[this].concat(i))),n.state={context:n.getContext(),refs:{unlisten:null}},H(n,r)}return Q(t,e),t.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},t.prototype.componentDidCatch=function(e,t){if(!he(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},t.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},t.prototype.componentDidMount=function(){var e=this,t=this.state.refs,r=this.props.history;t.unlisten=r.listen((function(){Promise.resolve().then((function(){requestAnimationFrame((function(){e.unmounted||e.setState((function(){return{context:e.getContext()}}))}))}))}))},t.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},t.prototype.render=function(){var e=this.state.context,t=this.props.children;return o.a.createElement(K.Provider,{value:e},"function"==typeof t?t(e):t||null)},t}(o.a.Component);$.defaultProps={history:q};var ee=X("Base",{baseuri:"/",basepath:"/"}),te=function(e){return o.a.createElement(ee.Consumer,null,(function(t){return o.a.createElement(J,null,(function(r){return o.a.createElement(re,G({},t,r,e))}))}))},re=function(e){function t(){return Z(this,t),H(this,e.apply(this,arguments))}return Q(t,e),t.prototype.render=function(){var e=this.props,t=e.location,r=e.navigate,n=e.basepath,a=e.primary,i=e.children,s=(e.baseuri,e.component),l=void 0===s?"div":s,u=Y(e,["location","navigate","basepath","primary","children","baseuri","component"]),c=o.a.Children.map(i,ve(n)),p=t.pathname,h=k(c,p);if(h){var f=h.params,d=h.uri,y=h.route,v=h.route.value;n=y.default?n:y.path.replace(/\*$/,"");var m=G({},f,{uri:d,location:t,navigate:function(e,t){return r(L(e,d),t)}}),g=o.a.cloneElement(v,m,v.props.children?o.a.createElement(te,{primary:a},v.props.children):void 0),_=a?ae:l,x=a?G({uri:d,location:t,component:l},u):u;return o.a.createElement(ee.Provider,{value:{baseuri:d,basepath:n}},o.a.createElement(_,x,g))}return null},t}(o.a.PureComponent);re.defaultProps={primary:!0};var ne=X("Focus"),ae=function(e){var t=e.uri,r=e.location,n=e.component,a=Y(e,["uri","location","component"]);return o.a.createElement(ne.Consumer,null,(function(e){return o.a.createElement(se,G({},a,{component:n,requestFocus:e,uri:t,location:r}))}))},ie=!0,oe=0,se=function(e){function t(){var r,n;Z(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=n=H(this,e.call.apply(e,[this].concat(i))),n.state={},n.requestFocus=function(e){n.state.shouldFocus||e.focus()},H(n,r)}return Q(t,e),t.getDerivedStateFromProps=function(e,t){if(null==t.uri)return G({shouldFocus:!0},e);var r=e.uri!==t.uri,n=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return G({shouldFocus:r||n},e)},t.prototype.componentDidMount=function(){oe++,this.focus()},t.prototype.componentWillUnmount=function(){0===--oe&&(ie=!0)},t.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},t.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):ie?ie=!1:this.node.contains(document.activeElement)||this.node.focus()},t.prototype.render=function(){var e=this,t=this.props,r=(t.children,t.style),n=(t.requestFocus,t.role),a=void 0===n?"group":n,i=t.component,s=void 0===i?"div":i,l=(t.uri,t.location,Y(t,["children","style","requestFocus","role","component","uri","location"]));return o.a.createElement(s,G({style:G({outline:"none"},r),tabIndex:"-1",role:a,ref:function(t){return e.node=t}},l),o.a.createElement(ne.Provider,{value:this.requestFocus},this.props.children))},t}(o.a.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,a=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==a){var i=e.displayName||e.name,o="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=b,t.componentWillReceiveProps=w),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=M;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,e,t,n)}}}(se);var le=function(){},ue=o.a.forwardRef;void 0===ue&&(ue=function(e){return e});var ce=ue((function(e,t){var r=e.innerRef,n=Y(e,["innerRef"]);return o.a.createElement(ee.Consumer,null,(function(e){e.basepath;var a=e.baseuri;return o.a.createElement(J,null,(function(e){var i=e.location,s=e.navigate,l=n.to,u=n.state,c=n.replace,p=n.getProps,h=void 0===p?le:p,f=Y(n,["to","state","replace","getProps"]),d=L(l,a),y=i.pathname===d,v=A(i.pathname,d);return o.a.createElement("a",G({ref:t||r,"aria-current":y?"page":void 0},f,h({isCurrent:y,isPartiallyCurrent:v,href:d,location:i}),{href:d,onClick:function(e){f.onClick&&f.onClick(e),me(e)&&(e.preventDefault(),s(d,{state:u,replace:c}))}}))}))}))}));function pe(e){this.uri=e}var he=function(e){return e instanceof pe},fe=function(e){function t(){return Z(this,t),H(this,e.apply(this,arguments))}return Q(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,r=e.to,n=(e.from,e.replace),a=void 0===n||n,i=e.state,o=(e.noThrow,Y(e,["navigate","to","from","replace","state","noThrow"]));Promise.resolve().then((function(){t(D(r,o),{replace:a,state:i})}))},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),r=(e.from,e.replace,e.state,e.noThrow),n=Y(e,["navigate","to","from","replace","state","noThrow"]);return r||function(e){throw new pe(e)}(D(t,n)),null},t}(o.a.Component),de=function(e){return o.a.createElement(J,null,(function(t){return o.a.createElement(fe,G({},t,e))}))},ye=function(e){return e.replace(/(^\/+|\/+$)/g,"")},ve=function(e){return function(t){if(!t)return null;if(t.props.path||t.props.default||t.type===de||x()(!1),t.type!==de||t.props.from&&t.props.to||x()(!1),t.type!==de||function(e,t){var r=function(e){return z(e)};return j(e).filter(r).sort().join("/")===j(t).filter(r).sort().join("/")}(t.props.from,t.props.to)||x()(!1),t.props.default)return{value:t,default:!0};var r=t.type===de?t.props.from:t.props.path,n="/"===r?e:ye(e)+"/"+ye(r);return{value:t,default:t.props.default,path:t.props.children?ye(n)+"/*":n}}},me=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},ge=r(2),_e=r.n(ge),xe=r(4),be=r.n(xe),we=r(51),Me=r.n(we),Ee="forecaster@avalanche.ca",Se="info@avalanche.ca",Te=r(3),Ce=r.n(Te),Ie=r(102),Ae=r.n(Ie),ke=r(150),Le=r.n(ke),De=r(17),Pe=r.n(De),ze=r(8),Oe=r.n(ze);function Ne(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Le()(Oe()(e=Ae()(t)).call(e,(function(e){var t=Ce()(e,2);t[0];return null!=t[1]})))}function je(e){var t,r=e.phone,n=e.ext,a=e.children,i=v()(e,["phone","ext","children"]),s="tel:".concat(r);return o.a.createElement("a",_e()({href:s},i),a||d()(t="".concat(r)).call(t,n?" ext. ".concat(n):""))}function Re(e){var t,r=e.email,n=void 0===r?Se:r,a=e.title,i=void 0===a?n:a,s=e.subject,l=e.cc,u=e.bcc,c=e.body,p=e.children,h=v()(e,["email","title","subject","cc","bcc","body","children"]),f=new Me.a(Ne({subject:s,cc:l,bcc:u,body:c})).toString(),y="mailto:"+n;f&&(y=d()(t="".concat(y,"?")).call(t,f));return o.a.createElement("a",_e()({href:y,title:i},h),p||n)}var Fe=r(7),Be=r.n(Fe),Ue=r(91),Ve=r.n(Ue),qe=r(24),We=r.n(qe),Ge=r(11),Ye=r.n(Ge),Ze=function(e,t){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function He(e,t){function r(){this.constructor=e}Ze(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Qe=function(){return(Qe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Xe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}Object.create;Object.create;var Ke=r(187),Je=r.n(Ke);function $e(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var et=function(e,t){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function tt(e,t){function r(){this.constructor=e}et(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var rt=function(){return(rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.create;function nt(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}Object.create;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var at=function(e,t){return(at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function it(e,t){function r(){this.constructor=e}at(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ot=function(){return(ot=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.create;function st(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}Object.create;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var lt=function(e,t){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var ut=function(){return(ut=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.create;var ct,pt;Object.create;function ht(e){return e.type===ct.literal}function ft(e){return e.type===ct.argument}function dt(e){return e.type===ct.number}function yt(e){return e.type===ct.date}function vt(e){return e.type===ct.time}function mt(e){return e.type===ct.select}function gt(e){return e.type===ct.plural}function _t(e){return e.type===ct.pound}function xt(e){return e.type===ct.tag}function bt(e){return!(!e||"object"!=typeof e||0!==e.type)}function wt(e){return!(!e||"object"!=typeof e||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(ct||(ct={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(pt||(pt={}));var Mt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;var Et=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,St=/^(@+)?(\+|#+)?$/g;function Tt(e){var t={};return e.replace(St,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function Ct(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function It(e){var t=Ct(e);return t||{}}function At(e){for(var t={},r=0,n=e;r<n.length;r++){var a=n[r];switch(a.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=a.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ut(ut(ut({},t),{notation:"scientific"}),a.options.reduce((function(e,t){return ut(ut({},e),It(t))}),{}));continue;case"engineering":t=ut(ut(ut({},t),{notation:"engineering"}),a.options.reduce((function(e,t){return ut(ut({},e),It(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(Et.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(Et,(function(e,r,n,a,i,o){return"*"===n?t.minimumFractionDigits=r.length:a&&"#"===a[0]?t.maximumFractionDigits=a.length:i&&o?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+o.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""})),a.options.length&&(t=ut(ut({},t),Tt(a.options[0])))}else if(St.test(a.stem))t=ut(ut({},t),Tt(a.stem));else{var i=Ct(a.stem);i&&(t=ut(ut({},t),i))}}return t}var kt=function(e){function t(r,n,a,i){var o=e.call(this)||this;return o.message=r,o.expected=n,o.found=a,o.location=i,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return function(e,t){function r(){this.constructor=e}lt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){switch(e.type){case"literal":return'"'+n(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,r,n=e.map(i);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+((o=t)?'"'+n(o)+'"':"end of input")+" found.";var o},t}(Error);var Lt=function(e,t){t=void 0!==t?t:{};var r,n={},a={start:It},i=It,o=function(){return!ir},s=function(e){return e},l=function(){return ir},u="<",c=xt("<",!1),p=function(e){return e.join("")},h=function(){return"<"},f=function(e){return ut({type:ct.literal,value:e},ar())},d="#",y=xt("#",!1),v=function(){return ut({type:ct.pound},ar())},m=wt("tagElement"),g=function(e,t,r){return e!==r&&_t('Mismatch tag "'+e+'" !== "'+r+'"',gt()),ut({type:ct.tag,value:e,children:t},ar())},_="/>",x=xt("/>",!1),b=function(e){return ut({type:ct.literal,value:e.join("")},ar())},w=">",M=xt(">",!1),E=function(e){return e},S="</",T=xt("</",!1),C=wt("argumentElement"),I="{",A=xt("{",!1),k="}",L=xt("}",!1),D=function(e){return ut({type:ct.argument,value:e},ar())},P=wt("numberSkeletonId"),z=/^['\/{}]/,O=bt(["'","/","{","}"],!1,!1),N={type:"any"},j=wt("numberSkeletonTokenOption"),R="/",F=xt("/",!1),B=function(e){return e},U=wt("numberSkeletonToken"),V=function(e,t){return{stem:e,options:t}},q=function(e){return ut({type:0,tokens:e,parsedOptions:or?At(e):{}},ar())},W="::",G=xt("::",!1),Y=function(e){return e},Z=function(){return rr.push("numberArgStyle"),!0},H=function(e){return rr.pop(),e.replace(/\s*$/,"")},Q=",",X=xt(",",!1),K="number",J=xt("number",!1),$=function(e,t,r){return ut({type:"number"===t?ct.number:"date"===t?ct.date:ct.time,style:r&&r[2],value:e},ar())},ee="'",te=xt("'",!1),re=/^[^']/,ne=bt(["'"],!0,!1),ae=/^[^a-zA-Z'{}]/,ie=bt([["a","z"],["A","Z"],"'","{","}"],!0,!1),oe=/^[a-zA-Z]/,se=bt([["a","z"],["A","Z"]],!1,!1),le=function(e){return ut({type:1,pattern:e,parsedOptions:or?(t=e,r={},t.replace(Mt,(function(e){var t=e.length;switch(e[0]){case"G":r.era=4===t?"long":5===t?"narrow":"short";break;case"y":r.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":r.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":r.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":r.weekday=4===t?"short":5===t?"narrow":"short";break;case"e":if(t<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");r.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");r.weekday=["short","long","narrow","short"][t-4];break;case"a":r.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":r.hourCycle="h12",r.hour=["numeric","2-digit"][t-1];break;case"H":r.hourCycle="h23",r.hour=["numeric","2-digit"][t-1];break;case"K":r.hourCycle="h11",r.hour=["numeric","2-digit"][t-1];break;case"k":r.hourCycle="h24",r.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":r.minute=["numeric","2-digit"][t-1];break;case"s":r.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":r.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),r):{}},ar());var t,r},ue=function(){return rr.push("dateOrTimeArgStyle"),!0},ce="date",pe=xt("date",!1),he="time",fe=xt("time",!1),de="plural",ye=xt("plural",!1),ve="selectordinal",me=xt("selectordinal",!1),ge="offset:",_e=xt("offset:",!1),xe=function(e,t,r,n){return ut({type:ct.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:r?r[2]:0,options:n.reduce((function(e,t){var r=t.id,n=t.value,a=t.location;return r in e&&_t('Duplicate option "'+r+'" in plural element: "'+mt()+'"',gt()),e[r]={value:n,location:a},e}),{})},ar())},be="select",we=xt("select",!1),Me=function(e,t){return ut({type:ct.select,value:e,options:t.reduce((function(e,t){var r=t.id,n=t.value,a=t.location;return r in e&&_t('Duplicate option "'+r+'" in select element: "'+mt()+'"',gt()),e[r]={value:n,location:a},e}),{})},ar())},Ee="=",Se=xt("=",!1),Te=function(e){return rr.push("select"),!0},Ce=function(e,t){return rr.pop(),ut({id:e,value:t},ar())},Ie=function(e){return rr.push("plural"),!0},Ae=function(e,t){return rr.pop(),ut({id:e,value:t},ar())},ke=wt("whitespace"),Le=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,De=bt([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),Pe=wt("syntax pattern"),ze=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,Oe=bt([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),Ne=wt("optional whitespace"),je=wt("number"),Re="-",Fe=xt("-",!1),Be=function(e,t){return t?e?-t:t:0},Ue=(wt("apostrophe"),wt("double apostrophes")),Ve="''",qe=xt("''",!1),We=function(){return"'"},Ge=function(e,t){return e+t.replace("''","'")},Ye=function(e){return!("<"===e||"{"===e||nr()&&"#"===e||rr.length>1&&"}"===e)},Ze="\n",He=xt("\n",!1),Qe=function(e){return"<"===e||">"===e||"{"===e||"}"===e||nr()&&"#"===e},Xe=wt("argNameOrNumber"),Ke=wt("validTag"),Je=wt("argNumber"),$e="0",et=xt("0",!1),tt=function(){return 0},rt=/^[1-9]/,nt=bt([["1","9"]],!1,!1),at=/^[0-9]/,it=bt([["0","9"]],!1,!1),ot=function(e){return parseInt(e.join(""),10)},st=wt("argName"),lt=wt("tagName"),pt=0,ht=0,ft=[{line:1,column:1}],dt=0,yt=[],vt=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=a[t.startRule]}function mt(){return e.substring(ht,pt)}function gt(){return St(ht,pt)}function _t(e,t){throw function(e,t){return new kt(e,[],"",t)}(e,t=void 0!==t?t:St(ht,pt))}function xt(e,t){return{type:"literal",text:e,ignoreCase:t}}function bt(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function wt(e){return{type:"other",description:e}}function Et(t){var r,n=ft[t];if(n)return n;for(r=t-1;!ft[r];)r--;for(n={line:(n=ft[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ft[t]=n,n}function St(e,t){var r=Et(e),n=Et(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Tt(e){pt<dt||(pt>dt&&(dt=pt,yt=[]),yt.push(e))}function Ct(e,t,r){return new kt(kt.buildMessage(e,t),e,t,r)}function It(){return Lt()}function Lt(){var e,t;for(e=[],t=Dt();t!==n;)e.push(t),t=Dt();return e}function Dt(){var t,r;return t=pt,ht=pt,(o()?void 0:n)!==n&&(r=function(){var e,t,r,a;vt++,(e=Ot())===n&&(e=pt,(t=Nt())!==n&&(r=Lt())!==n&&(a=jt())!==n?(ht=e,t=g(t,r,a),e=t):(pt=e,e=n));vt--,e===n&&(t=n,0===vt&&Tt(m));return e}())!==n?(ht=t,t=s(r)):(pt=t,t=n),t===n&&(t=function(){var e,t;e=pt,(t=Pt())!==n&&(ht=e,t=f(t));return e=t}())===n&&(t=function(){var t,r,a,i;vt++,t=pt,123===e.charCodeAt(pt)?(r=I,pt++):(r=n,0===vt&&Tt(A));r!==n&&Zt()!==n&&(a=Jt())!==n&&Zt()!==n?(125===e.charCodeAt(pt)?(i=k,pt++):(i=n,0===vt&&Tt(L)),i!==n?(ht=t,r=D(a),t=r):(pt=t,t=n)):(pt=t,t=n);vt--,t===n&&(r=n,0===vt&&Tt(C));return t}())===n&&(t=function(){var t;(t=function(){var t,r,a,i,o,s,l,u,c;t=pt,123===e.charCodeAt(pt)?(r=I,pt++):(r=n,0===vt&&Tt(A));r!==n&&Zt()!==n&&(a=Jt())!==n&&Zt()!==n?(44===e.charCodeAt(pt)?(i=Q,pt++):(i=n,0===vt&&Tt(X)),i!==n&&Zt()!==n?(e.substr(pt,6)===K?(o=K,pt+=6):(o=n,0===vt&&Tt(J)),o!==n&&Zt()!==n?(s=pt,44===e.charCodeAt(pt)?(l=Q,pt++):(l=n,0===vt&&Tt(X)),l!==n&&(u=Zt())!==n&&(c=function(){var t,r,a;t=pt,e.substr(pt,2)===W?(r=W,pt+=2):(r=n,0===vt&&Tt(G));r!==n&&(a=function(){var e,t,r;if(e=pt,t=[],(r=Bt())!==n)for(;r!==n;)t.push(r),r=Bt();else t=n;t!==n&&(ht=e,t=q(t));return e=t}())!==n?(ht=t,r=Y(a),t=r):(pt=t,t=n);t===n&&(t=pt,ht=pt,(r=(r=Z())?void 0:n)!==n&&(a=Pt())!==n?(ht=t,r=H(a),t=r):(pt=t,t=n));return t}())!==n?s=l=[l,u,c]:(pt=s,s=n),s===n&&(s=null),s!==n&&(l=Zt())!==n?(125===e.charCodeAt(pt)?(u=k,pt++):(u=n,0===vt&&Tt(L)),u!==n?(ht=t,r=$(a,o,s),t=r):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n);return t}())===n&&(t=function(){var t,r,a,i,o,s,l,u,c;t=pt,123===e.charCodeAt(pt)?(r=I,pt++):(r=n,0===vt&&Tt(A));r!==n&&Zt()!==n&&(a=Jt())!==n&&Zt()!==n?(44===e.charCodeAt(pt)?(i=Q,pt++):(i=n,0===vt&&Tt(X)),i!==n&&Zt()!==n?(e.substr(pt,4)===ce?(o=ce,pt+=4):(o=n,0===vt&&Tt(pe)),o===n&&(e.substr(pt,4)===he?(o=he,pt+=4):(o=n,0===vt&&Tt(fe))),o!==n&&Zt()!==n?(s=pt,44===e.charCodeAt(pt)?(l=Q,pt++):(l=n,0===vt&&Tt(X)),l!==n&&(u=Zt())!==n&&(c=function(){var t,r,a;t=pt,e.substr(pt,2)===W?(r=W,pt+=2):(r=n,0===vt&&Tt(G));r!==n&&(a=function(){var t,r,a,i;t=pt,r=pt,a=[],(i=Ut())===n&&(i=Vt());if(i!==n)for(;i!==n;)a.push(i),(i=Ut())===n&&(i=Vt());else a=n;r=a!==n?e.substring(r,pt):a;r!==n&&(ht=t,r=le(r));return t=r}())!==n?(ht=t,r=Y(a),t=r):(pt=t,t=n);t===n&&(t=pt,ht=pt,(r=(r=ue())?void 0:n)!==n&&(a=Pt())!==n?(ht=t,r=H(a),t=r):(pt=t,t=n));return t}())!==n?s=l=[l,u,c]:(pt=s,s=n),s===n&&(s=null),s!==n&&(l=Zt())!==n?(125===e.charCodeAt(pt)?(u=k,pt++):(u=n,0===vt&&Tt(L)),u!==n?(ht=t,r=$(a,o,s),t=r):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n);return t}());return t}())===n&&(t=function(){var t,r,a,i,o,s,l,u,c,p,h;t=pt,123===e.charCodeAt(pt)?(r=I,pt++):(r=n,0===vt&&Tt(A));if(r!==n)if(Zt()!==n)if((a=Jt())!==n)if(Zt()!==n)if(44===e.charCodeAt(pt)?(i=Q,pt++):(i=n,0===vt&&Tt(X)),i!==n)if(Zt()!==n)if(e.substr(pt,6)===de?(o=de,pt+=6):(o=n,0===vt&&Tt(ye)),o===n&&(e.substr(pt,13)===ve?(o=ve,pt+=13):(o=n,0===vt&&Tt(me))),o!==n)if(Zt()!==n)if(44===e.charCodeAt(pt)?(s=Q,pt++):(s=n,0===vt&&Tt(X)),s!==n)if(Zt()!==n)if(l=pt,e.substr(pt,7)===ge?(u=ge,pt+=7):(u=n,0===vt&&Tt(_e)),u!==n&&(c=Zt())!==n&&(p=Ht())!==n?l=u=[u,c,p]:(pt=l,l=n),l===n&&(l=null),l!==n)if((u=Zt())!==n){if(c=[],(p=Wt())!==n)for(;p!==n;)c.push(p),p=Wt();else c=n;c!==n&&(p=Zt())!==n?(125===e.charCodeAt(pt)?(h=k,pt++):(h=n,0===vt&&Tt(L)),h!==n?(ht=t,r=xe(a,o,l,c),t=r):(pt=t,t=n)):(pt=t,t=n)}else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;return t}())===n&&(t=function(){var t,r,a,i,o,s,l,u,c;t=pt,123===e.charCodeAt(pt)?(r=I,pt++):(r=n,0===vt&&Tt(A));if(r!==n)if(Zt()!==n)if((a=Jt())!==n)if(Zt()!==n)if(44===e.charCodeAt(pt)?(i=Q,pt++):(i=n,0===vt&&Tt(X)),i!==n)if(Zt()!==n)if(e.substr(pt,6)===be?(o=be,pt+=6):(o=n,0===vt&&Tt(we)),o!==n)if(Zt()!==n)if(44===e.charCodeAt(pt)?(s=Q,pt++):(s=n,0===vt&&Tt(X)),s!==n)if(Zt()!==n){if(l=[],(u=qt())!==n)for(;u!==n;)l.push(u),u=qt();else l=n;l!==n&&(u=Zt())!==n?(125===e.charCodeAt(pt)?(c=k,pt++):(c=n,0===vt&&Tt(L)),c!==n?(ht=t,r=Me(a,l),t=r):(pt=t,t=n)):(pt=t,t=n)}else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;else pt=t,t=n;return t}())===n&&(t=function(){var t,r;t=pt,35===e.charCodeAt(pt)?(r=d,pt++):(r=n,0===vt&&Tt(y));r!==n&&(ht=t,r=v());return t=r}()),t}function Pt(){var t,r,a,i;if(t=pt,ht=pt,(r=(r=l())?void 0:n)!==n){if(a=[],(i=Qt())===n&&(i=Xt())===n&&(i=Kt())===n&&(60===e.charCodeAt(pt)?(i=u,pt++):(i=n,0===vt&&Tt(c))),i!==n)for(;i!==n;)a.push(i),(i=Qt())===n&&(i=Xt())===n&&(i=Kt())===n&&(60===e.charCodeAt(pt)?(i=u,pt++):(i=n,0===vt&&Tt(c)));else a=n;a!==n?(ht=t,t=r=p(a)):(pt=t,t=n)}else pt=t,t=n;if(t===n){if(t=pt,r=[],(a=Qt())===n&&(a=Xt())===n&&(a=Kt())===n&&(a=zt()),a!==n)for(;a!==n;)r.push(a),(a=Qt())===n&&(a=Xt())===n&&(a=Kt())===n&&(a=zt());else r=n;r!==n&&(ht=t,r=p(r)),t=r}return t}function zt(){var t,r,a;return t=pt,r=pt,vt++,(a=Nt())===n&&(a=jt())===n&&(a=Ot()),vt--,a===n?r=void 0:(pt=r,r=n),r!==n?(60===e.charCodeAt(pt)?(a=u,pt++):(a=n,0===vt&&Tt(c)),a!==n?(ht=t,t=r=h()):(pt=t,t=n)):(pt=t,t=n),t}function Ot(){var t,r,a,i,o,s;return t=pt,r=pt,60===e.charCodeAt(pt)?(a=u,pt++):(a=n,0===vt&&Tt(c)),a!==n&&(i=$t())!==n&&(o=Zt())!==n?(e.substr(pt,2)===_?(s=_,pt+=2):(s=n,0===vt&&Tt(x)),s!==n?r=a=[a,i,o,s]:(pt=r,r=n)):(pt=r,r=n),r!==n&&(ht=t,r=b(r)),t=r}function Nt(){var t,r,a,i;return t=pt,60===e.charCodeAt(pt)?(r=u,pt++):(r=n,0===vt&&Tt(c)),r!==n&&(a=$t())!==n?(62===e.charCodeAt(pt)?(i=w,pt++):(i=n,0===vt&&Tt(M)),i!==n?(ht=t,t=r=E(a)):(pt=t,t=n)):(pt=t,t=n),t}function jt(){var t,r,a,i;return t=pt,e.substr(pt,2)===S?(r=S,pt+=2):(r=n,0===vt&&Tt(T)),r!==n&&(a=$t())!==n?(62===e.charCodeAt(pt)?(i=w,pt++):(i=n,0===vt&&Tt(M)),i!==n?(ht=t,t=r=E(a)):(pt=t,t=n)):(pt=t,t=n),t}function Rt(){var t,r,a,i,o;if(vt++,t=pt,r=[],a=pt,i=pt,vt++,(o=Gt())===n&&(z.test(e.charAt(pt))?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(O))),vt--,o===n?i=void 0:(pt=i,i=n),i!==n?(e.length>pt?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(N)),o!==n?a=i=[i,o]:(pt=a,a=n)):(pt=a,a=n),a!==n)for(;a!==n;)r.push(a),a=pt,i=pt,vt++,(o=Gt())===n&&(z.test(e.charAt(pt))?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(O))),vt--,o===n?i=void 0:(pt=i,i=n),i!==n?(e.length>pt?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(N)),o!==n?a=i=[i,o]:(pt=a,a=n)):(pt=a,a=n);else r=n;return t=r!==n?e.substring(t,pt):r,vt--,t===n&&(r=n,0===vt&&Tt(P)),t}function Ft(){var t,r,a;return vt++,t=pt,47===e.charCodeAt(pt)?(r=R,pt++):(r=n,0===vt&&Tt(F)),r!==n&&(a=Rt())!==n?(ht=t,t=r=B(a)):(pt=t,t=n),vt--,t===n&&(r=n,0===vt&&Tt(j)),t}function Bt(){var e,t,r,a;if(vt++,e=pt,Zt()!==n)if((t=Rt())!==n){for(r=[],a=Ft();a!==n;)r.push(a),a=Ft();r!==n?(ht=e,e=V(t,r)):(pt=e,e=n)}else pt=e,e=n;else pt=e,e=n;return vt--,e===n&&(n,0===vt&&Tt(U)),e}function Ut(){var t,r,a,i;if(t=pt,39===e.charCodeAt(pt)?(r=ee,pt++):(r=n,0===vt&&Tt(te)),r!==n){if(a=[],(i=Qt())===n&&(re.test(e.charAt(pt))?(i=e.charAt(pt),pt++):(i=n,0===vt&&Tt(ne))),i!==n)for(;i!==n;)a.push(i),(i=Qt())===n&&(re.test(e.charAt(pt))?(i=e.charAt(pt),pt++):(i=n,0===vt&&Tt(ne)));else a=n;a!==n?(39===e.charCodeAt(pt)?(i=ee,pt++):(i=n,0===vt&&Tt(te)),i!==n?t=r=[r,a,i]:(pt=t,t=n)):(pt=t,t=n)}else pt=t,t=n;if(t===n)if(t=[],(r=Qt())===n&&(ae.test(e.charAt(pt))?(r=e.charAt(pt),pt++):(r=n,0===vt&&Tt(ie))),r!==n)for(;r!==n;)t.push(r),(r=Qt())===n&&(ae.test(e.charAt(pt))?(r=e.charAt(pt),pt++):(r=n,0===vt&&Tt(ie)));else t=n;return t}function Vt(){var t,r;if(t=[],oe.test(e.charAt(pt))?(r=e.charAt(pt),pt++):(r=n,0===vt&&Tt(se)),r!==n)for(;r!==n;)t.push(r),oe.test(e.charAt(pt))?(r=e.charAt(pt),pt++):(r=n,0===vt&&Tt(se));else t=n;return t}function qt(){var t,r,a,i,o;return t=pt,Zt()!==n&&(r=tr())!==n&&Zt()!==n?(123===e.charCodeAt(pt)?(a=I,pt++):(a=n,0===vt&&Tt(A)),a!==n?(ht=pt,(Te(r)?void 0:n)!==n&&(i=Lt())!==n?(125===e.charCodeAt(pt)?(o=k,pt++):(o=n,0===vt&&Tt(L)),o!==n?(ht=t,t=Ce(r,i)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n),t}function Wt(){var t,r,a,i,o;return t=pt,Zt()!==n&&(r=function(){var t,r,a,i;return t=pt,r=pt,61===e.charCodeAt(pt)?(a=Ee,pt++):(a=n,0===vt&&Tt(Se)),a!==n&&(i=Ht())!==n?r=a=[a,i]:(pt=r,r=n),(t=r!==n?e.substring(t,pt):r)===n&&(t=tr()),t}())!==n&&Zt()!==n?(123===e.charCodeAt(pt)?(a=I,pt++):(a=n,0===vt&&Tt(A)),a!==n?(ht=pt,(Ie(r)?void 0:n)!==n&&(i=Lt())!==n?(125===e.charCodeAt(pt)?(o=k,pt++):(o=n,0===vt&&Tt(L)),o!==n?(ht=t,t=Ae(r,i)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n)):(pt=t,t=n),t}function Gt(){var t;return vt++,Le.test(e.charAt(pt))?(t=e.charAt(pt),pt++):(t=n,0===vt&&Tt(De)),vt--,t===n&&(n,0===vt&&Tt(ke)),t}function Yt(){var t;return vt++,ze.test(e.charAt(pt))?(t=e.charAt(pt),pt++):(t=n,0===vt&&Tt(Oe)),vt--,t===n&&(n,0===vt&&Tt(Pe)),t}function Zt(){var t,r,a;for(vt++,t=pt,r=[],a=Gt();a!==n;)r.push(a),a=Gt();return t=r!==n?e.substring(t,pt):r,vt--,t===n&&(r=n,0===vt&&Tt(Ne)),t}function Ht(){var t,r,a;return vt++,t=pt,45===e.charCodeAt(pt)?(r=Re,pt++):(r=n,0===vt&&Tt(Fe)),r===n&&(r=null),r!==n&&(a=er())!==n?(ht=t,t=r=Be(r,a)):(pt=t,t=n),vt--,t===n&&(r=n,0===vt&&Tt(je)),t}function Qt(){var t,r;return vt++,t=pt,e.substr(pt,2)===Ve?(r=Ve,pt+=2):(r=n,0===vt&&Tt(qe)),r!==n&&(ht=t,r=We()),vt--,(t=r)===n&&(r=n,0===vt&&Tt(Ue)),t}function Xt(){var t,r,a,i,o,s;if(t=pt,39===e.charCodeAt(pt)?(r=ee,pt++):(r=n,0===vt&&Tt(te)),r!==n)if((a=function(){var t,r,a,i;t=pt,r=pt,e.length>pt?(a=e.charAt(pt),pt++):(a=n,0===vt&&Tt(N));a!==n?(ht=pt,(i=(i=Qe(a))?void 0:n)!==n?r=a=[a,i]:(pt=r,r=n)):(pt=r,r=n);t=r!==n?e.substring(t,pt):r;return t}())!==n){for(i=pt,o=[],e.substr(pt,2)===Ve?(s=Ve,pt+=2):(s=n,0===vt&&Tt(qe)),s===n&&(re.test(e.charAt(pt))?(s=e.charAt(pt),pt++):(s=n,0===vt&&Tt(ne)));s!==n;)o.push(s),e.substr(pt,2)===Ve?(s=Ve,pt+=2):(s=n,0===vt&&Tt(qe)),s===n&&(re.test(e.charAt(pt))?(s=e.charAt(pt),pt++):(s=n,0===vt&&Tt(ne)));(i=o!==n?e.substring(i,pt):o)!==n?(39===e.charCodeAt(pt)?(o=ee,pt++):(o=n,0===vt&&Tt(te)),o===n&&(o=null),o!==n?(ht=t,t=r=Ge(a,i)):(pt=t,t=n)):(pt=t,t=n)}else pt=t,t=n;else pt=t,t=n;return t}function Kt(){var t,r,a,i;return t=pt,r=pt,e.length>pt?(a=e.charAt(pt),pt++):(a=n,0===vt&&Tt(N)),a!==n?(ht=pt,(i=(i=Ye(a))?void 0:n)!==n?r=a=[a,i]:(pt=r,r=n)):(pt=r,r=n),r===n&&(10===e.charCodeAt(pt)?(r=Ze,pt++):(r=n,0===vt&&Tt(He))),t=r!==n?e.substring(t,pt):r}function Jt(){var t,r;return vt++,t=pt,(r=er())===n&&(r=tr()),t=r!==n?e.substring(t,pt):r,vt--,t===n&&(r=n,0===vt&&Tt(Xe)),t}function $t(){var t,r;return vt++,t=pt,(r=er())===n&&(r=function(){var t,r,a,i,o;vt++,t=pt,r=[],45===e.charCodeAt(pt)?(a=Re,pt++):(a=n,0===vt&&Tt(Fe));a===n&&(a=pt,i=pt,vt++,(o=Gt())===n&&(o=Yt()),vt--,o===n?i=void 0:(pt=i,i=n),i!==n?(e.length>pt?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(N)),o!==n?a=i=[i,o]:(pt=a,a=n)):(pt=a,a=n));if(a!==n)for(;a!==n;)r.push(a),45===e.charCodeAt(pt)?(a=Re,pt++):(a=n,0===vt&&Tt(Fe)),a===n&&(a=pt,i=pt,vt++,(o=Gt())===n&&(o=Yt()),vt--,o===n?i=void 0:(pt=i,i=n),i!==n?(e.length>pt?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(N)),o!==n?a=i=[i,o]:(pt=a,a=n)):(pt=a,a=n));else r=n;t=r!==n?e.substring(t,pt):r;vt--,t===n&&(r=n,0===vt&&Tt(lt));return t}()),t=r!==n?e.substring(t,pt):r,vt--,t===n&&(r=n,0===vt&&Tt(Ke)),t}function er(){var t,r,a,i,o;if(vt++,t=pt,48===e.charCodeAt(pt)?(r=$e,pt++):(r=n,0===vt&&Tt(et)),r!==n&&(ht=t,r=tt()),(t=r)===n){if(t=pt,r=pt,rt.test(e.charAt(pt))?(a=e.charAt(pt),pt++):(a=n,0===vt&&Tt(nt)),a!==n){for(i=[],at.test(e.charAt(pt))?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(it));o!==n;)i.push(o),at.test(e.charAt(pt))?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(it));i!==n?r=a=[a,i]:(pt=r,r=n)}else pt=r,r=n;r!==n&&(ht=t,r=ot(r)),t=r}return vt--,t===n&&(r=n,0===vt&&Tt(Je)),t}function tr(){var t,r,a,i,o;if(vt++,t=pt,r=[],a=pt,i=pt,vt++,(o=Gt())===n&&(o=Yt()),vt--,o===n?i=void 0:(pt=i,i=n),i!==n?(e.length>pt?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(N)),o!==n?a=i=[i,o]:(pt=a,a=n)):(pt=a,a=n),a!==n)for(;a!==n;)r.push(a),a=pt,i=pt,vt++,(o=Gt())===n&&(o=Yt()),vt--,o===n?i=void 0:(pt=i,i=n),i!==n?(e.length>pt?(o=e.charAt(pt),pt++):(o=n,0===vt&&Tt(N)),o!==n?a=i=[i,o]:(pt=a,a=n)):(pt=a,a=n);else r=n;return t=r!==n?e.substring(t,pt):r,vt--,t===n&&(r=n,0===vt&&Tt(st)),t}var rr=["root"];function nr(){return"plural"===rr[rr.length-1]}function ar(){return t&&t.captureLocation?{location:gt()}:{}}var ir=t&&t.ignoreTag,or=t&&t.shouldParseSkeleton;if((r=i())!==n&&pt===e.length)return r;throw r!==n&&pt<e.length&&Tt({type:"end"}),Ct(yt,dt<e.length?e.charAt(dt):null,dt<e.length?St(dt,dt+1):St(dt,dt))},Dt=/(^|[^\\])#/g;function Pt(e){e.forEach((function(e){(gt(e)||mt(e))&&Object.keys(e.options).forEach((function(t){for(var r,n=e.options[t],a=-1,i=void 0,o=0;o<n.value.length;o++){var s=n.value[o];if(ht(s)&&Dt.test(s.value)){a=o,i=s;break}}if(i){var l=i.value.replace(Dt,"$1{"+e.value+", number}"),u=Lt(l);(r=n.value).splice.apply(r,function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}([a,1],u))}Pt(n.value)}))}))}function zt(e,t){t=ut({normalizeHashtagInPlural:!0,shouldParseSkeleton:!0},t||{});var r=Lt(e,t);return t.normalizeHashtagInPlural&&Pt(r),r}var Ot,Nt=r(103),jt=r.n(Nt);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ot||(Ot={}));var Rt,Ft=function(e){function t(t,r,n){var a=e.call(this,t)||this;return a.code=r,a.originalMessage=n,a}return it(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),Bt=function(e){function t(t,r,n,a){return e.call(this,'Invalid values for "'+t+'": "'+r+'". Options are "'+Object.keys(n).join('", "')+'"',"INVALID_VALUE",a)||this}return it(t,e),t}(Ft),Ut=function(e){function t(t,r,n){return e.call(this,'Value for "'+t+'" must be of type '+r,"INVALID_VALUE",n)||this}return it(t,e),t}(Ft),Vt=function(e){function t(t,r){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+r+'"',"MISSING_VALUE",r)||this}return it(t,e),t}(Ft);function qt(e){return"function"==typeof e}function Wt(e,t){return t?Object.keys(e).reduce((function(r,n){var a,i;return r[n]=(a=e[n],(i=t[n])?ot(ot(ot({},a||{}),i||{}),Object.keys(a).reduce((function(e,t){return e[t]=ot(ot({},a[t]),i[t]||{}),e}),{})):a),r}),ot({},e)):e}function Gt(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Rt||(Rt={}));var Yt=jt.a||Nt;var Zt,Ht=function(){function e(t,r,n,a){var i,o=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&0===t.type&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return function e(t,r,n,a,i,o,s){if(1===t.length&&ht(t[0]))return[{type:0,value:t[0].value}];for(var l=[],u=0,c=t;u<c.length;u++){var p=c[u];if(ht(p))l.push({type:0,value:p.value});else if(_t(p))"number"==typeof o&&l.push({type:0,value:n.getNumberFormat(r).format(o)});else{var h=p.value;if(!(i&&h in i))throw new Vt(h,s);var f=i[h];if(ft(p))f&&"string"!=typeof f&&"number"!=typeof f||(f="string"==typeof f||"number"==typeof f?String(f):""),l.push({type:"string"==typeof f?0:1,value:f});else if(yt(p)){var d="string"==typeof p.style?a.date[p.style]:wt(p.style)?p.style.parsedOptions:void 0;l.push({type:0,value:n.getDateTimeFormat(r,d).format(f)})}else if(vt(p)){d="string"==typeof p.style?a.time[p.style]:wt(p.style)?p.style.parsedOptions:void 0;l.push({type:0,value:n.getDateTimeFormat(r,d).format(f)})}else if(dt(p)){d="string"==typeof p.style?a.number[p.style]:bt(p.style)?p.style.parsedOptions:void 0;l.push({type:0,value:n.getNumberFormat(r,d).format(f)})}else{if(xt(p)){var y=p.children,v=p.value,m=i[v];if(!qt(m))throw new Ut(v,"function",s);var g=m(e(y,r,n,a,i,o).map((function(e){return e.value})));Array.isArray(g)||(g=[g]),l.push.apply(l,g.map((function(e){return{type:"string"==typeof e?0:1,value:e}})))}if(mt(p)){if(!(_=p.options[f]||p.options.other))throw new Bt(p.value,f,Object.keys(p.options),s);l.push.apply(l,e(_.value,r,n,a,i))}else if(gt(p)){var _;if(!(_=p.options["="+f])){if(!Intl.PluralRules)throw new Ft('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API",s);var x=n.getPluralRules(r,{type:p.pluralType}).select(f-(p.offset||0));_=p.options[x]||p.options.other}if(!_)throw new Bt(p.value,f,Object.keys(p.options),s);l.push.apply(l,e(_.value,r,n,a,i,f-(p.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&0===r.type&&0===t.type?r.value+=t.value:e.push(t),e}),[])}(l)}(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1,ignoreTag:null==a?void 0:a.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Wt(e.formats,n),this.locales=r,this.formatters=a&&a.formatters||(void 0===(i=this.formatterCache)&&(i={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Yt((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,st([void 0],t)))}),{cache:Gt(i.number),strategy:Yt.strategies.variadic}),getDateTimeFormat:Yt((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,st([void 0],t)))}),{cache:Gt(i.dateTime),strategy:Yt.strategies.variadic}),getPluralRules:Yt((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,st([void 0],t)))}),{cache:Gt(i.pluralRules),strategy:Yt.strategies.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=zt,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(Zt||(Zt={}));var Qt=function(e){function t(r,n,a){var i=e.call(this,"[@formatjs/intl Error "+r+"] "+n+" \n"+(a?"\n"+a.message+"\n"+a.stack:""))||this;return i.code=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return tt(t,e),t}(Error),Xt=function(e){function t(t,r){return e.call(this,"UNSUPPORTED_FORMATTER",t,r)||this}return tt(t,e),t}(Qt),Kt=function(e){function t(t,r){return e.call(this,"INVALID_CONFIG",t,r)||this}return tt(t,e),t}(Qt),Jt=function(e){function t(t,r){return e.call(this,"MISSING_DATA",t,r)||this}return tt(t,e),t}(Qt),$t=function(e){function t(t,r,n,a){var i=e.call(this,"FORMAT_ERROR",t+" \nLocale: "+r+"\nMessageID: "+(null==n?void 0:n.id)+"\nDefault Message: "+(null==n?void 0:n.defaultMessage)+"\nDescription: "+(null==n?void 0:n.description)+" \n",a)||this;return i.descriptor=n,i}return tt(t,e),t}(Qt),er=function(e){function t(t,r){var n=e.call(this,"MISSING_TRANSLATION",'Missing message: "'+t.id+'" for locale "'+r+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return n.descriptor=t,n}return tt(t,e),t}(Qt);function tr(e,t,r){return void 0===r&&(r={}),t.reduce((function(t,n){return n in e?t[n]=e[n]:n in r&&(t[n]=r[n]),t}),{})}var rr={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function nr(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}var ar=jt.a||Nt;function ir(e,t,r,n){var a,i=e&&e[t];if(i&&(a=i[r]),a)return a;n(new Xt("No "+t+" format named: "+r))}function or(e){$e(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var sr=Qe(Qe({},rr),{textComponent:i.Fragment});Je.a.default||Je.a;var lr=i.createContext(null),ur=(lr.Consumer,lr.Provider),cr=lr;function pr(){var e=i.useContext(cr);return or(e),e}var hr=r(74),fr=r.n(hr);function dr(e){var t=e.children,r=e.height,n=void 0===r?24:r,a=e.width,i=void 0===a?24:a,s=e.viewBox,l=void 0===s?"0 0 24 24":s,u=fr()(e),c=void 0===u?"none":u,p=e.className;return o.a.createElement("svg",{height:n,width:i,viewBox:l,fill:c,className:p},t)}function yr(e){var t=e.inverse,r=void 0!==t&&t,n=v()(e,["inverse"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z",fill:r?"white":"black"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function vr(e){var t=e.inverse,r=void 0!==t&&t,n=v()(e,["inverse"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M8 5v14l11-7z",fill:r?"white":"black"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}var mr="#245EAC",gr="#FFFFFF",_r="#808080",xr=mr;function br(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function wr(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Mr(e){return o.a.createElement(dr,_e()({fill:"#000000"},e),o.a.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Er(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,_e()({fill:"#000000"},n),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("circle",{cx:"6.18",cy:"17.82",r:"2.18",fill:r}),o.a.createElement("path",{d:"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z",fill:r}))}function Sr(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Tr(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Cr(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M19 13H5v-2h14v2z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Ir(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Ar(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z",fill:r}))}r(280);r(281);r(282);r(283);r(284);function kr(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"m14.31.224c-1.525-.299-3.095-.299-4.62 0l-.485 2.857c-1.313.411-2.519 1.107-3.532 2.039l-2.716-1.009c-1.022 1.172-1.806 2.531-2.31 4.002l2.231 1.848c-.3 1.343-.3 2.735 0 4.078l-2.231 1.848c.504 1.471 1.288 2.83 2.31 4.002l2.716-1.009c1.013.932 2.219 1.628 3.532 2.039l.485 2.857c1.525.299 3.095.299 4.62 0l.485-2.857c1.313-.411 2.519-1.107 3.532-2.039l2.716 1.009c1.022-1.172 1.806-2.531 2.31-4.002l-2.231-1.848c.3-1.343.3-2.735 0-4.078l2.231-1.848c-.504-1.471-1.288-2.83-2.31-4.002l-2.716 1.009c-1.013-.932-2.219-1.628-3.532-2.039l-.485-2.857zm-2.31 6.861c2.713 0 4.915 2.202 4.915 4.915s-2.202 4.915-4.915 4.915-4.915-2.202-4.915-4.915 2.202-4.915 4.915-4.915z",fill:r}))}var Lr=r(186),Dr=r.n(Lr);function Pr(e){var t=e.link,r=e.title,n=e.children,a=e.className,i=pr(),s=function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=Ve()(Nr);!(t=(a=i.next()).done);t=!0){var o=Ce()(a.value,2),s=o[0];if(o[1].test(e))return s}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return null}(t),l=jr.get(s);return r?"function"==typeof r&&(r=r(l)):r=i.formatMessage({id:"iUn2hD",defaultMessage:[{type:0,value:"Visit on "},{type:1,value:"name"},{type:0,value:"."}]}),o.a.createElement("a",{className:Ye()(Dr.a.Item,a),target:"_blank",href:t,title:r},Rr.get(s),n)}function zr(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("div",_e()({},r,{className:Dr.a.Set}),t)}function Or(e){return We()(Fr,(function(t){var r=Ce()(t,2);r[0];return(0,r[1])(e)}))}var Nr=new Be.a([["FACEBOOK",/facebook.com/],["TWITTER",/twitter.com/],["INSTAGRAM",/instagram.com/],["VIMEO",/vimeo.com/]]),jr=new Be.a([["FACEBOOK","Facebook"],["TWITTER","Twitter"],["INSTAGRAM","Instagram"],["VIMEO","Vimeo"],[null,"Internet"]]),Rr=new Be.a([["FACEBOOK",o.a.createElement((function(e){return o.a.createElement(dr,_e()({viewBox:"0 0 266.893 266.895"},e),o.a.createElement("path",{fill:"#3C5A99",d:"M248.082,262.307c7.854,0,14.223-6.369,14.223-14.225V18.812 c0-7.857-6.368-14.224-14.223-14.224H18.812c-7.857,0-14.224,6.367-14.224,14.224v229.27c0,7.855,6.366,14.225,14.224,14.225 H248.082z"}),o.a.createElement("path",{fill:"#FFFFFF",d:"M182.409,262.307v-99.803h33.499l5.016-38.895h-38.515V98.777c0-11.261,3.127-18.935,19.275-18.935 l20.596-0.009V45.045c-3.562-0.474-15.788-1.533-30.012-1.533c-29.695,0-50.025,18.126-50.025,51.413v28.684h-33.585v38.895h33.585 v99.803H182.409z"}))}),null)],["TWITTER",o.a.createElement((function(e){return o.a.createElement(dr,_e()({},e,{viewBox:"0 0 335 276",fill:"#55ACEE"}),o.a.createElement("path",{d:"m302 70a195 195 0 0 1 -299 175 142 142 0 0 0 97 -30 70 70 0 0 1 -58 -47 70 70 0 0 0 31 -2 70 70 0 0 1 -57 -66 70 70 0 0 0 28 5 70 70 0 0 1 -18 -90 195 195 0 0 0 141 72 67 67 0 0 1 116 -62 117 117 0 0 0 43 -17 65 65 0 0 1 -31 38 117 117 0 0 0 39 -11 65 65 0 0 1 -32 35"}))}),null)],["INSTAGRAM",o.a.createElement((function(e){return o.a.createElement(dr,_e()({},e,{viewBox:"0 0 551.034 551.034"}),o.a.createElement("g",null,o.a.createElement("linearGradient",{id:"gradient1",gradientUnits:"userSpaceOnUse",x1:"275.517",y1:"4.57",x2:"275.517",y2:"549.72",gradientTransform:"matrix(1 0 0 -1 0 554)"},o.a.createElement("stop",{offset:"0",style:{stopColor:"#E09B3D"}}),o.a.createElement("stop",{offset:"0.3",style:{stopColor:"#C74C4D"}}),o.a.createElement("stop",{offset:"0.6",style:{stopColor:"#C21975"}}),o.a.createElement("stop",{offset:"1",style:{stopColor:"#7024C4"}})),o.a.createElement("path",{style:{fill:"url(#gradient1)"},d:"M386.878,0H164.156C73.64,0,0,73.64,0,164.156v222.722 c0,90.516,73.64,164.156,164.156,164.156h222.722c90.516,0,164.156-73.64,164.156-164.156V164.156 C551.033,73.64,477.393,0,386.878,0z M495.6,386.878c0,60.045-48.677,108.722-108.722,108.722H164.156 c-60.045,0-108.722-48.677-108.722-108.722V164.156c0-60.046,48.677-108.722,108.722-108.722h222.722 c60.045,0,108.722,48.676,108.722,108.722L495.6,386.878L495.6,386.878z"}),o.a.createElement("linearGradient",{id:"gradient2",gradientUnits:"userSpaceOnUse",x1:"275.517",y1:"4.57",x2:"275.517",y2:"549.72",gradientTransform:"matrix(1 0 0 -1 0 554)"},o.a.createElement("stop",{offset:"0",style:{stopColor:"#E09B3D"}}),o.a.createElement("stop",{offset:"0.3",style:{stopColor:"#C74C4D"}}),o.a.createElement("stop",{offset:"0.6",style:{stopColor:"#C21975"}}),o.a.createElement("stop",{offset:"1",style:{stopColor:"#7024C4"}})),o.a.createElement("path",{style:{fill:"url(#gradient2)"},d:"M275.517,133C196.933,133,133,196.933,133,275.516s63.933,142.517,142.517,142.517 S418.034,354.1,418.034,275.516S354.101,133,275.517,133z M275.517,362.6c-48.095,0-87.083-38.988-87.083-87.083 s38.989-87.083,87.083-87.083c48.095,0,87.083,38.988,87.083,87.083C362.6,323.611,323.611,362.6,275.517,362.6z"}),o.a.createElement("linearGradient",{id:"gradient3",gradientUnits:"userSpaceOnUse",x1:"418.31",y1:"4.57",x2:"418.31",y2:"549.72",gradientTransform:"matrix(1 0 0 -1 0 554)"},o.a.createElement("stop",{offset:"0",style:{stopColor:"#E09B3D"}}),o.a.createElement("stop",{offset:"0.3",style:{stopColor:"#C74C4D"}}),o.a.createElement("stop",{offset:"0.6",style:{stopColor:"#C21975"}}),o.a.createElement("stop",{offset:"1",style:{stopColor:"#7024C4"}})),o.a.createElement("circle",{style:{fill:"url(#gradient3)"},cx:"418.31",cy:"134.07",r:"34.15"})))}),null)],["VIMEO",o.a.createElement((function(e){return o.a.createElement(dr,_e()({},e,{fill:"#1AB7EA",viewBox:"0 0 20.847 20.847"}),o.a.createElement("path",{fill:"white",d:"M17.811,2.018c2.017,0.053,3.026,1.198,3.036,3.438c0,0.147-0.005,0.3-0.013,0.457c-0.089,1.899-1.502,4.486-4.245,7.76c-2.829,3.43-5.229,5.147-7.2,5.156c-1.226,0-2.244-1.05-3.061-3.151l-0.858-2.88L4.622,9.922C3.997,7.838,3.329,6.798,2.616,6.798   c-0.156,0-0.697,0.304-1.626,0.91L0,6.537l1.536-1.276l1.511-1.263C4.4,2.914,5.429,2.328,6.135,2.241   c0.094-0.01,0.188-0.013,0.284-0.013c1.449,0,2.354,1.041,2.709,3.124C9.326,6.54,9.49,7.506,9.623,8.248   C9.752,8.992,9.86,9.51,9.946,9.805c0.479,1.97,0.995,2.96,1.55,2.968c0.426,0,1.082-0.642,1.968-1.926   c0.866-1.319,1.332-2.296,1.392-2.932c0.019-0.129,0.026-0.25,0.026-0.362c0-0.861-0.474-1.29-1.418-1.29   c-0.479,0-0.99,0.102-1.537,0.299c0.98-3.021,2.864-4.534,5.65-4.544C17.655,2.018,17.732,2.018,17.811,2.018z"}))}),null)],[null,o.a.createElement((function(e){var t=e.inverse,r=void 0!==t&&t,n=v()(e,["inverse"]);return o.a.createElement(dr,_e()({},n,{viewBox:"0 0 24 24",fill:r?"white":"black"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}))}),null)]]),Fr=new Be.a([["FACEBOOK",function(e){return"https://www.facebook.com/sharer.php?u=".concat(e)}],["TWITTER",function(e){return"https://twitter.com/intent/tweet?url=".concat(e)}]]),Br=r(106),Ur=r.n(Br),Vr=r(104),qr=r.n(Vr),Wr=qr.a||Vr,Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return He(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,r=t.values,n=Xe(t,["values"]),a=e.values,i=Xe(e,["values"]);return!Wr(a,r)||!Wr(n,i)},t.prototype.render=function(){var e=this;return i.createElement(cr.Consumer,null,(function(t){or(t);var r=t.formatMessage,n=t.textComponent,a=void 0===n?i.Fragment:n,o=e.props,s=o.id,l=o.description,u=o.defaultMessage,c=o.values,p=o.children,h=o.tagName,f=void 0===h?a:h,d=r({id:s,description:l,defaultMessage:u},c);return Array.isArray(d)||(d=[d]),"function"==typeof p?p(d):f?i.createElement.apply(i,function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}([f,null],d)):d}))},t.displayName="FormattedMessage",t}(i.Component);function Yr(e){var t=e.children;return o.a.createElement("nav",{className:Ur.a.Sidebar},t)}function Zr(e){var t=e.label,r=e.children;return o.a.createElement("div",{className:Ur.a.SocialItem},t&&o.a.createElement("span",{className:Ur.a.Label},t),r)}function Hr(e){var t=e.url,r=pr().formatMessage({id:"N3I9BQ",defaultMessage:[{type:0,value:"Subscribe to our RSS Feed"}]});return o.a.createElement(Zr,null,o.a.createElement("a",{href:t,target:"_blank",title:r},o.a.createElement(Gr,{id:"wR6Gt2",defaultMessage:[{type:0,value:"RSS Feed"}]})," ",o.a.createElement(Er,null)))}function Qr(e){var t=e.label,r=e.url,n=void 0===r?document.location.href:r,a=pr(),i=Or(n);function s(e){return a.formatMessage({id:"HGGdGz",defaultMessage:[{type:0,value:"Share this page on "},{type:1,value:"name"}]})}return t=t||a.formatMessage({id:"Xzbf14",defaultMessage:[{type:0,value:"Share this page"}]}),o.a.createElement(Zr,{label:t},be()(i).call(i,(function(e){return o.a.createElement(Pr,{key:e,link:e,title:s})})))}function Xr(e){var t=e.url,r=pr().formatMessage({id:"owr/bM",defaultMessage:[{type:0,value:"Print this forecast bulletin"}]});return o.a.createElement(Zr,null,o.a.createElement("a",{href:t,target:"printable-forecast",title:r},o.a.createElement(Gr,{id:"iXC6aX",defaultMessage:[{type:0,value:"Printable version"}]})," ",o.a.createElement(Ir,null)))}function Kr(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("div",_e()({},r,{className:Ur.a.Item}),t)}function Jr(e){var t=e.children;return o.a.createElement("header",{className:Ur.a.Header},t)}function $r(e){var t=e.label,r=void 0===t?o.a.createElement(Gr,{id:"l1XTI5",defaultMessage:[{type:0,value:"Follow us"}]}):t,n=e.urls,a=void 0===n?tn:n,i=pr();function s(e){return i.formatMessage({id:"iWgEgL",defaultMessage:[{type:1,value:"label"},{type:0,value:" on "},{type:1,value:"name"}]})}return o.a.createElement(Zr,{label:r},be()(a).call(a,(function(e){return o.a.createElement(Pr,{key:e,link:e,title:s})})))}function en(e){return o.a.createElement(Zr,null,o.a.createElement(Re,e,o.a.createElement(Gr,{id:"jOywnT",defaultMessage:[{type:0,value:"Contact us"}]})," ",o.a.createElement(Mr,{fill:"#245EAC"})))}var tn=["https://www.facebook.com/avalanchecanada","https://twitter.com/avalancheca","https://instagram.com/avalanchecanada"];function rn(e,t){return Object.keys(e).reduce((function(r,n){return r[n]=rt({timeZone:t},e[n]),r}),{})}function nn(e,t){return Object.keys(rt(rt({},e),t)).reduce((function(r,n){return r[n]=rt(rt({},e[n]||{}),t[n]||{}),r}),{})}function an(e,t){if(!t)return e;var r=Ht.formats;return rt(rt(rt({},r),e),{date:nn(rn(r.date,t),rn(e.date||{},t)),time:nn(rn(r.time,t),rn(e.time||{},t))})}function on(e,t,r,n){var a=e.locale,i=e.formats,o=e.messages,s=e.defaultLocale,l=e.defaultFormats,u=e.onError,c=e.timeZone,p=e.defaultRichTextElements;void 0===r&&(r={id:""});var h=r.id,f=r.defaultMessage;$e(!!h,"[@formatjs/intl] An `id` must be provided to format a message.");var d=String(h),y=o&&Object.prototype.hasOwnProperty.call(o,d)&&o[d];if(Array.isArray(y)&&1===y.length&&y[0].type===ct.literal)return y[0].value;if(!n&&y&&"string"==typeof y&&p&&console.error('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution'),!n&&y&&"string"==typeof y&&!p)return y.replace(/'\{(.*?)\}'/gi,"{$1}");if(n=rt(rt({},p),n||{}),i=an(i,c),l=an(l,c),!y){if((!f||a&&a.toLowerCase()!==s.toLowerCase())&&u(new er(r,a)),f)try{return t.getMessageFormat(f,s,l).format(n)}catch(e){return u(new $t('Error formatting default message for: "'+d+'", rendering default message verbatim',a,r,e)),"string"==typeof f?f:d}return d}try{return t.getMessageFormat(y,a,i,{formatters:t}).format(n)}catch(e){u(new $t('Error formatting message: "'+d+'", using '+(f?"default message":"id")+" as fallback.",a,r,e))}if(f)try{return t.getMessageFormat(f,s,l).format(n)}catch(e){u(new $t('Error formatting the default message for: "'+d+'", rendering message verbatim',a,r,e))}return"string"==typeof y?y:"string"==typeof f?f:d}var sn=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function ln(e,t,r){var n=e.locale,a=e.formats,i=e.onError;void 0===r&&(r={});var o=r.format,s=o&&ir(a,"number",o,i)||{};return t(n,tr(r,sn,s))}function un(e,t,r,n){void 0===n&&(n={});try{return ln(e,t,n).format(r)}catch(t){e.onError(new Qt("FORMAT_ERROR","Error formatting number.",t))}return String(r)}function cn(e,t,r,n){void 0===n&&(n={});try{return ln(e,t,n).formatToParts(r)}catch(t){e.onError(new Qt("FORMAT_ERROR","Error formatting number.",t))}return[]}var pn=["numeric","style"];function hn(e,t,r,n,a){void 0===a&&(a={}),n||(n="second"),Intl.RelativeTimeFormat||e.onError(new Ft('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',"MISSING_INTL_API"));try{return function(e,t,r){var n=e.locale,a=e.formats,i=e.onError;void 0===r&&(r={});var o=r.format,s=!!o&&ir(a,"relative",o,i)||{};return t(n,tr(r,pn,s))}(e,t,a).format(r,n)}catch(t){e.onError(new $t("Error formatting relative time.",t))}return String(r)}var fn=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","fractionalSecondDigits","calendar","numberingSystem"];function dn(e,t,r,n){var a=e.locale,i=e.formats,o=e.onError,s=e.timeZone;void 0===n&&(n={});var l=n.format,u=rt(rt({},s&&{timeZone:s}),l&&ir(i,t,l,o)),c=tr(n,fn,u);return"time"!==t||c.hour||c.minute||c.second||(c=rt(rt({},c),{hour:"numeric",minute:"numeric"})),r(a,c)}function yn(e,t,r,n){void 0===n&&(n={});var a="string"==typeof r?new Date(r||0):r;try{return dn(e,"date",t,n).format(a)}catch(t){e.onError(new Qt("FORMAT_ERROR","Error formatting date.",t))}return String(a)}function vn(e,t,r,n){void 0===n&&(n={});var a="string"==typeof r?new Date(r||0):r;try{return dn(e,"time",t,n).format(a)}catch(t){e.onError(new Qt("FORMAT_ERROR","Error formatting time.",t))}return String(a)}function mn(e,t,r,n){void 0===n&&(n={});var a="string"==typeof r?new Date(r||0):r;try{return dn(e,"date",t,n).formatToParts(a)}catch(t){e.onError(new Qt("FORMAT_ERROR","Error formatting date.",t))}return[]}function gn(e,t,r,n){void 0===n&&(n={});var a="string"==typeof r?new Date(r||0):r;try{return dn(e,"time",t,n).formatToParts(a)}catch(t){e.onError(new Qt("FORMAT_ERROR","Error formatting time.",t))}return[]}var _n=["localeMatcher","type"];function xn(e,t,r,n){var a=e.locale,i=e.onError;void 0===n&&(n={}),Intl.PluralRules||i(new Ft('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API"));var o=tr(n,_n);try{return t(a,o).select(r)}catch(e){i(new $t("Error formatting plural.",e))}return"other"}var bn=["localeMatcher","type","style"],wn=Date.now();function Mn(e,t,r,n){var a=e.locale,i=e.onError;void 0===n&&(n={}),Intl.ListFormat||i(new Ft('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',"MISSING_INTL_API"));var o=tr(n,bn);try{var s={},l=r.map((function(e,t){if("object"==typeof e){var r=function(e){return wn+"_"+e+"_"+wn}(t);return s[r]=e,r}return String(e)}));return Object.keys(s).length?t(a,o).formatToParts(l).reduce((function(e,t){var r=t.value;return s[r]?e.push(s[r]):"string"==typeof e[e.length-1]?e[e.length-1]+=r:e.push(r),e}),[]):t(a,o).format(l)}catch(e){i(new Qt("FORMAT_ERROR","Error formatting list.",e))}return r}var En=["localeMatcher","style","type","fallback"];function Sn(e,t,r,n){var a=e.locale,i=e.onError;Intl.DisplayNames||i(new Ft('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',"MISSING_INTL_API"));var o=tr(n,En);try{return t(a,o).of(r)}catch(e){i(new Qt("FORMAT_ERROR","Error formatting display name.",e))}}function Tn(e,t){var r=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,n=Intl.DisplayNames,a=ar((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,nt([void 0],t)))}),{cache:nr(e.dateTime),strategy:ar.strategies.variadic}),i=ar((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,nt([void 0],t)))}),{cache:nr(e.number),strategy:ar.strategies.variadic}),o=ar((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,nt([void 0],t)))}),{cache:nr(e.pluralRules),strategy:ar.strategies.variadic});return{getDateTimeFormat:a,getNumberFormat:i,getMessageFormat:ar((function(e,t,r,n){return new Ht(e,t,r,rt({formatters:{getNumberFormat:i,getDateTimeFormat:a,getPluralRules:o}},n||{}))}),{cache:nr(e.message),strategy:ar.strategies.variadic}),getRelativeTimeFormat:ar((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return new(t.bind.apply(t,nt([void 0],e)))}),{cache:nr(e.relativeTime),strategy:ar.strategies.variadic}),getPluralRules:o,getListFormat:ar((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,nt([void 0],e)))}),{cache:nr(e.list),strategy:ar.strategies.variadic}),getDisplayNames:ar((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,nt([void 0],e)))}),{cache:nr(e.displayNames),strategy:ar.strategies.variadic})}}(t),n=rt(rt({},rr),e),a=n.locale,i=n.defaultLocale,o=n.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&o?o(new Jt('Missing locale data for locale: "'+a+'" in Intl.NumberFormat. Using default locale: "'+i+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&o&&o(new Jt('Missing locale data for locale: "'+a+'" in Intl.DateTimeFormat. Using default locale: "'+i+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(o&&o(new Kt('"locale" was not configured, using "'+i+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),n.locale=n.defaultLocale||"en"),rt(rt({},n),{formatters:r,formatNumber:un.bind(null,n,r.getNumberFormat),formatNumberToParts:cn.bind(null,n,r.getNumberFormat),formatRelativeTime:hn.bind(null,n,r.getRelativeTimeFormat),formatDate:yn.bind(null,n,r.getDateTimeFormat),formatDateToParts:mn.bind(null,n,r.getDateTimeFormat),formatTime:vn.bind(null,n,r.getDateTimeFormat),formatTimeToParts:gn.bind(null,n,r.getDateTimeFormat),formatPlural:xn.bind(null,n,r.getPluralRules),formatMessage:on.bind(null,n,r),formatList:Mn.bind(null,n,r.getListFormat),formatDisplayName:Sn.bind(null,n,r.getDisplayNames)})}var Cn=qr.a||Vr;function In(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function An(e){return e?Object.keys(e).reduce((function(t,r){var n,a=e[r];return t[r]=qt(a)?(n=a,function(e){return n(i.Children.toArray(e))}):a,t}),{}):e}var kn=function(e,t,r,n){var a=on(e,t,r,An(n));return Array.isArray(a)?i.Children.toArray(a):a},Ln=function(e,t){var r=e.defaultRichTextElements,n=Xe(e,["defaultRichTextElements"]),a=An(r),i=Tn(Qe(Qe({},sr),n),t);return Qe(Qe({},i),{formatMessage:kn.bind(null,{locale:i.locale,timeZone:i.timeZone,formats:i.formats,defaultLocale:i.defaultLocale,defaultFormats:i.defaultFormats,messages:i.messages,onError:i.onError,defaultRichTextElements:a},i.formatters)})},Dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t.state={cache:t.cache,intl:Ln(In(t.props),t.cache),prevConfig:In(t.props)},t}return He(t,e),t.getDerivedStateFromProps=function(e,t){var r=t.prevConfig,n=t.cache,a=In(e);return Cn(r,a)?null:{intl:Ln(a,n),prevConfig:a}},t.prototype.render=function(){return or(this.state.intl),i.createElement(ur,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=sr,t}(i.PureComponent),Pn=r(40),zn=r.n(Pn),On=r(69),Nn=r.n(On);function jn(){return(jn=Nn()(zn.a.mark((function e(t){var n;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.match(/^fr/i)){e.next=6;break}return e.next=3,Promise.resolve().then(r.t.bind(null,317,3));case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,Promise.resolve().then(r.t.bind(null,318,3));case 8:n=e.sent;case 9:return e.abrupt("return",n.default);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rn=r(19),Fn=r.n(Rn),Bn=r(20),Un=r.n(Bn),Vn=r(14),qn=r.n(Vn),Wn=r(13),Gn=r.n(Wn),Yn=r(15),Zn=r.n(Yn),Hn=r(16),Qn=r.n(Hn),Xn=r(5),Kn=r.n(Xn),Jn=(r(285),r(286),r(97)),$n=r.n(Jn),ea=r(151),ta=r.n(ea),ra=r(287),na=r.n(ra),aa=r(124),ia=r.n(aa),oa=r(56),sa=r.n(oa),la=r(68),ua=r.n(la),ca=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return new pa};sa()(this,e);try{var r=t();r.setItem("99999","99999"),r.removeItem("99999"),this.storage=r}catch(e){this.storage=new pa}}return ua()(e,[{key:"get",value:function(e,t){var r=this.storage.getItem(e);try{return r?JSON.parse(r):t}catch(e){return r||t}}},{key:"set",value:function(e,t){return t="object"===ia()(t)?na()(t):t,this.storage.setItem(e,t)}},{key:"has",value:function(e){return this.storage.hasOwnProperty(e)}},{key:"remove",value:function(e){return this.storage.removeItem(e)}}]),e}(),pa=function(){function e(){sa()(this,e),this.content=new Be.a}return ua()(e,[{key:"getItem",value:function(e,t){return this.content.has(e)?this.content.get(e):t}},{key:"setItem",value:function(e,t){this.content.set(e,t)}},{key:"removeItem",value:function(e){this.content.delete(e)}},{key:"hasOwnProperty",value:function(e){return this.content.has(e)}}]),e}(),ha=new ca((function(){return window.localStorage})),fa=(new ca((function(){return window.sessionStorage})),window.Sentry||{init:function(){},withScope:function(){},captureException:function(){},captureMessage:function(){}});function da(e){var t=ya(e),r=Ce()(t,2),n=r[0],a=r[1],o=Object(i.useCallback)((function(){a(!0)}),[]),s=Object(i.useCallback)((function(){a(!1)}),[]),l=Object(i.useCallback)((function(){a(e)}),[]);return[n,o,s,a,l]}function ya(e){var t=Object(i.useState)(e),r=Ce()(t,2),n=r[0],a=r[1];return[n,Object(i.useCallback)((function(e){a("boolean"==typeof e?e:function(e){return!e})}),[])]}function va(){var e,t,r,n,a,o,s,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,u=(e=ba(),t=xa(),r=Object(i.useState)(e),n=Ce()(r,2),a=n[0],o=n[1],s=Object(i.useCallback)((function(e){t.current&&o(e)}),[]),[a,s]),c=Ce()(u,2),p=c[0],h=c[1],f=Object(i.useCallback)(ta()((function(){h(ba())}),l),[l]);return ma("resize",f),ma("orientationchange",f),p}function ma(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;Object(i.useEffect)((function(){if(null!==r&&r.addEventListener&&"function"==typeof t)return r.addEventListener(e,t,!1),function(){r.removeEventListener(e,t,!1)}}),[e,r,t])}function ga(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Object(i.useState)((function(){return e.get(t,r)})),a=Ce()(n,2),o=a[0],s=a[1];return Object(i.useEffect)((function(){e.set(t,o)}),[o]),[o,s]}function _a(e){var t=Object(i.useState)(e),r=Ce()(t,2),n=r[0],a=r[1],o=Object(i.useRef)(null),s=Object(i.useCallback)((function(e){e&&(a(e.getBoundingClientRect()),o.current=e)}),[]);return Object(i.useEffect)((function(){o.current&&a(o.current.getBoundingClientRect())}),[va()]),[n,s]}function xa(){var e=Object(i.useRef)(!1);return Object(i.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function ba(){return{height:window.innerHeight,width:window.innerWidth}}var wa=r(23),Ma=r.n(wa),Ea="Tertiary",Sa="Incognito",Ta="Subtile",Ca=(new Ma.a(["Primary","Secondary",Ea,Sa,Ta]),"Primary"),Ia=r(52),Aa=r.n(Ia),ka="LEFT",La="RIGHT";var Da=Object(i.memo)((function(e){var t,r=e.kind,n=void 0===r?Ca:r,a=e.active,i=void 0!==a&&a,s=e.shadow,l=void 0!==s&&s,u=e.large,c=void 0!==u&&u,p=e.chevron,h=e.children,f=v()(e,["kind","active","shadow","large","chevron","children"]),d=Ye()(f.className,(t={},Kn()(t,Aa.a[n],!0),Kn()(t,Aa.a.Active,i),Kn()(t,Aa.a.Shadow,l),Kn()(t,Aa.a.Large,c),Kn()(t,Aa.a.ChevronLeft,p===ka),Kn()(t,Aa.a.ChevronRight,p===La),Kn()(t,Aa.a.Chevron,!0===p),t));return o.a.createElement("button",_e()({type:"button"},f,{className:d}),h)}));function Pa(e){var t=e.chevron,r=void 0!==t&&t,n=e.expanded,a=void 0!==n&&n,i=e.color,s=v()(e,["chevron","expanded","color"]),l=za.get(r).get(a);return o.a.createElement(Da,_e()({kind:Ta},s),o.a.createElement(l,{color:i}))}var za=new Be.a([[!0,new Be.a([[!0,Tr],[!1,Sr]])],[!1,new Be.a([[!0,Cr],[!1,function(e){var t=e.color,r=void 0===t?xr:t,n=v()(e,["color"]);return o.a.createElement(dr,n,o.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",fill:r}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}]])]]),Oa=r(125),Na=r.n(Oa),ja=r(50),Ra=r.n(ja),Fa=r(34),Ba=r.n(Fa),Ua=r(12),Va=r.n(Ua);function qa(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}var Wa={weekday:"long",year:"numeric",month:"long",day:"numeric"},Ga=function(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=qa(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=qa(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}({},Wa,{},{hour:"numeric",minute:"numeric",hour12:!1}),Ya="en-CA",Za="fr-CA",Ha=Ya,Qa=new Ma.a([Ya,Za]),Xa=new Be.a([[Ya,"English"],[Za,"Français"]]);var Ka="asc",Ja="desc",$a="none",ei=[$a,Ka,Ja];function ti(e){var t,r=e.sorting,n=void 0===r?$a:r,a=e.onChange,s=void 0===a?Ra.a:a,l=ri.get(n),u=(t=pr(),Object(i.useMemo)((function(){return new Be.a([[Ka,t.formatMessage({id:"f8z90J",defaultMessage:[{type:0,value:"Ascending"}]})],[Ja,t.formatMessage({id:"bZ1WF2",defaultMessage:[{type:0,value:"Descending"}]})],[$a,null]])}),[t.locale])).get(n);return o.a.createElement(Da,{onClick:function(){var e;s((e=n,ei[Na()(ei).call(ei,e.toLowerCase())+1]||ei[0]))},kind:Ta,title:u},o.a.createElement(l,null))}var ri=new Be.a([[Ka,Tr],[Ja,Sr],[$a,Cr]]);function ni(e){var t=e.children,r=void 0===t?"×":t,n=v()(e,["children"]);return o.a.createElement(Da,_e()({kind:Ta},n,{className:Ye()(Aa.a.Close,n.className)}),r)}function ai(e){var t=e.children;return o.a.createElement("div",{className:Aa.a.Set},t)}function ii(e){return o.a.createElement(Da,_e()({},e,{type:"submit"}))}function oi(){}function si(){return!0}var li=Object(i.createContext)();function ui(){return Object(i.useContext)(li)}function ci(){return ui().locale}function pi(){return ci().substr(0,2)}function hi(e){var t,r=e.children,n=e.defaultLocale,a=ga(ha,"locale",t),s=Ce()(a,2),l=s[0],u=s[1],c=Object(i.useState)(n||l||navigator.language||Ha),p=Ce()(c,2),h=p[0],f=p[1],d=Object(i.useMemo)((function(){return{locale:h,set:function(e){f(e),u(e)}}}),[h]),y=Object(i.useState)(null),v=Ce()(y,2),m=v[0],g=v[1];return Object(i.useEffect)((function(){(function(e){return jn.apply(this,arguments)})(h).then(g)}),[h]),o.a.createElement(li.Provider,{value:d},m&&o.a.createElement(Dn,{onError:oi,key:h,locale:h,messages:m,defaultLocale:Ha},r))}function fi(e){var t=e.children,r=e.value;return(void 0===r?Za:r)===ci()?t:null}function di(){var e=ui(),t=e.locale,r=e.set;return We()(Qa,(function(e){return o.a.createElement(Da,{key:e,disabled:e===t,onClick:function(){return r(e)}},Xa.get(e))}))}function yi(e){var t=e.isPrintable,r=v()(e,["isPrintable"]);return o.a.createElement(Yr,r,o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/weather"},o.a.createElement(Gr,{id:"nDlutf",defaultMessage:[{type:0,value:"Your daily Mountain Weather Forecast"}]}))),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/mountain-information-network/submit"},o.a.createElement(Gr,{id:"wKQ3vV",defaultMessage:[{type:0,value:"Submit a Mountain Information Report"}]}))),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/blogs"},o.a.createElement(Gr,{id:"nRbl1m",defaultMessage:[{type:0,value:"Visit our Blog"}]}))),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/forecasts/archives"},o.a.createElement(Gr,{id:"EYGWzB",defaultMessage:[{type:0,value:"Forecast Archive"}]}))),o.a.createElement($r,null),o.a.createElement(Qr,null),o.a.createElement(en,{email:Ee}),o.a.createElement(Hr,{url:gi("rss")}),t&&o.a.createElement(Xr,{url:gi("html")}))}function vi(){var e="avalanche.safety@gov.ab.ca",t=pr();return o.a.createElement(Yr,null,o.a.createElement(Kr,null,o.a.createElement(Gr,{id:"BNaSG0",defaultMessage:[{type:0,value:"This Avalanche Bulletin is produced by avalanche forecasters within the Government of Alberta, Kananaskis Country Public Safety Program."}]})),o.a.createElement(Jr,null,o.a.createElement(Gr,{id:"unv0Z7",defaultMessage:[{type:0,value:"Contact"}]})),o.a.createElement(Kr,null,o.a.createElement(Re,{email:e,title:t.formatMessage({id:"2gVYHB",defaultMessage:[{type:0,value:"Email the Kananaskis Country Public Safety Section"}]})})),o.a.createElement(Kr,null,o.a.createElement(Gr,{id:"qU8wXd",defaultMessage:[{type:8,value:"phone",children:[{type:0,value:"403-679-3511"}]},{type:0,value:" is the Public Safety office phone number (weekdays)"}],values:{phone:function(e){return o.a.createElement(je,{phone:e})}}})),o.a.createElement(Kr,null,o.a.createElement(Gr,{id:"cnbRxD",defaultMessage:[{type:8,value:"phone",children:[{type:0,value:"403-591-7755"}]},{type:0,value:" is the dispatch office non-emergency line"}],values:{phone:function(e){return o.a.createElement(je,{phone:e})}}})),o.a.createElement(Kr,null,o.a.createElement(Gr,{id:"AVbrfN",defaultMessage:[{type:8,value:"phone",children:[{type:0,value:"911"}]},{type:0,value:" for backcountry rescues and tell them you are in Kananaskis Country"}],values:{phone:function(e){return o.a.createElement(je,{phone:e})}}})),o.a.createElement(Jr,null,o.a.createElement(Gr,{id:"2Z7oDB",defaultMessage:[{type:0,value:"More information"}]})),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/weather"},o.a.createElement(Gr,{id:"mSawI9",defaultMessage:[{type:0,value:"Your daily Mountain Weather Forecast"}]}))),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/blogs"},o.a.createElement(Gr,{id:"Vx5B5y",defaultMessage:[{type:0,value:"Visit Avalanche Canada Blog"}]}))),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/forecasts/archives/kananaskis"},o.a.createElement(Gr,{id:"yFX4u5",defaultMessage:[{type:0,value:"Forecast Archive"}]}))),o.a.createElement(Qr,null),o.a.createElement($r,{urls:["https://www.facebook.com/KCPublicSafety"]}),o.a.createElement(en,{email:e,title:t.formatMessage({id:"W8F0HN",defaultMessage:[{type:0,value:"Email the Kananaskis Country Public Safety Section"}]})}),o.a.createElement(Hr,{url:gi("rss")}))}function mi(e){var t=e.isPrintable,r=ui().set;return o.a.createElement(Yr,null,o.a.createElement(Kr,null,o.a.createElement(fi,{value:Za},o.a.createElement(ce,{to:"",onClick:function(){r(Ya)}},"English version")),o.a.createElement(fi,{value:Ya},o.a.createElement(ce,{to:"",onClick:function(){r(Za)}},"Version française"))),o.a.createElement(Kr,null,o.a.createElement("a",{href:"https://avalanchequebec.ca/conditions-chic-chocs#webcamera",target:l},o.a.createElement(Gr,{id:"yHhuHl",defaultMessage:[{type:0,value:"Live Chic-Chocs conditions"}]}))),o.a.createElement(Kr,null,o.a.createElement("a",{href:"https://avalanchequebec.ca/conditions-chic-chocs#rapports-neige",target:l},o.a.createElement(Gr,{id:"VEy7NE",defaultMessage:[{type:0,value:"Remote weather stations"}]}))),o.a.createElement(Kr,null,o.a.createElement("a",{href:"https://avalanchequebec.ca/conditions-chic-chocs#previsions-meteo",target:l},o.a.createElement(Gr,{id:"2aV3aQ",defaultMessage:[{type:0,value:"Alpine weather forecast"}]}))),o.a.createElement(Kr,null,o.a.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdrMgZoGjJruYrXE1u4D8ghq5TSnoHpClPbMNgN7zjI-SwTLw/viewform?formkey=dEJFS0hjQ2FnbE02dDNHV21ueUVRR3c6MA#gid=0",target:l},o.a.createElement(Gr,{id:"D4qYT5",defaultMessage:[{type:0,value:"Avalanche report"}]}))),o.a.createElement(Kr,null,o.a.createElement(ce,{to:"/submit"},o.a.createElement(Gr,{id:"SmpOMT",defaultMessage:[{type:0,value:"Mountain Information Network"}]}))),o.a.createElement($r,{urls:["https://www.facebook.com/avalanchequebec","https://www.instagram.com/avalanche.quebec/"]}),o.a.createElement(Kr,null,o.a.createElement("a",{href:"https://avalanchequebec.ca/conditions-chic-chocs#mailchimp-widget",target:l},o.a.createElement(Gr,{id:"2yJisv",defaultMessage:[{type:0,value:"Subscribe to our forecasts"}]}))),o.a.createElement(en,{email:"info@avalanchequebec.ca"}),o.a.createElement(Kr,null,o.a.createElement(Gr,{id:"zHorBS",defaultMessage:[{type:0,value:"For backcountry rescue call "},{type:8,value:"phone",children:[{type:0,value:"911"}]},{type:0,value:" and tell them you are in the Chic-Chocs"}],values:{phone:function(e){return o.a.createElement(je,{phone:e})}}})),t&&o.a.createElement(Xr,{url:gi("html")}),o.a.createElement(Kr,null,o.a.createElement("a",{href:"https://avalanchequebec.ca/avalanche_bulletin/",target:l},o.a.createElement(Gr,{id:"zvP02c",defaultMessage:[{type:0,value:"Archives"}]}))))}function gi(e){var t,r,n=document.location,a=n.pathname,i=n.origin;return d()(t=d()(r="".concat(i,"/api")).call(r,a,".")).call(t,e)}var _i=r(288),xi=r.n(_i);function bi(e){var t=e.header,r=e.expanded,n=void 0!==r&&r,a=e.children;return o.a.createElement("details",{open:n,className:xi.a.Container},o.a.createElement("summary",null,t),a)}var wi=r(188),Mi=r.n(wi);function Ei(e){var t=e.style,r=e.children;return o.a.createElement("section",{style:t},r)}function Si(e){var t=e.className,r=e.children;return o.a.createElement("h3",{className:Ye()(Mi.a.Header,t)},r)}function Ti(e){var t=e.style,r=e.children;return o.a.createElement("div",{style:t,className:Mi.a.Content},r)}var Ci="low",Ii="moderate",Ai="considerable",ki="high",Li="extreme",Di="norating",Pi=[Ci,Ii,Ai,ki,Li,Di],zi=new Ma.a(Pi);function Oi(){var e=pr();return Object(i.useMemo)((function(){return new Be.a([[Li,e.formatMessage({id:"1WXUMT",defaultMessage:[{type:0,value:"Avoid all avalanche terrain."}]})],[ki,e.formatMessage({id:"HBELLZ",defaultMessage:[{type:0,value:"Very dangerous avalanche conditions. Travel in avalanche terrain not recommended."}]})],[Ai,e.formatMessage({id:"tBoaxE",defaultMessage:[{type:0,value:"Dangerous avalanche conditions. Careful snowpack evaluation, cautious route-finding and conservative decision-making essential."}]})],[Ii,e.formatMessage({id:"Oce/Vs",defaultMessage:[{type:0,value:"Heightened avalanche conditions on specific terrain features. Evaluate snow and terrain carefully; identify features of concern."}]})],[Ci,e.formatMessage({id:"L3tjFh",defaultMessage:[{type:0,value:"Generally safe avalanche conditions. Watch for unstable snow on isolated terrain features."}]})],[Di,null]])}),[e])}function Ni(){var e=pr();return Object(i.useMemo)((function(){return new Be.a([[Li,e.formatMessage({id:"nF4SkN",defaultMessage:[{type:0,value:"Natural and human-triggered avalanches certain."}]})],[ki,e.formatMessage({id:"Ee5E3w",defaultMessage:[{type:0,value:"Natural avalanches likely; human-triggered avalanches very likely."}]})],[Ai,e.formatMessage({id:"kO2GwF",defaultMessage:[{type:0,value:"Natural avalanches possible; human-triggered avalanches likely."}]})],[Ii,e.formatMessage({id:"V7pNoh",defaultMessage:[{type:0,value:"Natural avalanches unlikely; human-triggered avalanches possible."}]})],[Ci,e.formatMessage({id:"1D6FM6",defaultMessage:[{type:0,value:"Natural and human-triggered avalanches unlikely."}]})],[Di,null]])}),[e])}function ji(){var e=pr();return Object(i.useMemo)((function(){return new Be.a([[Li,e.formatMessage({id:"AOlBrj",defaultMessage:[{type:0,value:"Large to very large avalanches in many areas."}]})],[ki,e.formatMessage({id:"WePE/Y",defaultMessage:[{type:0,value:"Large avalanches in many areas; or very large avalanches in specific areas."}]})],[Ai,e.formatMessage({id:"8wv5uw",defaultMessage:[{type:0,value:"Small avalanches in many areas; or large avalanches in specific areas; or very large avalanches in isolated areas."}]})],[Ii,e.formatMessage({id:"nILfLj",defaultMessage:[{type:0,value:"Small avalanches in specific areas; or large avalanches in isolated areas."}]})],[Ci,e.formatMessage({id:"qOhJmk",defaultMessage:[{type:0,value:"Small avalanches in isolated areas or extreme terrain."}]})],[Di,null]])}),[e])}function Ri(){var e=pr();return Object(i.useMemo)((function(){return new Be.a([[Li,e.formatMessage({id:"s9Ojlo",defaultMessage:[{type:0,value:"5 - Extreme"}]})],[ki,e.formatMessage({id:"4rTaR5",defaultMessage:[{type:0,value:"4 - High"}]})],[Ai,e.formatMessage({id:"49cz1r",defaultMessage:[{type:0,value:"3 - Considerable"}]})],[Ii,e.formatMessage({id:"RI1ANN",defaultMessage:[{type:0,value:"2 - Moderate"}]})],[Ci,e.formatMessage({id:"XVMUAR",defaultMessage:[{type:0,value:"1 - Low"}]})],[Di,e.formatMessage({id:"DxUvN0",defaultMessage:[{type:0,value:"0 - No Rating"}]})]])}),[e])}var Fi=r(152),Bi=r.n(Fi);function Ui(){var e,t=Ri(),r=Oi(),n=Ni(),a=ji(),i=Oe()(e=We()(zi)).call(e,(function(e){return e!==Di}));return be()(i).call(i,(function(e){return o.a.createElement(Ei,{key:e},o.a.createElement(Si,{className:Bi.a[e]},t.get(e)),o.a.createElement(Ti,null,o.a.createElement("p",null,r.get(e)),o.a.createElement("p",null,n.get(e)),o.a.createElement("p",null,a.get(e))))}))}r(153);var Vi=r(35),qi=r.n(Vi),Wi=r(292),Gi=r.n(Wi),Yi=r(105),Zi=r.n(Yi),Hi=r(293),Qi=r.n(Hi),Xi=r(294),Ki=r.n(Xi),Ji=r(18),$i=r.n(Ji);r(295);function eo(e){return 0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds()&&0===e.getMilliseconds()}var to=r(42),ro=r.n(to);function no(e){return e.replace(/"/g,"")}function ao(e){return"string"==typeof e?'"'+no(e)+'"':e instanceof Date?e.getTime():Va()(e)?"["+be()(e).call(e,(function(e){return ao(e)})).join(",")+"]":e}function io(e){var t,r=no(e[0]),n=no(e[1]),a=0===Na()(n).call(n,"my.")||0===Na()(n).call(n,"document")?n:'"'+n+'"',i=be()(t=ro()(e).call(e,2)).call(t,ao).join(",");return"[:d = "+r+"("+a+(e.length>2?", ":"")+i+")]"}function oo(e,t){return["at",e,t]}function so(e,t){return["date.before",e,t]}function lo(e,t){return["date.after",e,t]}function uo(e,t){return["date.month",e,t]}function co(e,t){return["date.year",e,t]}function po(e,t){return fo(e,"uid",t)}function ho(e){return oo("document.type",e)}function fo(e,t,r){var n;return oo(d()(n="my.".concat(e,".")).call(n,t),r)}function yo(e){return"string"==typeof e&&(e=[e]),oo("document.tags",e)}var vo="generic",mo="event",go="blog",_o="news",xo="fatal-accident",bo="tutorial-article",wo="definition";var Mo=r(39),Eo=r.n(Mo),So=r(93),To=r.n(So),Co=r(128),Io=r.n(Co);var Ao=Object(i.createContext)({location:q.location,navigate:q.navigate});function ko(){return Object(i.useContext)(Ao)}Io.a,Io.a,Io.a,Io.a;var Lo={parse:function(e){return e&&$i()(e,Do)},format:function(e){return e&&To()(e,Do)}},Do="YYYY-MM-DD";function Po(e,t){return{predicates:[po(e,t)]}}function zo(e){return{predicates:[ho(e)]}}function Oo(e){return{predicates:[(t="document.id",r=e,["in",t,r])],pageSize:e.length};var t,r}function No(e){return Po(vo,e)}var jo={report:function(e,t){var r=jo.reports(t).predicates;return r.push(fo("hotzone-report","region",e)),{predicates:r,options:{pageSize:1,orderings:["".concat(Uo("hotzone-report","dateOfIssue")," desc")]}}},uid:function(e){return Po("hotzone-report",e)},reports:function(e){return{predicates:Ba()(Fo(Uo("hotzone-report","dateOfIssue"),Uo("hotzone-report","validUntil"),e))}}};qi()(jo.reports,{monthly:function(e,t){var r=Lo.format(Qi()(t)),n=Lo.format(Ki()(t));return{predicates:[fo("hotzone-report","region",e),so(Uo("hotzone-report","dateOfIssue"),n),lo(Uo("hotzone-report","validUntil"),r)]}}});var Ro={splash:function(e){var t=e.type,r=e.tags,n=zo(t).predicates;return Va()(r)&&r.length>0&&n.push(yo(We()(r))),t===mo&&n.push(lo(Uo(t,"start_date"),Lo.format(new Date))),{predicates:n,pageSize:5,orderings:[Bo.get(t)]}},sidebar:function(e){var t=e.type,r=e.uid,n=Ro.splash({type:t});return n.predicates.push(["not",Uo(t,"uid"),r]),qi()(n,{pageSize:7})},blog:function(e){var t=e.year,r=e.month,n=e.category,a=e.page,i=void 0===a?1:a,o=e.pageSize,s=void 0===o?10:o,l=go,u=zo(l).predicates;return t&&u.push(co(Uo(l,"date"),t)),r&&u.push(uo(Uo(l,"date"),r)),n&&u.push(oo(Uo(l,"category"),n)),{page:i,pageSize:s,predicates:u,orderings:[Bo.get(l)]}},news:function(e){var t=e.year,r=e.month,n=e.tags,a=e.page,i=void 0===a?1:a,o=e.pageSize,s=void 0===o?10:o,l=_o,u=[ho(l)];return t&&u.push(co(Uo(l,"date"),t)),r&&u.push(uo(Uo(l,"date"),r)),n.size&&u.push(yo(We()(n))),{page:i,pageSize:s,predicates:u,orderings:[Bo.get(l)]}},events:function(e){var t=e.past,r=void 0!==t&&t,n=e.tags,a=void 0===n?new Ma.a:n,i=e.page,o=void 0===i?1:i,s=e.pageSize,l=void 0===s?10:s,u=mo,c=r?"".concat(Bo.get(u)," desc"):Bo.get(u),p=r?so:lo,h=Lo.format(Zi()(new Date,-1)),f=[];return f.push(p(Uo(u,"end_date"),h)),a.size&&f.push(yo(We()(a))),{page:o,pageSize:l,predicates:f,orderings:[c]}}};function Fo(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return[so(e,Lo.format(Zi()(r,1))),lo(t,Lo.format(Gi()(r,1)))]}var Bo=new Be.a([[_o,"".concat(Uo(_o,"date")," desc")],[go,"".concat(Uo(go,"date")," desc")],[mo,Uo(mo,"start_date")]]);function Uo(e,t){var r;return d()(r="my.".concat(e,".")).call(r,t)}function Vo(e){return Wo(e)?e.replace(Go,"")||"/":e}function qo(e){return"string"==typeof e&&Yo.test(e)}function Wo(e){return"string"==typeof e&&Go.test(e)}var Go=/^(http|https):\/\/(www.|)avalanche.ca/,Yo=new RegExp("^(https|http)://");function Zo(e){return"string"==typeof e?e.replace(/^http:/,"https:"):e}function Ho(e,t){return Qo((arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.location.origin)+e,t)}function Qo(e,t){var r;if(!t)return e;var n=t instanceof Me.a?t:new Me.a(Ne(t));return Oe()(r=[e,n.toString()]).call(r,Boolean).join("?")}function Xo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Oe()(t).call(t,(function(e){return null!=e})).join("/")}var Ko=r(296),Jo=r.n(Ko);var $o,es=new Be.a;$o=function(e){return Jo.a.supported(e)};function ts(e){ns("Outbound Sponsor",e.currentTarget.href)}g.a.element.isRequired;var rs=window.ga;function ns(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];rs.apply(void 0,d()(e=["send","event","Navigation"]).call(e,r))}r(160);var as=r(161),is=r.n(as);function os(e){var t=e.children,r=e.caption,n=pr();return r=r||n.formatMessage({id:"7hQ4Wl",defaultMessage:[{type:0,value:"From the reel"}]}),o.a.createElement("header",{className:is.a.Container},o.a.createElement("div",{className:is.a.Caption,title:r},r),o.a.createElement("div",{className:is.a.Title,title:t},t))}var ss=Object(i.memo)((function(e){var t=e.children,r=v()(e,["children"]);return t?o.a.createElement("div",_e()({onClick:ls},r,{dangerouslySetInnerHTML:{__html:t}})):null}));function ls(e){var t=e.target,r=e.metaKey;"A"===t.tagName&&!1===r&&Wo(t.href)&&(e.preventDefault(),W(Vo(t.href)))}var us=r(297),cs=r.n(us);function ps(e){var t=e.longitude,r=e.latitude,n=e.precision,a=void 0===n?6:n,i=e.dms,o=i?"FFf":"f",s=i?a-2:a;return cs()(r,t).format(o,{decimalPlaces:s})}ps.propTypes={longitude:g.a.number.isRequired,latitude:g.a.number.isRequired,dms:g.a.bool,precision:g.a.number};var hs=r(129),fs=r.n(hs);var ds=Object(i.memo)((function(e){var t,r=e.top,n=e.compact,a=e.children,i=pr(),s=ya(!1),l=Ce()(s,2),u=l[0],c=l[1],p=i.formatMessage({id:"Texvtz",defaultMessage:[{type:0,value:"Credit"}]}),h=Ye()((t={},Kn()(t,fs.a.Credit,!0),Kn()(t,fs.a.Compact,n),Kn()(t,fs.a.Expanded,u),Kn()(t,fs.a.Top,r),t));return o.a.createElement("span",{"data-label":p,className:h,onClick:c},a)})),ys=qi()(ds,{Managed:function(e){var t=_a({width:window.innerWidth}),r=Ce()(t,2),n=r[0].width,a=r[1];return o.a.createElement("div",{ref:a},o.a.createElement(ds,_e()({},e,{compact:n<vs})))}}),vs=250,ms=r(298),gs=r.n(ms);function _s(e){var t=e.ribbon?"Ribbon":"Main";return o.a.createElement("div",{className:gs.a[t]})}var xs=r(76),bs=r.n(xs);function ws(e){var t=e.as,r=void 0===t?"p":t,n=e.children,a=v()(e,["as","children"]);return o.a.createElement(r,_e()({},a,{className:bs.a.Muted}),n)}function Ms(e){var t=e.as,r=void 0===t?"p":t,n=e.children,a=v()(e,["as","children"]);return o.a.createElement(r,_e()({},a,{className:bs.a.Loading}),n||o.a.createElement(Gr,{id:"S8m8si",defaultMessage:[{type:0,value:"Loading..."}]}))}function Es(e){var t=e.as,r=void 0===t?"p":t,n=e.children,a=v()(e,["as","children"]);return o.a.createElement(r,_e()({},a,{className:bs.a.Error}),n||o.a.createElement(Gr,{id:"eCkcGF",defaultMessage:[{type:0,value:"An error happened."}]}))}r(299);var Ss=r(62),Ts=r.n(Ss),Cs=r(98),Is=r.n(Cs),As=r(92),ks=r.n(As),Ls=r(99),Ds=r.n(Ls),Ps=r(300);function zs(e,t){if(!js.has(e)){var r=fetch(e,t).then(Rs).finally((function(){js.delete(e)}));js.set(e,r)}return js.get(e)}var Os=function(e){function t(e,r){var n;return sa()(this,t),(n=Is()(this,ks()(t).call(this,e.statusText))).name="HTTPError",n.status=e.status,n.payload=r,n}return Ds()(t,e),t}(r.n(Ps)()(Error));function Ns(){return Ts.a.resolve()}var js=new Be.a;function Rs(e){return Fs.apply(this,arguments)}function Fs(){return(Fs=Nn()(zn.a.mark((function e(t){var r,n,a;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.ok){e.next=7;break}return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,t.text();case 9:r=e.sent;try{n=JSON.parse(r)}catch(e){n=r}return a=new Os(t,n),e.abrupt("return",Ts.a.reject(a));case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",Ts.a.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var Bs=r(70),Us=r.n(Bs),Vs=r(63),qs=r.n(Vs),Ws=r(189),Gs=r.n(Ws);function Ys(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[void 0,!0,null],n=Object(i.useReducer)($s,r),a=Ce()(n,2),o=a[0],s=a[1],l=Object(i.useRef)(null),u=xa();return Object(i.useEffect)((function(){return r[0]||s([l.current?Qs:Xs]),l.current=function(){try{return new AbortController}catch(e){return{abort:function(){}}}}(),e.apply(null,d()(t).call(t,l.current.signal)).then((function(e){return[Ks,e]}),(function(e){return[Js,e]})).then((function(e){var t=(l.current.signal||{}).aborted;u.current&&!t&&s(e)})),function(){l.current.abort()}}),t),o}function Zs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=Hs.get(n,r);return Ys(i?function(){return Ts.a.resolve(i)}:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(null,r).then((function(e){return Hs.set(n,e,a),e}))},t,[i,!i,null])}var Hs=new(function(){function e(){sa()(this,e),this.store=new Be.a,this.expiries=new Be.a}return ua()(e,[{key:"reset",value:function(){this.store.clear(),this.expiries.clear()}},{key:"has",value:function(e){var t=this.expiries.get(e);return"number"==typeof t&&Gs()()<t}},{key:"get",value:function(e,t){return this.has(e)?this.store.get(e):t}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;this.store.set(e,t),this.expiries.set(e,Gs()()+r)}},{key:"remove",value:function(e){this.store.delete(e),this.expiries.delete(e)}}]),e}());var Qs=Us()("Pending"),Xs=Us()("InitialPending"),Ks=Us()("Fulfilled"),Js=Us()("Rejected");function $s(e,t){var r=Ce()(t,2),n=r[0],a=r[1];switch(n){case Xs:return[e[0],!0,null];case Qs:return[void 0,!0,null];case Ks:var i=Ce()(e,3),o=i[0],s=i[1],l=i[2];return o===a&&!1===s&&null===l?e:[a,!1,null];case Js:return[void 0,!1,a];default:return e}}Object(i.createContext)();var el=r(95),tl=r.n(el),rl=r(41),nl=r.n(rl),al=r(154),il=r.n(al),ol=r(155);function sl(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}function ll(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function(e){var t=new Me.a(e),r=!0,n=!1,a=void 0;try{for(var i,o=Ve()(il()(t).call(t));!(r=(i=o.next()).done);r=!0){var s=i.value;Va()(e[s])&&t.set(s,"[".concat(t.getAll(s).join(","),"]"))}}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return t.toString()}(function(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=sl(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=sl(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}({page:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{q:"[".concat(be()(r).call(r,io).join(""),"]"),ref:e}));return d()(t="".concat(ol.a,"/documents/search?")).call(t,n)}var ul=r(156),cl=r.n(ul);function pl(){return hl.apply(this,arguments)}function hl(){return(hl=Nn()(zn.a.mark((function e(){var t,r;return zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zs(ol.a);case 2:return t=e.sent,r=t.refs,e.abrupt("return",nl()(r).call(r,(function(e){return e.isMasterRef})).ref);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=fl(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=fl(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}function yl(e){var t,r=e.predicates,n=v()(e,["predicates"]),a=ui().locale,i=_l.get(a),o=xl(),s=si;a!==Za||n.lang||(n.lang="*",s=function(e){var t=e.lang,r=e.alternate_languages;return t===i||!nl()(r).call(r,s)});var l=o[0]?ll(o[0],r,n):null,u=bl(o,Zs(l?zs:Ns,[l],void 0,l));if(Va()(null===(t=u[0])||void 0===t?void 0:t.results)){var c,p=tl()(u),h=p[0],f=h.results,y=v()(h,["results"]),m=ro()(p).call(p,1);return d()(c=[dl({},y,{results:Oe()(f).call(f,s)})]).call(c,Ba()(m))}return u}function vl(e){var t,r=yl(e),n=tl()(r),a=n[0],i=ro()(n).call(n,1);return d()(t=[null==a?void 0:a.results]).call(t,Ba()(i))}function ml(e){var t,r=vl(e),n=tl()(r),a=n[0],i=ro()(n).call(n,1);return d()(t=[null==a?void 0:a[0]]).call(t,Ba()(i))}function gl(e){return ml(No(e))}var _l=new Be.a([[Za,"fr-ca"],[Ya,"en-us"]]);function xl(){return Zs(pl,void 0,void 0,"prismic:ref")}function bl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Eo()(t).call(t,(function(e,t){return[t[0],t[1]||e[1]||!t[0],e[2]||t[2]]}),[])}var wl=r(58),Ml=r.n(wl);function El(e){var t=e.headline,r=e.children,n=e.level,a=void 0===n?1:n,i=e.ribbon,s=e.hash,l=e.title,u="h".concat(a+1);return o.a.createElement("section",{className:Ml.a.Section},i?o.a.createElement(os,{caption:i},l):o.a.createElement("header",null,o.a.createElement(Sl,{as:u,hash:s},l),t&&o.a.createElement(Tl,null,t)),r)}function Sl(e){var t=e.as,r=void 0===t?"h2":t,n=e.hash,a=e.children,s="#"+n,l=Object(i.useRef)(),u=ko().location;return n&&(a=o.a.createElement("a",{href:s},a)),Object(i.useLayoutEffect)((function(){if(n&&u.hash===s){var e=l.current;e.scrollIntoView(),$n()((function(){e.scrollIntoView()}),75)}}),[u.hash,s]),o.a.createElement(r,{id:n,ref:l,className:Ml.a.Heading},a)}function Tl(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("em",_e()({},r,{className:Ml.a.Headline}),t)}r(77);var Cl=r(25),Il=r.n(Cl);var Al=Object(i.memo)((function(e){var t=e.to,r=void 0===t?"#":t,n=e.children,a=v()(e,["to","children"]);return a.className=Ye()(Il.a.Link,a.className),"language"===a.id?n:qo(r)?o.a.createElement("a",_e()({href:r,target:n},a),n):o.a.createElement(ce,_e()({to:r},a),n)})),kl=r(157),Ll=r.n(kl);function Dl(e,t){var r=null;return function e(n){if(Va()(n.children))for(var a=0;a<n.children.length;a++){var i=n.children[a];i.id===t?r=i:null===r&&e(i)}}(e),r}function Pl(e,t){var r=e;return function n(a){if(Va()(a.children))for(var i=0;i<a.children.length;i++){var o=a.children[i];o.id===t?r=a:r===e&&n(o)}}(e),r}var zl=/(\n)/;function Ol(e,t){return o.a.createElement("br",{key:t})}function Nl(e){return function e(t,r,n){var a,o,s;return Va()(t)||(t=[t]),be()(a=Oe()(o=qs()(s=be()(t).call(t,(function(t){return"string"==typeof t?function(e,t,r){if(""===e)return e;for(var n=e.split(t),a=0,i=0,o=1,s=n.length;o<s;o+=2)i=n[o].length,a+=n[o-1].length,n[o]=r(n[o],o,a),a+=i;return n}(t,r,n):Object(i.isValidElement)(t)?Object(i.cloneElement)(t,null,e(t.props.children,r,n)):t}))).call(s)).call(o,Boolean)).call(a,Fl)}(e,zl,Ol)}function jl(e,t,r,n){var a=e.length;if(t>=0&&r<=a){var i,o=ro()(e).call(e,0,t),s=ro()(e).call(e,r);return Oe()(i=[o,n,s]).call(i,Boolean)}return e}var Rl=function(e){return o.a.memo(e,Bl)};function Fl(e,t){return Object(i.isValidElement)(e)?Object(i.cloneElement)(e,{key:t}):e}function Bl(){return!0}var Ul=r(45),Vl=r.n(Ul);var ql=Rl((function(e){var t=e.items,r=void 0===t?[]:t,n=e.label,a=e.to,i=e.children;return o.a.createElement("div",{className:Vl.a["ItemSet--Container"]},o.a.createElement("ul",{className:Vl.a.ItemSet},o.a.createElement(Wl,null,a?o.a.createElement(Al,{to:a,title:n},n):n),be()(r).call(r,Gl)),i)}));function Wl(e){var t=e.children;return o.a.createElement("li",{className:Vl.a.Item},t)}function Gl(e,t){var r=e.to,n=e.label,a=e.headline,i=e.children,s=void 0===i?[]:i,l=e.onClick;return o.a.createElement(Wl,{key:t},o.a.createElement(Al,{to:r,title:a||n,onClick:s.length>0?l:null},n))}var Yl=Rl((function(e){var t=e.onClose,r=e.home,n=pr();return o.a.createElement("section",{className:Vl.a.Toolbar},o.a.createElement(ce,{to:r.to,className:Vl.a.Home,title:n.formatMessage({id:"2qCVIs",defaultMessage:[{type:0,value:"Go to home page"}]})}),o.a.createElement("a",{href:"#",onClick:t,className:Vl.a.Close,title:n.formatMessage({id:"mR0hCD",defaultMessage:[{type:0,value:"Close"}]})}))}));function Zl(e){var t=e.label,r=e.to,n=e.onClose,a=e.onClick,s=e.children,l=e.home;return o.a.createElement("nav",{className:Vl.a.Drawer,onClick:function(e){e.target===e.currentTarget&&a(e)}},o.a.createElement(Yl,{home:l,onClose:n}),Va()(s)?o.a.createElement(ql,{label:t,to:r,items:s}):o.a.createElement(ql,{label:t,to:r},Object(i.createElement)(s,{to:r})))}function Hl(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=Hl(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=Hl(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}Object(i.memo)((function(e){var t=e.menu,r=v()(e,["menu"]),n=Object(i.useState)(null),a=Ce()(n,2),s=a[0],l=a[1];return o.a.createElement(Xl,_e()({root:t,node:s},r,{setNode:l}))}),(function(e,t){return e.show===t.show}));function Xl(e){var t,r=e.show,n=void 0!==r&&r,a=e.node,i=e.onClose,s=e.root,l=e.setNode,u=function(e,t){if(!t||e===t)return[e];for(var r=[t],n=Pl(e,t.id);n!==e;)r.push(n),n=Pl(e,n.id);return r.push(e),Ll()(r).call(r)}(s,a),c={setNode:l,root:s,onClose:i},p=be()(t=Ll()(u).call(u)).call(t,Kl,c),h=Ye()(Vl.a.Container,Kn()({},Vl.a.Open,n));return o.a.createElement("div",{className:h,onClick:function(e){e.target===e.currentTarget&&i()}},be()(p).call(p,(function(e){return o.a.createElement(Zl,_e()({key:e.id},e))})))}function Kl(e){var t=this.root,r=this.setNode,n=this.onClose,a=e.id,i=e.children;return Ql({},e,{home:{to:t.to,label:t.label},onClose:function(e){e.preventDefault(),a===t.id?n(a):r(Pl(t,a))},onClick:function(e){e.preventDefault();var n=Dl(t,a);r(n)},children:Va()(i)?be()(i).call(i,(function(e){return Ql({},e,{onClick:function(n){n.preventDefault();var a=Dl(t,e.id);r(a)}})})):i})}Object(i.memo)((function(e){var t,r=e.isActive,n=void 0!==r&&r,a=e.title,i=e.onClick,s=e.children,l=e.to,u=e.id,c=Ye()((t={},Kn()(t,Il.a.Item,!n),Kn()(t,Il.a["Item--isActive"],n),t)),p="settings"===u;return o.a.createElement("li",{id:u,className:c},o.a.createElement(Al,{to:l,onClick:i},p?o.a.createElement(kr,{height:18,width:18,color:_r}):a),s)}),(function(e,t){return e.isActive===t.isActive}));var Jl={esc:27,enter:13,space:32,up:38,down:40,left:37,right:39};r(158);function $l(e){if(e&&"string"==typeof e){var t=e.split(" "),r=Ce()(t,2),n=r[0],a=void 0===n?"":n,i=r[1],o=void 0===i?"":i;return(a.charAt(0)+o.charAt(0)).toUpperCase()}}var eu=r(162),tu=r.n(eu);function ru(e){var t,r=e.size,n=void 0===r?60:r,a=e.url,i=e.name,s=da(Boolean(a)),l=Ce()(s,3),u=l[0],c=l[2],p={height:n,width:n},h=Ye()((t={},Kn()(t,tu.a.Initials,u),Kn()(t,tu.a.Avatar,!u),Kn()(t,tu.a.Small,n<50),t));return o.a.createElement("div",{className:h,"data-initials":$l(i),style:p},a&&o.a.createElement("img",{src:a,alt:$l(i),title:i,onLoad:c,onError:c}))}var nu=r(301),au=r.n(nu);function iu(e){var t=e.children,r=e.as,n=void 0===r?"div":r,a=e.className,i=v()(e,["children","as","className"]);return a=Ye()(a,function(e){var t,r;return be()(t=Oe()(r=Pe()(e)).call(r,Boolean)).call(t,(function(e){return au.a[e]}))}(i)),o.a.createElement(n,{className:a},t)}r(302);var ou=r(78),su=r.n(ou),lu="INFO",uu=vu("DANGER"),cu=vu(lu),pu=vu("WARNING"),hu=vu("SUCCESS");function fu(e){return du.get(e.toUpperCase())}var du=new Be.a([["DANGER",uu],[lu,cu],["WARNING",pu],["SUCCESS",hu]]);function yu(e){var t=e.type,r=e.children,n=e.onDismiss,a=v()(e,["type","children","onDismiss"]);return o.a.createElement("div",_e()({className:mu.get(t)},a),o.a.createElement("div",{className:su.a.Content},r),"function"==typeof n&&o.a.createElement(ni,{className:su.a.Close,onClick:function(e){e.preventDefault(),n()}}))}function vu(e){return function(t){return o.a.createElement(yu,_e()({},t,{type:e}))}}var mu=new Be.a([["DANGER",su.a.Danger],[lu,su.a.Info],["WARNING",su.a.Warning],["SUCCESS",su.a.Success]]),gu=r(303),_u=r.n(gu);var xu=/fxresources/,bu=/(cherry-bowl|cherrybowl)/,wu=/sms.avalanche.ca/,Mu=/iPad|iPhone|iPod|MacIntel/.test(navigator.platform),Eu={uid:function(e,t){return Xo(Eu.type(e),t)},tags:function(e,t){return Qo(Eu.type(e),{tags:t})},type:function(e){return Tu.get(e)}};function Su(e){var t=e.type,r=e.uid,n=e.lang;switch(t){case mo:case go:case _o:return Eu.uid(t,r);case bo:return Qo("fr-ca"===n?"/tutoriel":"/tutorial",{uid:r});case wo:return"/glossary#".concat(r);case xo:return"/map?panel=fatal-accidents/".concat(r);default:return Xo("/pages",t,r)}}var Tu=new Be.a([[_o,"/news"],[go,"/blogs"],[mo,"/events"]]);function Cu(e){var t=ml(Po(e.type,e.uid)),r=Ce()(t,2),n=r[0];if(r[1])return o.a.createElement(Ms,null);if(null==n?void 0:n.data){var a=n.data.title;if("string"==typeof a)return a;if(Va()(a))return a[0].text}return null}function Iu(e){var t=e.children,r=v()(e,["children"]),n=r.name,a=r.url;return o.a.createElement("a",_e()({href:a,title:n,target:n},r),t)}function Au(e){var t=e.link_type,r=e.children,n=v()(e,["link_type","children"]);return ku.has(t)?Object(i.createElement)(ku.get(t),n,r):null}var ku=new Be.a([["Web",function(e){var t=e.children,r=e.url,n=v()(e,["children","url"]);if(Wo(r))return xu.test(r)?o.a.createElement("a",_e()({},n,{href:Zo(r),target:"fxresources"}),t):bu.test(r)?o.a.createElement("a",_e()({},n,{href:Zo(r),target:"cherry-bowl"}),t):o.a.createElement(ce,_e()({to:Vo(r)},n),t);if(wu.test(r)){var a,i,s=new _u.a(r).searchParams,l=s.get("phone"),u=s.get("body");return o.a.createElement("a",_e()({href:d()(a=d()(i="sms:".concat(l)).call(i,Mu?"&":"?","body=")).call(a,u)},n),t)}var c=qo(r)?"_blank":void 0;return o.a.createElement("a",_e()({href:r,target:c},n),t)}],["Document",function(e){var t=e.children,r=(e.isBroken,v()(e,["children","isBroken"]));return o.a.createElement(ce,{to:Su(r)},t||o.a.createElement(Cu,r))}],["Image",function(e){var t=e.children,r=e.url,n=v()(e,["children","url"]);return o.a.createElement("a",_e()({href:r,target:"_blank"},n),t)}],["File",Iu],["Media",Iu],["Any",function(e){return e.children}]]),Lu=r(163),Du=r.n(Lu);function Pu(e){var t,r=e.url,n=e.alt,a=e.copyright,s=e.dimensions,l=e.credit,u=e.linkTo,c=e.label,p=e.children,h=e.imageRef,f=Object(i.useState)(h),d=Ce()(f,2),y=d[0],v=d[1],m=da("onloadend"in HTMLImageElement.prototype),g=Ce()(m,3),_=g[0],x=g[1];ma("loadend",g[2],y),ma("error",x,y);var b=o.a.createElement("img",_e()({ref:function(e){v(e),"function"==typeof h?h(e):h&&"current"in h&&(h.current=e)},src:r,alt:n,className:Du.a.Image},s)),w=Ye()(c,(t={},Kn()(t,Du.a.Figure,!_),Kn()(t,Du.a["Figure--Loading"],_),t));return o.a.createElement("figure",{className:w},"object"===ia()(u)?o.a.createElement(Au,u,b):b,(a||l)&&o.a.createElement(ys,null,l||a),p)}var zu=r(107),Ou=r.n(zu);function Nu(e){var t=e.fullName,r=e.socials,n=void 0===r?[]:r,a=e.banner,i=e.avatar,s=e.children,l=pr(),u=t.toLowerCase().replace(/\s/g,"-");function c(e){return l.formatMessage({id:"r7S3V1",defaultMessage:[{type:0,value:"Visit "},{type:1,value:"fullName"},{type:0,value:" on "},{type:1,value:"service"}]})}return o.a.createElement("section",{className:Ou.a.Container},o.a.createElement(Sl,{hash:u},t),o.a.createElement("div",{className:Ou.a.Biography},o.a.createElement("div",{className:Ou.a.Avatar},i&&o.a.createElement(Pu,i),o.a.createElement(zr,null,be()(n).call(n,(function(e){return o.a.createElement(Pr,{key:e,link:e,title:c})})))),o.a.createElement("div",{className:Ou.a.Content},s)),a&&o.a.createElement(Pu,_e()({className:Ou.a.Banner},a)))}function ju(e){var t=e.value,r=void 0===t?[]:t;return be()(r).call(r,Ru)}function Ru(e,t,r){var n=function(e){var t,r,n=e.twitter,a=e.facebook,i=e.instagram,o=e.website,s=v()(e,["twitter","facebook","instagram","website"]);return qi()(s,{fullName:s["full-name"],socials:Oe()(t=be()(r=[a,i,n,o]).call(r,(function(e){return e.url}))).call(t,Boolean)})}(e),a=n.biography,s=v()(n,["biography"]);return o.a.createElement(i.Fragment,{key:t},o.a.createElement(Nu,s,o.a.createElement(Rh,{value:a})),t+1<r.length&&o.a.createElement(_s,null))}ju.propTypes={value:g.a.arrayOf(g.a.object).isRequired};var Fu=r(53),Bu=r.n(Fu),Uu="COMPACT",Vu="LOOSE";function qu(e){var t=e.onTabChange,r=void 0===t?Ra.a:t,n=e.children,a=e.theme,s=void 0===a?Uu:a,l=v()(e,["onTabChange","children","theme"]),u=Object(i.useState)(l.activeTab||0),c=Ce()(u,2),p=c[0],h=c[1];return o.a.createElement("div",{className:Bu.a.Tabs},be()(i.Children).call(i.Children,n,(function(e){switch(e.type){case Yu:return Object(i.cloneElement)(e,{activeTab:p,onTabChange:function(e){h(e),r(e)},theme:e.props.theme||s});case Wu:return Object(i.cloneElement)(e,{activeTab:p});default:return null}})))}function Wu(e){var t=e.activeTab,r=e.children;return(r=Va()(r)?r:i.Children.toArray(r))[t]||null}function Gu(e){var t=e.children,r=e.style;return o.a.createElement("div",{role:"tabpanel",className:Bu.a.Panel,style:r},t)}function Yu(e){var t,r,n,a=e.theme,s=void 0===a?Uu:a,l=e.stacked,u=e.children,c=e.onTabChange,p=e.activeTab,h=ya(!1),f=Ce()(h,2),d=f[0],y=f[1],v=Ye()((t={},Kn()(t,Bu.a.HeaderSet,!0),Kn()(t,Bu.a["HeaderSet--Loose"],s===Vu),Kn()(t,Bu.a["HeaderSet--Compact"],s===Uu),Kn()(t,Bu.a["HeaderSet--Stacked"],l),Kn()(t,Bu.a["HeaderSet--Expanded"],d),t));return o.a.createElement("div",{className:v,onClick:l?y:void 0},be()(r=Oe()(n=i.Children.toArray(u)).call(n,Boolean)).call(r,(function(e,t){return Object(i.cloneElement)(e,{isActive:t===p,onActivate:function(){e.props.disabled||c(t)}})})),l&&o.a.createElement(Pa,{chevron:!0,expanded:d,color:gr}))}function Zu(e){var t,r=e.isActive,n=e.disabled,a=e.arrow,i=e.onActivate,s=e.children,l=e.style,u=Ye()((t={},Kn()(t,Bu.a.Header,!0),Kn()(t,Bu.a["Header--Arrow"],a),Kn()(t,Bu.a["Header--isActive"],r),Kn()(t,Bu.a["Header--Disabled"],n),t));return o.a.createElement("div",{role:"tab",className:u,style:l,onClick:i},s)}Wu.propTypes={children:g.a.oneOfType([g.a.arrayOf(g.a.element),g.a.element]).isRequired,activeTab:g.a.number};var Hu=r(304),Qu=r.n(Hu);r(588),r(589);function Xu(e){return o.a.createElement(Qu.a,_e()({},e,Ju))}function Ku(e){return o.a.createElement("button",_e()({type:"button"},e))}var Ju={renderLeftNav:function(e,t){return o.a.createElement(Ku,{className:"image-gallery-left-nav",onClick:e,disabled:t},o.a.createElement(br,{height:36,width:36,color:gr}))},renderRightNav:function(e,t){return o.a.createElement(Ku,{className:"image-gallery-right-nav",onClick:e,disabled:t},o.a.createElement(wr,{height:36,width:36,color:gr}))},renderPlayPauseButton:function(e,t){return o.a.createElement(Ku,{className:"image-gallery-play-button",onClick:e},t?o.a.createElement(yr,{inverse:!0}):o.a.createElement(vr,{inverse:!0}))},renderFullscreenButton:function(e,t){return o.a.createElement(Ku,{className:"image-gallery-fullscreen-button",onClick:e},o.a.createElement(Ar,{color:gr}))}},$u=r(75),ec=r.n($u);function tc(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}function rc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=d()(e="c_fill,h_".concat(r,",w_")).call(e,t),a="c_fill,h_".concat(600,",w_",1e3),i="//res.cloudinary.com/avalanche-ca/image/upload";return function(e){var t,r,o,s,l=e.public_id;return{original:d()(t=d()(r="".concat(i,"/")).call(r,a,"/")).call(t,l,".png"),thumbnail:d()(o=d()(s="".concat(i,"/")).call(s,n,"/")).call(o,l,".png")}}}function nc(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=tc(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=tc(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}({max_results:25},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return zs(Ho("/vendor/cloudinary/resources/image/tags/".concat(ec()(e).call(e)),t))}function ac(e){var t=e.tag,r=Object(i.useState)({cursor:null,items:[]}),n=Ce()(r,2),a=n[0],s=n[1];return Object(i.useEffect)((function(){var e={next_cursor:a.cursor};nc(t,e).then((function(e){var t;s({cursor:e.next_cursor,items:be()(t=e.resources).call(t,rc())})}))}),[]),o.a.createElement(Xu,a)}function ic(e){return{tag:e.tag,fullScreen:"Yes"===e.fullScreen,playPause:"Yes"===e.playPause}}function oc(e,t){var r=e.name;return o.a.createElement(Zu,{key:t},r)}function sc(e,t){return o.a.createElement(Gu,{key:t},o.a.createElement(ac,ic(e)))}var lc=r(305),uc=r.n(lc),cc=r(126),pc=r.n(cc);function hc(e){var t=e.className,r=v()(e,["className"]);return o.a.createElement("input",_e()({},r,{className:Ye()(pc.a.Input,t)}))}var fc=r(43),dc=r.n(fc);function yc(e){var t=e.value,r=e.placeholder,n=t?"Valueholder":"Placeholder";return o.a.createElement("div",{className:pc.a[n]},o.a.createElement("div",{className:pc.a["Holder--Content"]},t||r))}var vc=r(159),mc=r.n(vc);function gc(e){var t=e.children,r=e.value,n=e.active,a=e.onClick,s=void 0===a?Ra.a:a,l=Object(i.isValidElement)(t)?r:t,u=n?"Option--Active":"Option";return o.a.createElement("div",{title:l,className:mc.a[u],onMouseDown:function(){s(r)}},t)}function _c(e){var t=e.children,r=e.value,n=e.onChange;return be()(i.Children).call(i.Children,t,(function(e,t){var a=!1;return a=r instanceof Ma.a?r.has(e.props.value):r===e.props.value,Object(i.cloneElement)(e,{key:t,active:a,onClick:function(e){if(r instanceof Ma.a){var t=new Ma.a(We()(r));t.has(e)?t.delete(e):t.add(e),n(t)}else n(e)}})}))}function xc(e){var t=e.children;return o.a.createElement("div",{className:mc.a.Dropdown},t)}var bc=r(190),wc=r.n(bc),Mc=function(e){function t(){var e,r,n;sa()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Is()(this,(e=ks()(t)).call.apply(e,d()(r=[this]).call(r,i))),Kn()(dc()(n),"state",{isOpen:!1,active:0}),Kn()(dc()(n),"close",(function(e){n.setState({isOpen:!1},e)})),Kn()(dc()(n),"open",(function(e){n.setState({isOpen:!0},e)})),Kn()(dc()(n),"toggle",(function(e){n.setState(Sc,e)})),Kn()(dc()(n),"handleClick",(function(){n.toggle()})),Kn()(dc()(n),"handleKeyDown",(function(e){Ec.has(e.keyCode)&&e.preventDefault()})),Kn()(dc()(n),"handleKeyUp",(function(e){switch(e.keyCode){case Jl.esc:n.close();break;case Jl.down:n.isOpen?n.active=n.active+1:n.open();break;case Jl.up:n.isOpen?n.active=n.active-1:n.open();break;case Jl.enter:n.close(),n.props.onChange(n.valueAt(n.active));break;case Jl.space:n.toggle()}})),Kn()(dc()(n),"handleFocus",(function(e){var t=e.target;t.addEventListener("keyup",n.handleKeyUp),t.addEventListener("keydown",n.handleKeyDown),n.target=t})),Kn()(dc()(n),"handleBlur",(function(e){var t=e.target;t.removeEventListener("keyup",n.handleKeyUp),t.removeEventListener("keydown",n.handleKeyDown),$n()(n.close,100)})),Kn()(dc()(n),"handleChange",(function(e){var t=n.props.onChange;n.close((function(){return t(e)}))})),n}return Ds()(t,e),ua()(t,[{key:"valueAt",value:function(e){return i.Children.toArray(this.props.children)[e].props.value}},{key:"render",value:function(){var e=this.isOpen,t=this.props,r=t.placeholder,n=void 0===r?o.a.createElement(Gr,{id:"wRewEU",defaultMessage:[{type:0,value:"Search"}]}):r,a=t.style,i=e?"Input--Open":"Input";return o.a.createElement("div",{className:wc.a.Container,style:a,onClick:this.handleClick},o.a.createElement("div",{className:wc.a[i],tabIndex:0,onFocus:this.handleFocus,onBlur:this.handleBlur},o.a.createElement(yc,{value:this.holder,placeholder:n})),e?this.options:null)}},{key:"isOpen",get:function(){return this.state.isOpen}},{key:"active",get:function(){return this.state.active},set:function(e){var t=i.Children.count(this.props.children);-1===e?e=t-1:e===t&&(e=0),this.setState({active:e})}},{key:"holder",get:function(){var e,t=this.props.value,r=i.Children.toArray(this.props.children),n=Oe()(r).call(r,(function(e){return t instanceof Ma.a?t.has(e.props.value):t==e.props.value}));return n.length?Eo()(e=be()(n).call(n,(function(e){return e.props.children}))).call(e,(function(e,t,r){return r>0&&e.push(", "),e.push(t),e}),[]):null}},{key:"options",get:function(){return o.a.createElement(xc,null,o.a.createElement(_c,{onChange:this.handleChange,value:this.props.value},this.props.children))}}]),t}(i.PureComponent),Ec=new Ma.a([Jl.up,Jl.down]);function Sc(e){return{isOpen:!e.isOpen}}function Tc(e){var t,r=e.options,n=void 0===r?new Be.a:r,a=v()(e,["options"]);return o.a.createElement(Mc,a,be()(t=Ba()(n)).call(t,(function(e,t){var r=Ce()(e,2),n=r[0],a=r[1];return o.a.createElement(gc,{key:t,value:n},a)})))}r(191);r(306),r(192),r(604);function Cc(){var e=pr();return Object(i.useMemo)((function(){return{formatDay:function(t){return e.formatDate(t,{weekday:"long",year:"numeric",month:"long",day:"numeric"})},formatMonthTitle:function(t){return e.formatDate(t,{month:"long",year:"numeric"})},formatWeekdayShort:function(t){var r=Ic(t);return e.formatDate(r,{weekday:"short"})},formatWeekdayLong:function(t){var r=Ic(t);return e.formatDate(r,{weekday:"long"})},getFirstDayOfWeek:function(){return 0}}}),[])}function Ic(e){var t=new Date;return t.setDate(t.getDate()-t.getDay()+e),t}var Ac=r(193),kc=r.n(Ac);function Lc(e){var t=e.url,r=new Me.a(t),n=pr().formatMessage({id:"dQKFUX",defaultMessage:[{type:0,value:"Enter your email address"}]});return o.a.createElement("form",{action:t,method:"post",target:"_blank",className:kc.a.Subscribe},o.a.createElement(hc,{type:"email",name:"EMAIL",placeholder:n,required:!0,className:kc.a.Input}),o.a.createElement(ii,{chevron:"RIGHT"},o.a.createElement(Gr,{id:"KN3F+D",defaultMessage:[{type:0,value:"Subscribe"}]})),We()(uc()(r).call(r),(function(e){var t=Ce()(e,2),r=t[0],n=t[1];return o.a.createElement("input",{key:r,name:r,type:"hidden",value:n})})))}var Dc,Pc,zc=r(94),Oc=r.n(zc),Nc=r(194),jc=r.n(Nc);function Rc(e){var t=e.title,r=e.children;return o.a.createElement("section",{className:jc.a.Container},o.a.createElement("header",null,t&&o.a.createElement("h1",null,t),o.a.createElement(_s,{ribbon:!0})),o.a.createElement("div",{className:jc.a.Content},r))}!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(Dc||(Dc={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(Pc||(Pc={}));function Fc(e){var t=function(t){return i.createElement(cr.Consumer,null,(function(r){or(r);var n=t.value,a=t.children,i=Xe(t,["value","children"]),o="string"==typeof n?new Date(n||0):n;return a("formatDate"===e?r.formatDateToParts(o,i):r.formatTimeToParts(o,i))}))};return t.displayName=Pc[e],t}function Bc(e){var t=function(t){return i.createElement(cr.Consumer,null,(function(r){or(r);var n=t.value,a=t.children,o=Xe(t,["value","children"]),s=r[e](n,o);if("function"==typeof a)return a(s);var l=r.textComponent||i.Fragment;return i.createElement(l,null,s)}))};return t.displayName=Dc[e],t}var Uc=Bc("formatDate");Bc("formatTime"),Bc("formatNumber"),Bc("formatList"),Bc("formatDisplayName"),Fc("formatDate"),Fc("formatTime"),r(307);function Vc(e){var t=e.value,r=void 0===t?new Date:t,n=e.skipTimeIfStartOfDay,a=void 0!==n&&n;r=$i()(r);var i=Wa;return a||eo(r)||(i=Ga),o.a.createElement(Uc,_e()({value:r},i))}function qc(e){var t=e.value,r=void 0===t?new Date:t;return r=$i()(r),o.a.createElement(Uc,_e()({value:r},Wa))}var Wc=r(195),Gc=r.n(Wc);function Yc(e){var t=e.children;return o.a.createElement("ul",{className:Gc.a.Set},t)}function Zc(e){var t=e.as,r=void 0===t?"li":t,n=e.className,a=e.children,i=v()(e,["as","className","children"]),s=qi()(i,{className:Ye()(Gc.a.Item,n)});return o.a.createElement(r,s,a)}function Hc(e){var t=e.value,r=pr();return"foundation"===t?r.formatMessage({id:"TKISVn",defaultMessage:[{type:0,value:"Avalanche Canada Foundation"}]}):t.toUpperCase()}var Qc=r(44),Xc=r.n(Qc);function Kc(e){var t,r,n=e.type,a=e.uid,i=e.tags,s=e.data,l=s.start_date||s.date,u=(null==s?void 0:s.featured_image)||(null==s?void 0:null===(t=s.preview_image)||void 0===t?void 0:t.Column),c=s.title,p=s.category,h=s.source,f=s.shortlede,d=Oc()(i).call(i,"featured")?"Entry--Featured":"Entry";return o.a.createElement("div",{className:Xc.a[d]},(null==u?void 0:u.url)&&o.a.createElement("div",{className:Xc.a.Image},o.a.createElement(Pu,u)),o.a.createElement("div",{className:Xc.a.Content},o.a.createElement("h2",null,o.a.createElement(ce,{to:Eu.uid(n,a)},c)),o.a.createElement(Rh,{value:f}),o.a.createElement("ul",{className:Xc.a.Metadata},l&&o.a.createElement("li",null,o.a.createElement(qc,{value:l})),p&&o.a.createElement("li",null,p),h&&o.a.createElement("li",null,h)),o.a.createElement(Yc,null,be()(r=cl()(i).call(i)).call(r,(function(e){return o.a.createElement(Zc,{key:e},o.a.createElement(Hc,{value:e}))})))))}function Jc(e){var t=e.type,r=e.uid,n=e.tags,a=e.data,i=Oc()(n).call(n,"featured"),s=a.start_date||a.date,l=a.title,u=a.category,c=a.source,p=i?"Entry--Featured":"Entry";return o.a.createElement("div",{className:Xc.a[p]},o.a.createElement("div",{className:Xc.a.Content},o.a.createElement("h2",null,o.a.createElement(ce,{to:Eu.uid(t,r)},l)),o.a.createElement("ul",{className:Xc.a.Metadata},s&&o.a.createElement("li",null,o.a.createElement(qc,{value:s})),u&&o.a.createElement("li",null,u),c&&o.a.createElement("li",null,c))))}function $c(e){var t=e.condensed,r=v()(e,["condensed"]);return Object(i.createElement)(t?Jc:Kc,r)}function ep(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("div",_e()({},r,{className:Xc.a.EntrySet}),t)}function tp(e){var t=e.children,r=v()(e,["children"]),n=r.type,a=vl(Ro.splash(r)),i=Ce()(a,2),s=i[0],l=void 0===s?[]:s,u=i[1],c=!u&&0===l.length,p=nl()(l).call(l,np)||l[0],h=Oe()(l).call(l,(function(e){return e!==p}));return o.a.createElement(Rc,null,t,u&&o.a.createElement(Ms,null,o.a.createElement(Gr,{id:"CUQebg",defaultMessage:[{type:0,value:"Loading latest "},{type:1,value:"type"},{type:0,value:"..."}],values:{type:n}})),c&&o.a.createElement(ws,null,o.a.createElement(Gr,{id:"uZFJU5",defaultMessage:[{type:0,value:"Nothing found."}]})),p&&o.a.createElement(ep,null,rp(p)),h.length>0&&o.a.createElement(ep,null,be()(h).call(h,rp)))}function rp(e){return o.a.createElement($c,_e()({condensed:!0,key:e.uid},e))}function np(e){var t=e.tags;return Oc()(t).call(t,"featured")}$c.propTypes={condensed:g.a.bool};var ap=r(79),ip=r.n(ap);function op(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("dl",_e()({},r,{className:ip.a.Metadata}),t)}function sp(e){var t=e.term,r=e.children,n=e.horizontal,a=e.className,i=v()(e,["term","children","horizontal","className"]);return a=Ye()(a,ip.a.Entry,n&&ip.a.Horizontal),o.a.createElement("div",_e()({},i,{className:a}),o.a.createElement("dt",{className:ip.a.Term},t),o.a.createElement("dd",{className:ip.a.Description},r))}function lp(e){var t,r=e.term,n=void 0===r?null:r,a=e.url,i=void 0===a?document.location.href:a,s=pr();function l(e){return s.formatMessage({id:"xeCA+8",defaultMessage:[{type:0,value:"Share on "},{type:1,value:"provider"}]})}return o.a.createElement(sp,{term:n},o.a.createElement(zr,null,be()(t=Or(i)).call(t,(function(e){return o.a.createElement(Pr,{key:e,link:e,title:l,className:ip.a.ShareEntryItem})}))))}function up(e){var t=e.term,r=e.value;return o.a.createElement(sp,{term:t},o.a.createElement(Vc,{value:r}))}r(308);var cp=r(127),pp=r.n(cp);function hp(e){var t=e.page,r=e.isActive,n=e.children,a=e.style,i=e.onActivate,s=r?"Segment--Active":"Segment";return o.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),i(t)},className:pp.a[s],style:a},n||t)}function fp(e){var t=e.children;return o.a.createElement("span",{className:pp.a.Disabled},t)}function dp(e){var t=e.total,r=void 0===t?0:t,n=e.active,a=void 0===n?1:n,i=e.onChange,s=void 0===i?oi:i;if((r=Math.ceil(r))<2)return null;var l,u,c,p=r<=10?(l=r,be()(u=fr()(c=Array(l)).call(c,1)).call(u,(function(e,t){return e+t}))):function(e,t){for(var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...",i=e-n,o=e+n+1,s=[],l=[],u=1;u<=t;u++)(1==u||u==t||u>=i&&u<o)&&s.push(u);for(var c=0,p=s;c<p.length;c++){var h=p[c];r&&(h-r==2?l.push(r+1):h-r!=1&&l.push(a)),l.push(h),r=h}return l}(a,r,3,null);return o.a.createElement("div",{className:pp.a.Container},be()(p).call(p,(function(e){return"number"==typeof e?o.a.createElement(hp,{key:e,page:e,onActivate:s,isActive:a===e}):o.a.createElement(fp,{key:e},"…")})))}r(80),r(196);r(197);var yp,vp,mp,gp,_p="forecast",xp="advisory",bp="spaw",wp="hot-zone";new Ma.a([bp,_p,xp,wp]);var Mp=(new Date).getFullYear();new Be.a(d()(yp=[[void 0,"All years"]]).call(yp,Ba()(be()(vp=be()(mp=fr()(gp=Array(Mp-2012)).call(gp,Mp)).call(mp,(function(e,t){return e-t}))).call(vp,(function(e){return[e,String(e)]})))));var Ep=new Be.a([["Events",mo],["Blogs",go],["News",_o]]),Sp=r(198),Tp=r.n(Sp);function Cp(e){var t=e.caption,r=e.className,n=e.children;return o.a.createElement("figure",{className:Ye()(Tp.a.Container,r)},n,t)}function Ip(e){var t=e.children;return o.a.createElement("figcaption",{className:Tp.a.Caption},t)}var Ap=r(71),kp=r.n(Ap);function Lp(e){var t,r=e.style,n=e.block,a=e.className,i=e.children;return a=Ye()(a,(t={},Kn()(t,kp.a.Term,!0),Kn()(t,kp.a.Block,n),t)),o.a.createElement("dt",{className:a,style:r},i)}function Dp(e){var t,r=e.className,n=e.block,a=e.style,i=e.children;return r=Ye()(r,(t={},Kn()(t,kp.a.Definition,!0),Kn()(t,kp.a.Block,n),t)),o.a.createElement("dd",{className:r,style:a},i)}function Pp(e){var t,r=e.inline,n=e.condensed,a=e.bordered,i=e.children,s=Ye()(kp.a.List,(t={},Kn()(t,kp.a.Condensed,n),Kn()(t,kp.a.Bordered,a),Kn()(t,kp.a.Inline,r),t));return o.a.createElement("dl",{className:s},i)}function zp(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Va()(t))return!1;return Eo()(e=Oe()(t).call(t,Boolean)).call(e,(function(e,t){return e+t.text}),"").length>0}var Op=r(309),Np=r.n(Op);function jp(e,t){var r=e.content;return o.a.createElement("div",{key:t},o.a.createElement(Rh,{value:r}))}function Rp(e){var t=e.question,r=e.answer;return o.a.createElement(bi,{header:t},o.a.createElement(iu,{horizontal:!0},r))}var Fp=r(199),Bp=r.n(Fp);function Up(e){var t=e.children;return o.a.createElement("blockquote",{className:Bp.a.Blockquote},t)}function Vp(e){var t=e.children;return o.a.createElement("footer",{className:Bp.a.Footer},t)}var qp=r(310),Wp=r.n(qp);function Gp(e){var t=e.value,r=v()(e,["value"]);return o.a.createElement(Xu,_e()({items:be()(t).call(t,Yp),renderItem:Zp,showBullets:t.length>0},r))}function Yp(e){var t=e.image,r=e.content;return{src:t.url,children:o.a.createElement("div",{className:Wp.a.Item},o.a.createElement(Rh,{value:r}))}}function Zp(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("div",{className:"image-gallery-image"},o.a.createElement("img",r),t)}Gp.defaultProps={showThumbnails:!1,autoPlay:!0,slideInterval:7500};var Hp=r(164),Qp=r.n(Hp);function Xp(e){var t=e.src,r=e.url,n=e.title,a=void 0===n?r:n;return o.a.createElement("a",{className:Qp.a.Item,href:r,target:"_blank",title:a,onClick:ts},o.a.createElement("img",{className:Qp.a.Logo,src:t,alt:a}))}function Kp(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("div",_e()({},r,{className:Qp.a.ItemSet}),t)}function Jp(e){return e.sponsor.id}function $p(e){return!1===e.sponsor.isBroken}function eh(e){var t=e.id,r=e.data;return o.a.createElement(Xp,{key:t,title:r.name,src:r["image-229"],url:r.url})}var th=r(81),rh=r.n(th);function nh(e){var t,r=e.email,n=e.workPhoneNumber,a=e.children,i=e.firstName,s=e.lastName,l=e.title,u=e.avatar,c=pr(),p=d()(t="".concat(i," ")).call(t,s);return o.a.createElement("section",{className:rh.a.Container},o.a.createElement("div",{className:rh.a.Media},o.a.createElement(ru,{url:u,name:p})),o.a.createElement("div",{className:rh.a.Content},o.a.createElement("header",{className:rh.a.Header},o.a.createElement("span",{className:rh.a.Name},p),l&&o.a.createElement("span",{className:rh.a.Title},l)),o.a.createElement("address",{className:rh.a.Address},r&&o.a.createElement(Re,{email:r,title:c.formatMessage({id:"WDiGF0",defaultMessage:[{type:0,value:"Send "},{type:1,value:"fullName"},{type:0,value:" an email"}]})}),n&&o.a.createElement(je,{phone:n,ext:null,title:c.formatMessage({id:"vequEq",defaultMessage:[{type:0,value:"Give "},{type:1,value:"fullName"},{type:0,value:" a call"}]})})),a))}function ah(e){var t=e.id,r=e.data,n=r.biography,a=r.avatar,i=v()(r,["biography","avatar"]);return o.a.createElement(nh,_e()({key:t,avatar:null==a?void 0:a.url},i),o.a.createElement(Rh,{value:n}))}var ih=r(311),oh=r.n(ih),sh=r(130),lh=r.n(sh);function uh(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("div",_e()({},r,{className:lh.a.Responsive}),t)}function ch(e){var t=e.value,r=e.onChange,n=e.numbers,a=e.max,i=e.prefix,s=void 0===i?o.a.createElement(Gr,{id:"KxbmQC",defaultMessage:[{type:0,value:"Show"}]}):i,l=e.suffix,u=void 0===l?o.a.createElement(Gr,{id:"+vIwIZ",defaultMessage:[{type:0,value:"entries per page."}]}):l;return Va()(n)||(n="number"==typeof a?Oe()(hh).call(hh,(function(e){return e<a})):ro()(hh).call(hh,0,3)),o.a.createElement("div",{className:lh.a.PageSizeSelector},o.a.createElement("div",null,s),o.a.createElement("div",null,o.a.createElement(Tc,{options:new Be.a(be()(n).call(n,(function(e){return[e,e]}))),value:t||n[0],onChange:r})),o.a.createElement("div",null,u))}function ph(e){var t=e.as,r=void 0===t?"th":t,n=e.className,a=e.children,i=v()(e,["as","className","children"]);return o.a.createElement(r,_e()({className:Ye()(lh.a.FlexContentCell,n)},i),o.a.createElement("div",null,a))}var hh=[10,25,50,75,100,125,150,200];function fh(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=fh(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=fh(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}var yh=Us()("sorting"),vh=Us()("pagesize"),mh=Us()("page");function gh(e,t){var r=Ce()(t,2),n=r[0],a=r[1];switch(n){case yh:return dh({},e,{sorting:a,page:1});case vh:return dh({},e,{pageSize:a,page:1});case mh:return dh({},e,{page:a});default:return e}}var _h="Yes";function xh(e,t,r){switch(e){case"Link":return function(e){return o.a.createElement("a",{href:e[r],target:"_blank"},e[t])};case"Html":return function(e){return o.a.createElement(Rh,{value:e[t]})};default:return function(e){return e[t]}}}function bh(e){var t=e.name,r=e.sortable,n=e.type,a=e.property,i=e.filterable,o=e.option1;return{name:a,title:t,sortable:r===_h,filterable:i===_h,property:xh(n,a,o)}}var wh=r(200),Mh=r.n(wh);function Eh(e){var t=e.header,r=e.column_1,n=e.column_2,a=e.column_3,i=e.column_4,s=e.column_5,l=e.column_6,u=t===Th?"th":"td";return o.a.createElement("tr",null,o.a.createElement(Sh,{as:u,value:r}),o.a.createElement(Sh,{as:u,value:n}),o.a.createElement(Sh,{as:u,value:a}),o.a.createElement(Sh,{as:u,value:i}),o.a.createElement(Sh,{as:u,value:s}),o.a.createElement(Sh,{as:u,value:l}))}function Sh(e){var t=e.as,r=void 0===t?"td":t,n=e.value;return Va()(n)&&n.length>0?o.a.createElement(r,{className:Mh.a.Cell},o.a.createElement(Rh,{value:n})):null}var Th="Yes";function Ch(e){var t=e.value;return be()(t).call(t,Ih)}function Ih(e,t){var r=e.link,n=e.title;return o.a.createElement(Kr,{key:t},o.a.createElement(Au,r,n))}Ch.propTypes={value:g.a.arrayOf(g.a.object.isRequired)};var Ah=new Be.a([["section",function(e){var t=e.value,r=Ce()(t,1)[0],n=r.content,a=r.title,i=r.link,s=v()(r,["content","title","link"]);return o.a.createElement(El,_e()({title:i?o.a.createElement(Au,i,a):a},s),o.a.createElement(Rh,{value:n}))}],["ambassador",ju],["block",function(e){var t=e.value;return o.a.createElement(Rh,{value:t})}],["gallery",function(e){var t=e.value;if(1===t.length){var r=Ce()(t,1)[0];return o.a.createElement(ac,ic(r))}return o.a.createElement(qu,{theme:"LOOSE"},o.a.createElement(Yu,null,be()(t).call(t,oc)),o.a.createElement(Wu,null,be()(t).call(t,sc)))}],["mailChimp",function(e){var t=e.value;return o.a.createElement(Lc,t[0])}],["feedSplash",function(e){var t,r=e.value,n=Ce()(r,1)[0],a=n.type,i=n.tags,s=n.header,l=n.hash;return i="string"==typeof i?be()(t=i.split(",")).call(t,(function(e){return ec()(e).call(e)})):void 0,o.a.createElement(tp,{type:Ep.get(a),tags:i},o.a.createElement(iu,{right:!0},o.a.createElement(Sl,{as:"div",hash:l},o.a.createElement(Rh,{value:s}))))}],["figure",function(e){var t=e.value,r=Ce()(t,1)[0],n=r.figure,a=r.credit,i=r.caption,s=zp(i)||zp(a);return o.a.createElement(Cp,null,o.a.createElement(Pu,n),s&&o.a.createElement(Ip,null,zp(i)&&o.a.createElement(Rh,{value:i}),zp(a)&&o.a.createElement(Pp,null,o.a.createElement(Lp,null,o.a.createElement(Gr,{id:"nYuP02",defaultMessage:[{type:0,value:"Credit"}]})),o.a.createElement(Dp,null,o.a.createElement(Rh,{value:a})))))}],["multiColumnLayout",function(e){var t=e.value;return o.a.createElement("div",{className:Np.a.ColumnSet},be()(t).call(t,jp))}],["question-answer",function(e){var t=e.value,r=Ce()(t,1)[0],n=r.question,a=r.answer;return o.a.createElement(Rp,{question:n,answer:o.a.createElement(Rh,{value:a})})}],["quote",function(e){var t=e.value,r=Ce()(t,1)[0],n=r.content,a=r.author,i=r.date;return o.a.createElement(Up,null,o.a.createElement(Rh,{value:n}),a&&o.a.createElement(Vp,null,a,i&&" ",i&&o.a.createElement(qc,{value:i})))}],["slider",Gp],["sponsor-set",function(e){var t,r=e.value,n=vl(Oo(be()(t=Oe()(r).call(r,$p)).call(t,Jp))),a=Ce()(n,1)[0],i=void 0===a?[]:a;return o.a.createElement(Kp,null,be()(i).call(i,eh))}],["staff-set",function(e){var t=e.value,r=vl(Oo(be()(t).call(t,(function(e){return e.staff.id})))),n=Ce()(r,2),a=n[0],i=void 0===a?[]:a;return n[1]?o.a.createElement(Ms,null):be()(i).call(i,ah)}],["table",function(e){var t,r,n,a,s=e.value,l=be()(s).call(s,bh),u=null==s?void 0:null===(t=s[0])||void 0===t?void 0:t.source,c=Object(i.useReducer)(gh,{sorting:[null,$a],pageSize:10,page:1,onSortingChange:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];f([yh,t])},onPageSizeChange:function(e){f([vh,e])},onPageChange:function(e){f([mh,e])}}),p=Ce()(c,2),h=p[0],f=p[1],y=[],v=Ce()(h.sorting,2),m=v[0],g=v[1];function _(e){if(e.sortable){var t=Ce()(h.sorting,2),r=t[0],n=t[1];return e.name===r?n:$a}}m&&g!==$a&&y.push(ec()(r=d()(n=d()(a="my.".concat(u,".")).call(a,m," ")).call(n,g===Ja?"desc":"")).call(r));var x=yl({predicates:[ho(u)],orderings:y,pageSize:h.pageSize,page:h.page}),b=Ce()(x,2),w=b[0],M=void 0===w?{}:w,E=b[1],S=M.results,T=void 0===S?[]:S,C=M.total_pages,I=M.total_results_size;return o.a.createElement(i.Fragment,null,o.a.createElement(_s,null),o.a.createElement(uh,null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,be()(l).call(l,(function(e){var t;return o.a.createElement(ph,{key:e.name},e.title,o.a.createElement(ti,{sorting:_(e),onChange:oh()(t=h.onSortingChange).call(t,null,e.name)}))})))),o.a.createElement("tbody",null,be()(T).call(T,(function(e){return o.a.createElement("tr",{key:e.id},be()(l).call(l,(function(t){var r=t.name,n=t.property;return o.a.createElement("td",{key:r},n(e.data))})))}))),o.a.createElement("caption",null,E?o.a.createElement(Ms,null,"Loading documents..."):o.a.createElement(ws,null,"Total of ".concat(I," documents\n                                    found."))))),o.a.createElement(ch,{value:h.pageSize,onChange:h.onPageSizeChange,suffix:"documents par page"}),o.a.createElement(dp,{active:h.page,onChange:h.onPageChange,total:C}))}],["tabular",function(e){var t=e.primary,r=e.items,n=nl()(r).call(r,(function(e){return e.header===Th})),a=Oe()(r).call(r,(function(e){return e!==n})),i=t.caption_position;return o.a.createElement(uh,null,o.a.createElement("table",null,n&&o.a.createElement("thead",null,o.a.createElement(Eh,n)),o.a.createElement("tbody",null,be()(a).call(a,(function(e,t){return o.a.createElement(Eh,_e()({key:t},e))}))),Va()(t.caption)&&t.caption.length>0&&o.a.createElement("caption",{style:{captionSide:i},className:Mh.a.Cell},o.a.createElement(Rh,{value:t.caption}))))}],["description_list",function(e){var t=e.items;return o.a.createElement("dl",null,be()(t).call(t,(function(e){var t=e.term,r=e.description;return o.a.createElement(i.Fragment,null,o.a.createElement("dt",null,t),o.a.createElement("dd",null,o.a.createElement(Rh,{value:r})))})))}],["header",function(e){var t=e.value;return o.a.createElement(Jr,null,t)}],["items",Ch],["contact-form",function(){return o.a.createElement("iframe",{src:"https://avalanchecanada.supportbee.com/web_tickets/new?embed=true&locale=en",style:{width:"100%",height:500,border:"none"}})}]]);function kh(e){var t=e.value,r=void 0===t?[]:t,n=e.components,a=void 0===n?Ah:n,o=v()(e,["value","components"]);return be()(r).call(r,(function(e,t){var r=e.slice_type,n=v()(e,["slice_type"]);return a.has(r)?Object(i.createElement)(a.get(r),qi()(n,o,{key:t})):null}))}function Lh(e,t){var r=Pe()(e);if(Qn.a){var n=Qn()(e);t&&(n=Oe()(n).call(n,(function(t){return Zn()(e,t).enumerable}))),r.push.apply(r,n)}return r}kh.propTypes={value:g.a.arrayOf(g.a.object).isRequired,components:g.a.instanceOf(Be.a)};var Dh=new Be.a([["hyperlink",Au],["em","em"],["strong","strong"],["label",function(e){var t=e.label,r=e.children;return o.a.createElement("span",{className:t},r)}]]);function Ph(e){return function(t){var r=t.text,n=t.label,a=t.spans,s=r;return a.length>0&&(s=Eo()(a).call(a,(function(e,t,n){var a=t.type,o=t.start,s=t.end;return function(e,t,r,n){var a;return Va()(e)||(e=[e]),qs()(a=be()(e).call(e,(function(e){if("string"==typeof e)e=jl(e,t,r,n),t-=e.length,r-=e.length;else if(Object(i.isValidElement)(e)){var a=e.props.children;"string"==typeof a&&(e=Object(i.cloneElement)(e,null,jl(a,t,r,n)),t-=a.length,r-=a.length)}return e}))).call(a)}(e,o,s,Object(i.createElement)(Dh.get(a),qi()({},t.data,{key:n}),r.substring(o,s)))}),r)),Object(i.createElement)(e,{className:n},o.a.createElement(i.Fragment,null,Nl(s)))}}var zh=new Be.a([["heading1",Ph("h1")],["heading2",Ph("h2")],["heading3",Ph("h3")],["heading4",Ph("h4")],["heading5",Ph("h5")],["heading6",Ph("h6")],["paragraph",Ph("p")],["list-item",Ph("li")],["o-list-item",Ph("li")],["preformatted",Ph("pre")],["strong",Ph("strong")],["em",Ph("em")],["image",Pu],["embed",function(e){var t=e.label,r=e.oembed,n=r.type,a=r.provider_name,i=r.embed_url,s=r.html;return o.a.createElement(ss,{className:t,"data-oembed":i,"data-oembed-provider":a,"data-oembed-type":n},s)}],["hyperlink","a"]]),Oh=new Ma.a(["list-item","o-list-item"]),Nh=new Be.a([["list-item","ul"],["o-list-item","ol"]]);function jh(e,t,r,n){var a=t.type,o=v()(t,["type"]),s=Object(i.createElement)(zh.get(a),function(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)Gn()(r=Lh(n,!0)).call(r,(function(t){Kn()(e,t,n[t])}));else if(qn.a)Un()(e,qn()(n));else{var a;Gn()(a=Lh(n)).call(a,(function(t){Fn()(e,t,Zn()(n,t))}))}}return e}({},o,{key:r}));if(Oh.has(a)){var l=n[r-1];if(l&&Oh.has(l.type)){var u=e.length-1,c=e[u];c.props.children.push(s),e[u]=Object(i.cloneElement)(c,c.props)}else{var p=Object(i.createElement)(Nh.get(a),{key:r},[s]);e.push(p)}}else e.push(s);return e}function Rh(e){var t=e.value;return Va()(t)?Eo()(t).call(t,jh,[]):null}Rh.propTypes={value:g.a.arrayOf(g.a.shape({type:g.a.oneOf(We()(il()(zh).call(zh))).isRequired})),className:g.a.string};var Fh=Object(i.createContext)(),Bh=Fh.Provider;function Uh(e){var t=e.children;return!0===Zh()?t:null}function Vh(e){var t=e.children,r=Yh();return r?Xh(t,r):null}function qh(e){var t=e.children,r=Yh(),n=Zh(),a=Hh();return!r&&!n&&!a?t:null}function Wh(e){var t=e.children,r=Hh();return r?(Object(i.isValidElement)(t)&&(t=Object(i.cloneElement)(t,{error:r})),t):null}function Gh(e){var t=e.children,r=e.status,n=function(){var e=Hh();return e instanceof Os?e:null}();return n?(Object(i.isValidElement)(t)&&(t=Object(i.cloneElement)(t,{error:n})),"number"==typeof r?n.status===r?t:null:t):null}function Yh(){return Qh(0)}function Zh(){return Qh(1)}function Hh(){return Qh(2)}function Qh(e){return Object(i.useContext)(Fh)[e]}function Xh(e,t){return"function"==typeof e?e(t):Object(i.isValidElement)(e)?Object(i.cloneElement)(e,{payload:t}):e}Uh.propTypes={children:g.a.node},Vh.propTypes={children:g.a.oneOfType([g.a.func,g.a.element,g.a.node]).isRequired},qh.propTypes={children:g.a.node},Wh.propTypes={children:g.a.oneOfType([g.a.element,g.a.node])},Gh.propTypes={children:g.a.oneOfType([g.a.element,g.a.node]),status:g.a.number};r(312);r(54);var Kh=function(e){function t(){var e,r,n;sa()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=Is()(this,(e=ks()(t)).call.apply(e,d()(r=[this]).call(r,i))),Kn()(dc()(n),"state",{}),n}return Ds()(t,e),ua()(t,[{key:"componentDidCatch",value:function(e,t){if(he(e))throw e;var r=this.props,n=r.onError;r.capture&&function(e,t){fa.withScope((function(r){r.setExtras(t),fa.captureException(e),console.error(e,t)}))}(e,{extra:t}),this.setState({error:e,extra:t},(function(){n(e,t)}))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallback;return this.state.error?Object(i.cloneElement)(r,this.state):t}}],[{key:"getDerivedStateFromError",value:function(e){return{error:he(e)?null:e}}}]),t}(i.Component);function Jh(e){var t=e.uid,r=e.children;return o.a.createElement(Bh,{value:gl(t)},r)}function $h(e){var t=e.payload;return o.a.createElement(Rh,{value:t.data.body})}function ef(e){var t=e.children,r=void 0===t?null:t;return o.a.createElement(i.Fragment,null,o.a.createElement(Uh,null,o.a.createElement(Ms,{as:"span"},r)),o.a.createElement(Vh,null,(function(e){return e.data.title||r})),o.a.createElement(qh,null,o.a.createElement(tf,null)),o.a.createElement(Wh,null,r))}function tf(e){var t=e.title,r=void 0===t?"":t;return o.a.createElement(Es,null,o.a.createElement(Gr,{id:"u4Hv7v",defaultMessage:[{type:0,value:"Document "},{type:1,value:"title"},{type:0,value:" not found."}],values:{title:r}}))}function rf(){return i.createElement(bi,{header:i.createElement(ef,null)},i.createElement(Vh,null,(function(e){return i.createElement(iu,{horizontal:!0},i.createElement($h,{payload:e}))})))}function nf(e){var t=fu(e.type);return i.createElement(t,null,i.createElement(Vh,null,i.createElement($h,null)))}Kn()(Kh,"defaultProps",{onError:function(){},capture:!0});var af=r(201),of=r.n(af),sf=r(313),lf=r.n(sf),uf=r(202),cf=r.n(uf);function pf(e){var t=pr(),r=Cc(),n=e.slug,a=Object(i.useState)(e.date||of()()),s=Ce()(a,2),l=s[0],u=s[1],c=Xo("/forecasts/archives",n,Lo.format(l));return o.a.createElement("div",{className:cf.a.Container},o.a.createElement("h3",null,o.a.createElement(Gr,{id:"7qOQpv",defaultMessage:[{type:0,value:"Select a date"}]})),o.a.createElement(lf.a,{localeUtils:r,selectedDays:l,onDayClick:function(e,t){t.disabled||u(e)},fixedWeeks:!0,disabledDays:{after:of()()}}),o.a.createElement(ce,{className:cf.a.Link,to:c},o.a.createElement(Gr,{id:"Gacp29",defaultMessage:[{type:0,value:"Read the "},{type:1,value:"date"},{type:0,value:" avalanche forecast"}],values:{date:t.formatDate(l,Wa)}})))}var hf=r(100),ff=r.n(hf);function df(e){var t=e.children,r=p().slug;return o.a.createElement(xf,{slug:r},t)}function yf(e){var t=e.slug,r=o.a.createElement(Gr,{id:"BvR5MR",defaultMessage:[{type:0,value:"Archived bulletins"}]});return o.a.createElement(bi,{header:r},o.a.createElement(pf,{slug:t}))}function vf(){return o.a.createElement(gf,{uid:"forecast-rss-message"})}function mf(e){var t=e.uid,r=void 0===t?"forecast-disclaimer":t;return o.a.createElement(gf,{uid:r})}function gf(e){var t=e.uid;return o.a.createElement(Jh,{uid:t},o.a.createElement(rf,null))}function _f(){var e=o.a.createElement(Gr,{id:"mSeuWm",defaultMessage:[{type:0,value:"Danger Ratings Explained"}]});return o.a.createElement(bi,{header:e},o.a.createElement(Ui,null))}function xf(e){var t,r,n=e.children,a=e.slug;return n=n||[o.a.createElement(yf,null),o.a.createElement(_f,null),o.a.createElement(vf,null),o.a.createElement(mf,null)],o.a.createElement("footer",{className:ff.a.Footer},be()(t=Oe()(r=i.Children.toArray(n)).call(r,Boolean)).call(t,(function(e){switch(e.type){case yf:return Object(i.cloneElement)(e,{slug:a});default:return e}})))}var bf=r(314),wf=r.n(bf);function Mf(e){var t=e.shareUrl,r=h(),n=pr();return o.a.createElement(op,null,o.a.createElement(up,{term:n.formatMessage({id:"J8jnsU",defaultMessage:[{type:0,value:"Date Issued"}]}),value:r.dateIssued}),o.a.createElement(Ef,{dateIssued:r.dateIssued,validUntil:r.validUntil}),o.a.createElement(sp,{term:n.formatMessage({id:"EA22jQ",defaultMessage:[{type:0,value:"Prepared by"}]})},r.forecaster),t&&o.a.createElement(lp,{url:t}))}function Ef(e){var t=e.dateIssued,r=e.validUntil,n=pr().formatMessage({id:"8kFo5V",defaultMessage:[{type:0,value:"Valid Until"}]});return o.a.createElement(sp,{term:n},wf()(t,r)>Sf?o.a.createElement("span",null,o.a.createElement(Gr,{id:"wzEVz0",defaultMessage:[{type:0,value:"Until further notice"}]})):o.a.createElement(Vc,{value:r}))}var Sf=7;function Tf(){var e=h();return o.a.createElement("header",{className:ff.a.Headline},o.a.createElement(ss,null,e.highlights))}function Cf(e){var t=e.title,r=e.children;return r?o.a.createElement("section",{className:ff.a.Summary},o.a.createElement("h3",null,t),r):null}function If(){var e,t=h();return be()(e=t.summaries).call(e,(function(e){var t=e.type,r=e.content;return o.a.createElement(Cf,{key:t.value,title:t.display},o.a.createElement(ss,null,r))}))}function Af(){var e,t=h();if(!(null==t?void 0:null===(e=t.confidence)||void 0===e?void 0:e.ratings))return null;var r=t.confidence,n=r.ratings,a=r.statements,i=o.a.createElement("dl",null,o.a.createElement("dt",null,o.a.createElement(Gr,{id:"EoQTj0",defaultMessage:[{type:0,value:"Confidence"}]})),o.a.createElement("dd",null,n));return o.a.createElement(Cf,{title:i},o.a.createElement("ul",null,be()(a).call(a,(function(e,t){return o.a.createElement("li",{key:t},e)}))))}function kf(e){var t=e.value,r=void 0===t?new Date:t,n=e.format,a=e.children,i=$i()(r);return"function"==typeof n&&(n=n(r)),o.a.createElement("time",{dateTime:To()(i)},a||To()(i,n))}var Lf="alp",Df="tln",Pf="btl",zf=new Ma.a([Lf,Df,Pf]);var Of="#EF1C29",Nf="#F79218",jf="#FFF300",Rf="#52BA4A",Ff="#FFFFFF",Bf="#000000",Uf=new Be.a([[Li,Ff],[ki,Bf],[Ai,Bf],[Ii,Bf],[Ci,Bf],[Di,Bf]]),Vf=new Be.a([[Li,Bf],[ki,Of],[Ai,Nf],[Ii,jf],[Ci,Rf],[Di,Ff]]),qf=new Be.a([[Li,Of],[ki,Bf],[Ai,Bf],[Ii,Bf],[Ci,Bf],[Di,Bf]]);new Be.a([[Li,Of],[ki,Of],[Ai,Nf],[Ii,jf],[Ci,Rf],[Di,Ff]]);function Wf(){return o.a.createElement("g",{width:"113.31",height:"81.62"},o.a.createElement("path",{fill:Bf,d:"M107.82 25.12l.04-.46c0-2.47-2.02-4.5-4.5-4.5-.53 0-1.05.14-1.55.32-.8-3.6-3.9-6.16-7.7-6.16-3.3 0-6.3 2.14-7.4 5.26-1.2-.7-2.6-1.1-4.1-1.1-3.7 0-7 2.54-8 6.1-.9-.7-2.1-1.1-3.3-1.1-1.7 0-3.3.8-4.3 2.02L41.8.38c-.5-.5-1.4-.5-1.9 0L.3 39.88c-.24.26-.37.6-.37.93 0 .4.14.7.4 1l39.5 39.5c.24.3.56.4.9.4s.7-.1.93-.4l39.5-39.5c.27-.2.4-.6.37-.9h23.7c4.42 0 8-3.6 8-8.1 0-3.4-2.24-6.5-5.48-7.5z"}),o.a.createElement("path",{fill:Ff,d:"M107.2 25.87l-.36-.14.1-1.07c0-1.96-1.6-3.57-3.58-3.57-.58 0-1.14.1-1.66.4l-.56.3-.1-.7c-.55-3.5-3.47-5.9-6.94-5.9-3.13 0-5.9 2.1-6.76 5.1l-.17.6-.52-.4c-1.22-.8-2.63-1.2-4.08-1.2-3.56 0-6.64 2.5-7.33 6l-.16.8-.6-.6c-.9-.9-2.08-1.3-3.3-1.3-2.08 0-3.84 1.3-4.54 3.1L41.17 2c-.1-.1-.24-.1-.37-.1-.14 0-.27.1-.37.2l-.73.8L17.52 25l12.64-7.18 9.23 4.34 3.6-2.7 14.2 14.2c1.3 1.68 5.6 6.28 10.3 6.28h37.8c3.9 0 7.1-3.2 7.1-7.2 0-3.14-2.2-5.94-5.2-6.8z"}),o.a.createElement("path",{fill:Bf,d:"M69.94 34.65l-20.3-20.27-1.17.87 20.46 20.4c.28.28.74.28 1 0 .3-.27.3-.73 0-1zM46.32 16.87l-1.14.9 18 17.98c.28.28.73.28 1 0 .3-.3.3-.73 0-1.02L46.33 16.87z"}),o.a.createElement("path",{fill:Of,d:"M2.1 41.1l38.34 38.33c.1.1.23.15.36.15.13 0 .26-.05.36-.15L79.5 41.1c.08-.1.12-.2.13-.32H1.97c0 .12.06.23.14.32z"}),o.a.createElement("path",{fill:Bf,d:"M53.35 46.43c.1 1.04-2.12 3.27-3.6 4.83-1.45 1.55-3.1 3.6-4.4 5.2 1.14 1.18 2.3 2.33 3.5 3.5 1.18 1.14 2.4 2.3 3.64 3.42-.2.7-1.1 1.55-1.5 1.6-.2.13-1.8 2.4-3.5 2 0 0-2.5-1.82-3.4-2.77-.9-.9-2.5-2.2-3.4-3.3-1.3 1.5-5.6 5.4-6.5 6.7 0 0-1.5.6-3.4-1.4-.3-.3-.6-.6-.8-1 0-.2-1.3-1.6-.4-2.5 1.1-1.1 5.5-5.2 6.8-6.5-1.2-1.6-6.7-8.6-6.3-9.7.2-.7 2.7-2 3.2-2.1l1.4-.3c.5.3 5.4 6.6 6.2 7.5 1.5-1.6 6.2-6.7 7.9-8.1.3.18.7.3 1 .56.3.2 2.1 1.8 2.1 1.8l1 1zm37.23-19.37c-1.73-1.5-3.66-2.07-5.67-2-1.5.06-3 .7-4 1.72v.14c.1.05.1.06.2.03 3.1-1.8 6.2-1.3 8.7.87 2.5 2.27 2.9 4.98 1.4 8.47 0 0 0 .1.1.1h.2c1-1.1 1.6-2.5 1.6-4.1 0-2-.43-3.9-2.2-5.4zm-9.22 6.34c-.28-1.16-1.03-2.18-2.25-2.8-1.1-.56-2.5-.6-3.6-.23-.9.3-1.7 1.02-2.1 1.8 0 .07 0 .14.1.18.1.03.2.02.2-.02 1.5-1.4 3.3-1.74 5.1-.88 1.9.9 2.6 2.38 2.3 4.63 0 .05.1.12.1.14.1 0 .1 0 .2-.07.4-.8.5-1.83.3-2.76z"}))}var Gf=new Be.a([[Lf,0],[Df,1],[Pf,2]]);function Yf(e){var t,r=e.elevation,n=e.rating,a=e.showTravelAdvice,i=void 0!==a&&a,s=e.expanded,l=e.expandable,u=void 0!==l&&l,c=e.onExpandClick,p=Gf.get(r.value),h=385+20*p,f=211+50*p,y=301-20*p,v=n.value,m=n.display,g=Vf.get(v),_=qf.get(v),x=Xf.get(v);return o.a.createElement("g",{transform:d()(t="translate(".concat(h," ")).call(t,f,")")},o.a.createElement("rect",{x:18,width:y,height:s?90:37,fill:g,stroke:_,strokeWidth:.5,strokeMiterlimit:10}),o.a.createElement(Zf,{rating:v,showTravelAdvice:i},m),i&&o.a.createElement(Hf,{rating:v,expanded:s}),o.a.createElement("g",{transform:"scale(0.45)"},o.a.createElement(x,null)),u&&o.a.createElement(Qf,{rating:n,onClick:c,expanded:s,x:685-h}))}function Zf(e){var t=e.rating,r=e.children,n=e.showTravelAdvice,a=void 0!==n&&n&&t!==Di,i=a?12:null,s=Uf.get(t),l=a?14:23;return o.a.createElement("text",{x:70,y:l,fill:s,fontSize:i},r)}function Hf(e){var t=e.rating,r=e.expanded,n=void 0!==r&&r,a=Oi(),i=Ni(),s=ji();if(t===Di)return null;var l=n?"100%":19,u={color:Uf.get(t),fontSize:"0.45em",marginTop:0};return o.a.createElement("foreignObject",{x:70,y:18,width:215,height:l},o.a.createElement("p",{xmlns:"http://www.w3.org/1999/xhtml",style:u},a.get(t)),n&&o.a.createElement("p",{style:u},i.get(t)),n&&o.a.createElement("p",{style:u},s.get(t)))}function Qf(e){var t=e.rating,r=e.x,n=e.onClick,a=e.expanded;if(t===Di)return null;var i=Uf.get(t),s=a?"M19 13H5v-2h14v2z":"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z";return o.a.createElement("g",{transform:"translate(".concat(r," 3)"),onClick:n,style:{cursor:"pointer",zIndex:1}},o.a.createElement("rect",{width:15,height:15,fill:"transparent"}),o.a.createElement("path",{transform:"translate(1.5 1.5) scale(0.5)",d:s,fill:i}))}var Xf=new Be.a([[Ci,function(){return o.a.createElement("g",{width:"81.62",height:"81.62"},o.a.createElement("path",{fill:Bf,d:"M81.23 39.9L41.73.37c-.52-.5-1.34-.5-1.85 0L.38 39.87c-.25.26-.38.6-.38.94 0 .4.15.7.4 1l39.5 39.5c.24.25.57.4.92.4.34 0 .67-.15.92-.4l39.5-39.5c.5-.5.5-1.33 0-1.84z"}),o.a.createElement("path",{fill:Ff,d:"M68.9 29.8l-4.84-4.84L48.9 9.76 43.7 4.6l-1.54-1.55-.97-.98c-.1-.1-.3-.16-.4-.16-.18 0-.3.1-.4.2l-.74.76L17.53 25l12.63-7.18 9.24 4.33 10.1-7.83.44.33L67 31.7c.52.53 1.37.53 1.9 0 .53-.52.53-1.37 0-1.9z"}),o.a.createElement("path",{fill:Rf,d:"M2.1 41.1l38.34 38.33c.1.1.22.15.36.15.13 0 .26-.06.35-.15L79.5 41.1c.08-.1.12-.2.13-.32H1.97c0 .12.05.23.14.32z"}),o.a.createElement("path",{fill:Bf,d:"M64.03 46.17c.47.88-3.7 3.84-9 9.15-6 6-13.36 14.44-14.45 15.14-1.2.75-2.77.2-3.28-.58-.27-.4-5.97-9.66-5.97-10.04 0-.77.45-1.47 1.34-2.1.9-.65 1.8-1.52 2.63-1.12.26.13 3.87 6.3 4.85 6.28 1.96-.04 16.22-17.67 19-17.93.65-.07 4.08-.4 4.88 1.2z"}))}],[Ii,function(){return o.a.createElement("g",{width:"81.62",height:"81.61"},o.a.createElement("path",{fill:Bf,d:"M81.23 39.9L41.73.37c-.5-.5-1.34-.5-1.84 0L.3 39.87c-.24.26-.37.6-.37.94 0 .4.14.7.4 1l39.5 39.5c.24.3.57.4.9.4s.7-.1.93-.3l39.5-39.5c.5-.5.5-1.3 0-1.8z"}),o.a.createElement("path",{fill:jf,d:"M2.1 41.1l38.34 38.33c.1.1.23.15.36.15.13 0 .26-.05.36-.15L79.5 41.1c.08-.1.12-.2.13-.32H1.97c0 .12.06.23.14.32z"}),o.a.createElement("path",{fill:Bf,d:"M37.08 46.26l.74 15.1c0 2.17 5.9 2.17 5.9 0l.73-15.1c0-2.4-7.37-2.4-7.37 0zm6.9 21.47c0 1.76-1.43 3.18-3.18 3.18-1.76 0-3.18-1.4-3.18-3.1s1.42-3.2 3.18-3.2c1.75 0 3.18 1.5 3.18 3.2zm16-49.43c-.85.85-1.27 1.96-1.27 3.06s.5 2.2 1.3 3.06c.7.63 1.5 1.03 2.4 1.18.1 1.03.5 2 1.2 2.74.3.27.6.5 1 .68.2.3.4.6.7.86.6.52 1.2.9 1.9 1.12.1 1.4.7 2.7 1.7 3.7 2.3 2.3 6 2.3 8.3 0 1.1-1.1 1.7-2.57 1.7-4.14 0-1.57-.6-3.05-1.7-4.15-.8-.8-1.9-1.3-3-1.5.35-.7.57-1.4.57-2.1 0-1.2-.46-2.4-1.4-3.3-1.75-1.7-4.56-1.8-6.43-.2-.17-.23-.36-.5-.6-.72-1.7-1.66-4.4-1.66-6.1 0z"}),o.a.createElement("path",{fill:Ff,d:"M69.33 34.05c-.9-.9-1.4-2.1-1.44-3.4l-.1-.34h-.4c-.7-.1-1.3-.5-1.8-1-.3-.2-.4-.5-.6-.7l-.1-.1h-.2c-.3-.1-.6-.3-.84-.6-.6-.6-.95-1.5-.9-2.4l.06-.43-.5-.04c-.8-.07-1.6-.4-2.2-1-1.32-1.3-1.32-3.46 0-4.8 1.3-1.3 3.46-1.3 4.8 0 .28.3.5.65.68 1.03l.3.6.57-.6.1-.07c1.5-1.5 3.96-1.5 5.46 0 1.35 1.3 1.5 3.4.45 4.9l-.45.7.8.05c1.15.1 2.26.6 3.1 1.45 1.9 1.92 1.9 5.05 0 7-1.94 1.9-5.07 1.9-7 0z"}),o.a.createElement("path",{fill:Ff,d:"M71.27 32.16l-7.2-7.2-15.2-15.2L43.7 4.6l-1.55-1.54-.98-1c-.1-.08-.24-.14-.37-.14-.14 0-.27.06-.37.15l-.73.74L17.52 25l12.64-7.17 9.23 4.36 10-7.9.4.3L69.3 34c.5.52 1.34.52 1.9 0 .5-.54.5-1.4 0-1.93z"}),o.a.createElement("path",{fill:Bf,d:"M70.9 26.55c-.35-.44-1.06-.74-1.6-.8-.03 0-.06.02-.07.06 0 .1 0 .1.04.1 1.17.5 1.76 1.5 1.66 2.7-.12 1.3-.77 2-2.1 2.4-.04 0-.06.1-.06.1s.03.1.06.1c.53.1 1.3-.1 1.73-.4.54-.42.96-1.1 1.03-1.9v-.23c0-.64-.3-1.3-.7-1.8z"}))}],[Ai,function(){return o.a.createElement("g",{width:"98.38",height:"81.61"},o.a.createElement("path",{fill:Bf,d:"M91.37 26.73c-.45 0-.92.1-1.38.2-1-3.2-3.9-5.42-7.3-5.42-3.2 0-6 2-7.1 4.9-.9-.4-1.8-.6-2.7-.6-1.7 0-3.2.7-4.3 1.7L41.7.4c-.5-.5-1.33-.5-1.84 0L.36 39.88c-.26.25-.4.6-.4.93 0 .4.15.7.4 1l39.5 39.5c.24.3.57.4.9.4.36 0 .7-.1.94-.3l39.5-39.5c.3-.2.4-.6.4-.9h9.8c3.9 0 7-3.1 7-7 0-3.86-3.1-7-7-7z"}),o.a.createElement("path",{fill:Ff,d:"M91.37 27.66c-.52 0-1.05.08-1.58.22l-.5.12-.1-.46c-.8-3-3.4-5.1-6.5-5.1-3 0-5.5 1.9-6.4 4.7l-.2.55-.5-.3c-.9-.5-1.8-.8-2.7-.8-2 0-3.7 1-4.6 2.6L64 24.9 48.8 9.7l-5.4-5.4L42.1 3l-.96-.96c-.1-.1-.24-.15-.37-.15-.14 0-.27 0-.37.1l-.72.7L17.5 24.9l12.63-7.17 9.24 4.34 6.92-5.23 17.3 17.3c.6.68 1.1 1.3 1.5 1.63l.4.4c1.3 1.3 3.7 3.72 6.4 3.72h19.4c3.3 0 6-2.8 6-6.2 0-3.4-2.7-6.1-6.1-6.1z"}),o.a.createElement("path",{fill:Bf,d:"M48.5 15.23L69.27 36c.28.28.73.28 1 0 .3-.28.3-.73 0-1L49.63 14.32l-1.13.9zM82.64 33.4c-.18-1.13-.8-2.16-2.1-2.8-1.16-.54-2.72-.6-3.83-.22-.9.3-1.8 1-2.2 1.8 0 .05 0 .13.1.16.1.04.1.03.2 0 1.5-1.5 3.6-1.62 5.1-.9 1.8.88 2.6 2.38 2.3 4.63 0 .06.1.12.1.14.1.1.1 0 .2 0 .4-.8.5-1.8.4-2.7z"}),o.a.createElement("path",{fill:Nf,d:"M2.1 41.1l38.34 38.33c.1.1.22.15.36.15.13 0 .26-.05.36-.15L79.5 41.1c.08-.1.12-.2.13-.32H1.97c0 .1.05.23.14.32z"}),o.a.createElement("g",{fill:Bf},o.a.createElement("path",{d:"M31.88 45.2l.73 15.1c0 2.17 5.9 2.17 5.9 0l.8-15.1c0-2.4-7.3-2.4-7.3 0z"}),o.a.createElement("circle",{cx:"35.59",cy:"66.67",r:"3.18"})),o.a.createElement("g",{fill:Bf},o.a.createElement("path",{d:"M42.27 45.2L43 60.3c0 2.17 5.9 2.17 5.9 0l.73-15.1c0-2.4-7.36-2.4-7.36 0z"}),o.a.createElement("circle",{cx:"45.99",cy:"66.67",r:"3.18"})))}],[ki,Wf],[Li,Wf],[Di,function(){return o.a.createElement("g",{width:"82.46",height:"82.47"},o.a.createElement("path",{d:"M82.07 40.3L42.15.38c-.5-.5-1.34-.5-1.86 0L.3 40.3c-.24.25-.37.58-.37.94 0 .34.14.67.4.92l39.9 39.92c.25.25.6.38.93.38.35 0 .7-.13.93-.38l40-39.92c.5-.5.4-1.34-.1-1.86z"}),o.a.createElement("path",{fill:Ff,d:"M69.6 30.1l-4.87-4.88L49.38 9.88l-5.23-5.24-1.57-1.56-.98-1c-.1-.1-.24-.15-.38-.15s-.27.06-.37.16l-.74.7-22.4 22.4L30.5 18l9.33 4.4L50 14.45l.43.32 17.25 17.26c.53.53 1.4.53 1.93 0 .6-.54.6-1.4 0-1.93zM2.13 41.53l38.73 38.72c.1.1.22.16.36.16.14 0 .27 0 .37-.1l38.7-38.7c.1-.1.1-.2.1-.3H2c0 .2.04.3.13.4z"}),o.a.createElement("path",{d:"M41.2 66.07c-.8 0-1.55-.28-2.1-.82-.62-.6-.88-1.44-.88-2.36 0-1.1.17-2.1.53-2.9.34-.8.8-1.6 1.37-2.2.54-.6 1.25-1.3 2.13-2 .75-.7 1.3-1.2 1.6-1.5.3-.3.53-.6.73-1 .17-.3.25-.6.25-1 0-.8-.25-1.3-.8-1.8-.57-.5-1.25-.8-2.2-.8-1.2 0-1.9.3-2.33.7-.5.53-1 1.4-1.4 2.6-.4 1.52-1.55 2.6-3.03 2.56-.85 0-1.66-.34-2.24-.95-.56-.6-.9-1.3-.9-2.1 0-1.3.4-2.6 1.2-3.83.8-1.3 1.97-2.33 3.45-3.14 1.52-.84 3.28-1.25 5.24-1.24 1.8 0 3.45.33 4.9 1.02 1.42.7 2.56 1.64 3.36 2.86.8 1.2 1.2 2.6 1.2 4 0 1.14-.23 2.16-.7 3.05-.45.84-.98 1.56-1.6 2.17-.6.6-1.6 1.5-3.06 2.8l-.9.9c-.23.3-.37.5-.45.65-.1.2-.17.36-.22.54l-.27 1.14c-.2 1.43-1.33 2.5-2.75 2.5h-.14z"}),o.a.createElement("circle",{cx:"41.36",cy:"71.03",r:"3.4"}))}]]);function Kf(e){var t=e.showTravelAdvice,r=void 0!==t&&t,n=e.expandable,a=void 0!==n&&n,s=e.children,l=Object(i.useState)(null),u=Ce()(l,2),c=u[0],p=u[1];return o.a.createElement("g",null,be()(i.Children).call(i.Children,s,(function(e,t){return Object(i.cloneElement)(e,{showTravelAdvice:r,expandable:a,expanded:c===t,onExpandClick:function(){p(c===t?null:t)}})})))}function Jf(e){var t=e.children,r=v()(e,["children"]);return o.a.createElement("text",_e()({},r,{fontSize:8}),t)}var $f={overflow:"visible",width:"100%"};function ed(e){var t=e.showTravelAdvice,r=void 0!==t&&t,n=e.showExtraInformation,a=void 0!==n&&n,i=v()(e,["showTravelAdvice","showExtraInformation"]),s=i.alp,l=i.tln,u=i.btl;return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"255 205 450 146",style:$f},o.a.createElement("path",{fill:"#DDEEFA",d:"M705 204.9v50.6H418.8c-15.7 1.2-29.5 12.3-29.5 12.3-2.5 7.6-34.7 1.4-34.7 1.4l2.5 4.7c-8.9-5.8-29.4.4-29.4.5 0 .1-26.8 12.9-40.3.1-10.2-9.7-25.1-6.2-32.3-3.9v-65.8H705z"}),o.a.createElement("path",{fill:"#D1D9A3",d:"M704.8 255.6v49.3l-283.8-.2-18.6-11.2c-18.8 1.6-29.2 10.1-37.3 16.2-8.1 6-12.4 5.7-20.8 6.3-8.5.6-15.5-2.9-21.5-6.2-6-3.3-8.3-4.7-20.8-9.7-12.5-4.9-22.6-3.2-23-3.2s-11 1.6-12.8-1.7c-1.2-2.2-6.8-1.5-11-.8v-23.8c7.2-2.4 22.1-5.9 32.3 3.7 13.6 12.8 40.3.1 40.3-.1s20.6-6.4 29.5-.6l-2.5-4.7s32.1 6.3 34.7-1.3c0 0 13.9-11.1 29.5-12.3h137.7l148.1.3z"}),o.a.createElement("path",{fill:"#AEBFAC",d:"M704.8 304.8v49.6H255v-59.9c4.2-.7 9.8-1.4 11 .8 1.8 3.3 12.3 1.7 12.7 1.7s10.6-1.8 23.1 3.2c12.5 5 14.8 6.3 20.8 9.7s13.1 6.8 21.6 6.2c8.5-.6 12.7-.3 20.8-6.3 8.1-6 18.6-14.6 37.4-16.2l18.6 11.2h283.8z"}),o.a.createElement("path",{fill:"#88B1C9",d:"M388.7 269c-.5.6-1.1 1.1-2 1.4L369 236.1l-17.2 24.4 6.3 9.8c-.7-.1-1.4-.3-1.9-.3l-32.7-45.9-34.1 52.4-1.8-1.5-.3-.3 36.2-54.7 26.6 38.4 19.2-26.9 19.4 37.5z"}),o.a.createElement("path",{fill:"#C1D831",d:"M399.1 294.6c-16.8 2.2-26.4 10.1-34.1 15.7-8.1 6-12.4 5.7-20.8 6.3-2.1.1-4.1.1-6.1-.3l-6.8-42.4c6.3-1.6 21.8-3.1 28.4 1.3L356 270s-1-.2 0 0l19.4 27.3-2.7-25.4c5.5.3 10.8.1 13.9-1.4l12.5 24.1z"}),o.a.createElement("path",{fill:"#88B1C9",d:"M375.5 297.3L356.1 270c.5.1 1.1.2 1.9.3l17.5 27z"}),o.a.createElement("path",{fill:"#6EA469",d:"M411.7 318.9l-36.2 3.6-31.8 28.5-5.5-34.6c1.9.3 4 .4 6.1.3 8.5-.6 12.7-.3 20.8-6.3 7.7-5.7 17.3-13.5 34.1-15.7l12.5 24.2z"}),o.a.createElement("path",{fill:"#829D3B",d:"M401.8 294.2l-2.6.3-12.4-24c.8-.4 1.6-.9 2-1.4l13 25.1z"}),o.a.createElement("path",{fill:"#507F4F",d:"M415.2 320.3l-38.1 7.7-32.8 26-46.8-24.6-42.4-5.5 17-25.9c1.1.1 2.4 0 3.4-.1l-15.1 23.2 37.3 4.4 46.1 25.5 31.8-28.5 36.2-3.6-12.5-24.4c.8-.1 1.8-.3 2.6-.3l13.3 26.1z"}),o.a.createElement("path",{fill:"#789226",d:"M289.4 276.5L275.5 298c-1 .1-2.2.1-3.4.1l15.3-23.2.3.3c.5.3 1.1.8 1.7 1.3z"}),o.a.createElement("linearGradient",{id:"a",x1:"143.62",x2:"176.32",y1:"109.89",y2:"109.89"},o.a.createElement("stop",{offset:"0",stopColor:"#789226"}),o.a.createElement("stop",{offset:"1",stopColor:"#C1D831"})),o.a.createElement("path",{fill:"url(#a)",d:"M338.2 316.3c-5.8-.8-11-3.4-15.5-5.9-6-3.3-8.3-4.7-20.8-9.7-12.5-4.9-22.6-3.1-23-3.1-.2 0-1.6.2-3.4.3l13.9-21.5c14 10.2 38.3-1.3 38.3-1.5 0-.1 1.4-.5 3.7-1.1l6.8 42.5z"}),o.a.createElement("linearGradient",{id:"b",x1:"186.53",x2:"197.34",y1:"86.37",y2:"92.61"},o.a.createElement("stop",{offset:"0",stopColor:"#8ECEF3"}),o.a.createElement("stop",{offset:".05",stopColor:"#A4D8F5"}),o.a.createElement("stop",{offset:".13",stopColor:"#C0E4F8"}),o.a.createElement("stop",{offset:".22",stopColor:"#D7EEFB"}),o.a.createElement("stop",{offset:".33",stopColor:"#E9F6FD"}),o.a.createElement("stop",{offset:".45",stopColor:"#F6FBFE"}),o.a.createElement("stop",{offset:".62",stopColor:"#FDFEFF"}),o.a.createElement("stop",{offset:"1",stopColor:"#FFF"})),o.a.createElement("path",{fill:"url(#b)",d:"M372.8 271.9c-5.5-.3-11.3-1-14.8-1.6l-6.3-9.8 17.3-24.4 3.8 35.8z"}),o.a.createElement("linearGradient",{id:"c",x1:"186.66",x2:"195.78",y1:"104.01",y2:"104.01"},o.a.createElement("stop",{offset:"0",stopColor:"#789226"}),o.a.createElement("stop",{offset:".14",stopColor:"#90A92A"}),o.a.createElement("stop",{offset:".3",stopColor:"#A6BE2D"}),o.a.createElement("stop",{offset:".49",stopColor:"#B5CD2F"}),o.a.createElement("stop",{offset:".7",stopColor:"#BED531"}),o.a.createElement("stop",{offset:"1",stopColor:"#C1D831"})),o.a.createElement("path",{fill:"url(#c)",d:"M375.5 297.3l-17.5-27c3.5.5 9.2 1.3 14.8 1.6l2.7 25.4z"}),o.a.createElement("path",{fill:"#FFF",d:"M386.7 270.5c-3.1 1.4-8.5 1.6-13.9 1.4l-3.9-35.7 17.8 34.3z"}),o.a.createElement("linearGradient",{id:"d",x1:"159",x2:"174.85",y1:"86.16",y2:"95.31"},o.a.createElement("stop",{offset:"0",stopColor:"#8ECEF3"}),o.a.createElement("stop",{offset:".05",stopColor:"#A4D8F5"}),o.a.createElement("stop",{offset:".13",stopColor:"#C0E4F8"}),o.a.createElement("stop",{offset:".22",stopColor:"#D7EEFB"}),o.a.createElement("stop",{offset:".33",stopColor:"#E9F6FD"}),o.a.createElement("stop",{offset:".45",stopColor:"#F6FBFE"}),o.a.createElement("stop",{offset:".62",stopColor:"#FDFEFF"}),o.a.createElement("stop",{offset:"1",stopColor:"#FFF"})),o.a.createElement("path",{fill:"url(#d)",d:"M331.4 273.9c-2.3.5-3.7 1-3.7 1.1 0 .1-24.3 11.8-38.3 1.5l34.1-52.4 7.9 49.8z"}),o.a.createElement("path",{fill:"#FFF",d:"M359.9 275.1c-6.5-4.3-22.1-2.8-28.4-1.3l-8-49.9 32.7 45.9c-1-.2 0 0 0 0l3.7 5.3z"}),o.a.createElement("linearGradient",{id:"e",x1:"135.77",x2:"179.2",y1:"125.04",y2:"125.04"},o.a.createElement("stop",{offset:"0",stopColor:"#507F4F"}),o.a.createElement("stop",{offset:"1",stopColor:"#6EA469"})),o.a.createElement("path",{fill:"url(#e)",d:"M343.7 351l-46.1-25.5-37.3-4.4 15.1-23.2c1.8-.1 3.2-.3 3.4-.3.5 0 10.6-1.8 23 3.1s14.8 6.3 20.8 9.7c4.5 2.5 9.7 5.1 15.5 5.9l5.6 34.7z"}),o.a.createElement(Jf,{x:302,y:265},s.display),o.a.createElement(Jf,{x:291,y:293},l.display),o.a.createElement(Jf,{x:269,y:320},u.display),o.a.createElement(Kf,{showTravelAdvice:r,expandable:a},We()(zf,(function(e){return o.a.createElement(Yf,{key:e,rating:i[e].rating,elevation:{value:e,display:i[e].display}})}))))}var td=r(57),rd=r.n(td),nd=r(315),ad=r.n(nd);function id(e){var t=e.date,r=e.mountain,n=v()(e,["date","mountain"]),a=_a({width:window.innerWidth}),i=Ce()(a,2),s=i[0].width,l=i[1];return o.a.createElement("section",{ref:l,className:rd.a.Day},o.a.createElement("header",{className:rd.a.Title},o.a.createElement(kf,{value:t.value},t.display)),r&&s>400?o.a.createElement(ed,_e()({},n,{showTravelAdvice:s>600,showExtraInformation:s>650})):o.a.createElement(od,n))}function od(e){return We()(zf,(function(t){var r=e[t].rating;return t={value:t,display:e[t].display},o.a.createElement(sd,{key:t,rating:r,elevation:t})}))}function sd(e){var t=e.rating,r=e.elevation,n=Ye()(rd.a.Rating,Bi.a[t.value]),a=Ye()(rd.a.Elevation,ad.a[r.value]);return o.a.createElement("div",{className:rd.a.Row},o.a.createElement("div",{className:a},r.display),o.a.createElement("div",{className:n},t.display))}function ld(e){var t=e.children;return be()(i.Children).call(i.Children,t,(function(e,t){return Object(i.cloneElement)(e,{mountain:0===t})}))}function ud(){var e,t=h();return(null==t?void 0:t.dangerRatings)?o.a.createElement(ld,null,be()(e=t.dangerRatings).call(e,(function(e,t){var r=e.date,n=e.ratings;return o.a.createElement(id,_e()({key:t,date:r},n))}))):null}var cd=r(316),pd="offseason",hd="spring-situation",fd="early-season",dd=new Ma.a([pd,hd,fd]);function yd(e){var t;return(t=pr(),Object(i.useMemo)((function(){return new Be.a([[pd,t.formatMessage({id:"ei59iy",defaultMessage:[{type:0,value:"Off season"}]})],[hd,t.formatMessage({id:"M/Tq3r",defaultMessage:[{type:0,value:"Spring Conditions"}]})],[fd,t.formatMessage({id:"a2JuFd",defaultMessage:[{type:0,value:"Early Season Conditions"}]})]])}),[t])).get(e)}function vd(){var e=p(),t=h(),r=yd(null==e?void 0:e.type);if(!dd.has(null==e?void 0:e.type))return null;var n=e.type,a=t.message,i=t.comment;return o.a.createElement("div",{className:rd.a.Condition},o.a.createElement("h2",{className:rd.a.ConditionHeader},r),o.a.createElement("img",{className:rd.a.ConditionIcon,title:r,alt:r,src:gd.get(n)}),o.a.createElement("div",{className:rd.a.ConditionContent},o.a.createElement(ss,null,a)),o.a.createElement(ss,null,i))}var md=cd.a+"images/",gd=new Be.a([[fd,md+"early_season_icon.svg"],[hd,md+"spring_situation_icon.svg"],[pd,md+"summer_conditions_icon.svg"]]);function _d(){var e,t=h(),r=pr();if(!(null==t?void 0:t.terrainAndTravelAdvice))return null;var n=r.formatMessage({id:"KF5ERp",defaultMessage:[{type:0,value:"Travel and Terrain Advice"}]});return o.a.createElement(Cf,{title:n},o.a.createElement("ul",null,be()(e=t.terrainAndTravelAdvice).call(e,(function(e){return o.a.createElement("li",{key:e},e)}))))}var xd=r(72),bd=r.n(xd);function wd(){var e=h().problems;return 0===e.length?o.a.createElement("h3",null,o.a.createElement(Gr,{id:"4X9D7R",defaultMessage:[{type:0,value:"No problems identified."}]})):be()(e).call(e,(function(e,t){return o.a.createElement(Cd,_e()({key:e.type.value},e,{counter:t+1}))}))}function Md(e){var t,r=e.title,n=e.children,a=_a({width:window.innerWidth}),i=Ce()(a,2),s=i[0].width,l=i[1],u=Ye()(bd.a.Container,(t={},Kn()(t,bd.a.Half,s>300&&s<675),Kn()(t,bd.a.Quarter,s>=675),t));return o.a.createElement("section",{ref:l,className:u},o.a.createElement("h2",{className:bd.a.Header},r),n)}function Ed(e){var t=e.children;return o.a.createElement("div",{className:bd.a.Advice},o.a.createElement("h3",{className:bd.a.SubHeader},o.a.createElement(Gr,{id:"KF5ERp",defaultMessage:[{type:0,value:"Travel and Terrain Advice"}]})),o.a.createElement(ss,null,t))}function Sd(e){var t=e.children;return o.a.createElement(ss,{className:bd.a.Comment},t)}function Td(e){var t=e.title,r=e.src,n=e.alt;return o.a.createElement("figure",{className:bd.a.Figure},o.a.createElement("figcaption",null,t),o.a.createElement("div",null,o.a.createElement("img",{src:r,alt:n})))}function Cd(e){var t=e.type,r=e.factors,n=e.comment,a=e.travelAndTerrainAdvice,i=e.counter,s={name:t.display,counter:String(i)},l=o.a.createElement(Gr,{id:"82wRfY",defaultMessage:[{type:0,value:"Avalanche Problem "},{type:1,value:"counter"},{type:0,value:": "},{type:1,value:"name"}],values:s});return o.a.createElement(Md,{title:l},be()(r).call(r,(function(e){var t=e.type,r=e.graphic;return o.a.createElement(Td,{key:t.value,title:t.display,src:r.url,alt:t.display})})),o.a.createElement(Sd,null,n),a&&o.a.createElement(Ed,null,a))}function Id(e){var t=e.onTabChange,r=void 0===t?Ra.a:t;return o.a.createElement(qu,{onTabChange:r},o.a.createElement(Yu,null,o.a.createElement(Zu,null,o.a.createElement(Gr,{id:"9EpKuG",defaultMessage:[{type:0,value:"Danger ratings"}]})),o.a.createElement(Zu,null,o.a.createElement(Gr,{id:"r5IMiF",defaultMessage:[{type:0,value:"Problems"}]})),o.a.createElement(Zu,null,o.a.createElement(Gr,{id:"5vzyAa",defaultMessage:[{type:0,value:"Details"}]}))),o.a.createElement(Wu,null,o.a.createElement(Gu,null,o.a.createElement(vd,null),o.a.createElement(ud,null),o.a.createElement(_d,null)),o.a.createElement(Gu,null,o.a.createElement(wd,null)),o.a.createElement(Gu,null,o.a.createElement(If,null),o.a.createElement(Af,null))))}function Ad(){return o.a.createElement(Jh,{uid:"forecast-info-avalanche-quebec"},o.a.createElement(nf,{type:lu}))}function kd(){var e=h();return(null==e?void 0:e.isFullTranslation)?null:o.a.createElement(fi,null,o.a.createElement(pu,null,o.a.createElement("p",null,"Les prévisions d'avalanches ne sont pas complètement traduites."),o.a.createElement("p",null,"Vous pouvez consulter ces prévisions d'avalanches en:"),o.a.createElement(ai,null,o.a.createElement(di,null))))}function Ld(){var e;switch(p().owner.value){case l:e=i.createElement(Ad,null);break;default:e=i.createElement(kd,null)}return i.createElement(iu,{top:!0},e)}function Dd(e){var t=p();switch(null==t?void 0:t.owner.value){case s:return o.a.createElement(vi,e);case l:return o.a.createElement(mi,e);default:return o.a.createElement(yi,e)}}function Pd(){var e=p();switch(null==e?void 0:e.owner.value){case l:return o.a.createElement(df,null,o.a.createElement(gf,{uid:"areas-covered-bulletin"}),o.a.createElement(_f,null),o.a.createElement(mf,{uid:"forecast-disclaimer-avalanche-quebec"}));default:return o.a.createElement(df,null)}}r(317),r(318);r.d(t,"Forecasts",(function(){return zd})),r.d(t,"Intl",(function(){return n}));var zd=a}]);